/*! For license information please see main.9bb976b2.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?a:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<a.length;++y){var g=a[y];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!u||!u[g])){var m=h(n,g);try{c(t,g,m)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case u:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return k(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||k(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return k(e)===c},t.isContextProvider=function(e){return k(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return k(e)===h},t.isFragment=function(e){return k(e)===o},t.isLazy=function(e){return k(e)===y},t.isMemo=function(e){return k(e)===v},t.isPortal=function(e){return k(e)===i},t.isProfiler=function(e){return k(e)===u},t.isStrictMode=function(e){return k(e)===a},t.isSuspense=function(e){return k(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===u||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===m||e.$$typeof===b||e.$$typeof===w||e.$$typeof===g)},t.typeOf=k},309:function(e,t,n){"use strict";e.exports=n(746)},348:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function y(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),s(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),s(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),u(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),u(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),u(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),u(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=y,Object.defineProperty(e,"__esModule",{value:!0})}(t)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,u,s=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(s[l]=a[l]);if(t){u=t(a);for(var f=0;f<u.length;f++)r.call(a,u[f])&&(s[u[f]]=a[u[f]])}}return s}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),o=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,b);g[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,b);g[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,b);g[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,S=60106,E=60107,_=60108,I=60114,T=60109,C=60110,A=60112,R=60113,O=60120,P=60115,N=60116,D=60121,M=60128,L=60129,F=60130,B=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;x=j("react.element"),S=j("react.portal"),E=j("react.fragment"),_=j("react.strict_mode"),I=j("react.profiler"),T=j("react.provider"),C=j("react.context"),A=j("react.forward_ref"),R=j("react.suspense"),O=j("react.suspense_list"),P=j("react.memo"),N=j("react.lazy"),D=j("react.block"),j("react.scope"),M=j("react.opaque.id"),L=j("react.debug_trace_mode"),F=j("react.offscreen"),B=j("react.legacy_hidden")}var V,U="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=U&&e[U]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var G=!1;function W(e,t){if(!e||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,u=o.length-1;1<=a&&0<=u&&i[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==o[u]){if(1!==a||1!==u)do{if(a--,0>--u||i[a]!==o[u])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=u);break}}}finally{G=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function H(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case I:return"Profiler";case _:return"StrictMode";case R:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return K(e.type);case D:return K(e._render);case N:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,ge=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ke(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ae=null;function Re(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Te(e.stateNode,e.type,t))}}function Oe(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Ne(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Me(){}var Le=Ne,Fe=!1,Be=!1;function je(){null===Ce&&null===Ae||(Me(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ue=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ye){Ue=!1}function qe(e,t,n,r,i,o,a,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ge=!1,We=null,He=!1,Ke=null,Qe={onError:function(e){Ge=!0,We=e}};function $e(e,t,n,r,i,o,a,u,s){Ge=!1,We=null,qe.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(a(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){mt(e)&&n.delete(t)}function wt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==ut&&mt(ut)&&(ut=null),null!==st&&mt(st)&&(st=null),null!==ct&&mt(ct)&&(ct=null),lt.forEach(bt),ft.forEach(bt)}function kt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function xt(e){function t(t){return kt(t,e)}if(0<at.length){kt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&kt(ut,e),null!==st&&kt(st,e),null!==ct&&kt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},_t={},It={};function Tt(e){if(_t[e])return _t[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return _t[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=Tt("animationend"),At=Tt("animationiteration"),Rt=Tt("animationstart"),Ot=Tt("transitionend"),Pt=new Map,Nt=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Nt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Ft(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Bt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,u=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!==(o=134217727&n)){var s=o&~a;0!==s?(r=Ft(s),i=Lt):0!==(u&=o)&&(r=Ft(u),i=Lt)}else 0!==(o=n&~a)?(r=Ft(o),i=Lt):0!==u&&(r=Ft(u),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Gt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Ft(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Gt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?Vt(10,t):e;case 10:return 0===(e=Ut(192&~t))?Vt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&(0===(e=Ut(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Ut(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Gt(t)]=n}var Gt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2;var Kt=o.unstable_UserBlockingPriority,Qt=o.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Fe||Me();var i=Jt,o=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=o)||je()}}function Xt(e,t,n,r){Qt(Kt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Zt(e,t,n,r);if(null===o)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,yt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ft.set(o,yt(ft.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;vt(e,r)}Mr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var o=Ye(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Mr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=sn(yn),mn=sn(i({},yn,{dataTransfer:0})),bn=sn(i({},pn,{relatedTarget:0})),wn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),kn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(kn),Sn=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Cn(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rn=sn(An),On=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=sn(Dn),Ln=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Bn=null;f&&"documentMode"in document&&(Bn=document.documentMode);var jn=f&&"TextEvent"in window&&!Bn,Vn=f&&(!Fn||Bn&&8<Bn&&11>=Bn),Un=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,r){Oe(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Xn(e){Ar(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",or),Yn=$n=null)}function or(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(Qn(t,Yn,e,Ie(e)),e=Xn,Fe)e(t);else{Fe=!0;try{Ne(e,t)}finally{Fe=!1,je()}}}}function ar(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=f&&"documentMode"in document&&11>=document.documentMode,br=null,wr=null,kr=null,xr=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==br||br!==J(r)||("selectionStart"in(r=br)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},kr&&hr(kr,r)||(kr=r,0<(r=Fr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<Er.length;_r++)Nt.set(Er[_r],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if($e.apply(this,arguments),Ge){if(!Ge)throw Error(a(198));var l=We;Ge=!1,We=null,He||(He=!0,Ke=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var u=r[a],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==o&&i.isPropagationStopped())break e;Cr(i,u,c),o=s}else for(a=0;a<r.length;a++){if(s=(u=r[a]).instance,c=u.currentTarget,u=u.listener,s!==o&&i.isPropagationStopped())break e;Cr(i,u,c),o=s}}}if(He)throw e=Ke,He=!1,Ke=null,e}function Rr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Or]||(e[Or]=!0,u.forEach((function(t){Tr.has(t)||Nr(t,!1,e,null),Nr(t,!0,e,null)})))}function Nr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),u=e+"__"+(t?"capture":"bubble");a.has(u)||(t&&(i|=4),Dr(o,e,i,t),a.add(u))}function Dr(e,t,n,r){var i=Nt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==u;){if(null===(a=ni(u)))return;if(5===(s=a.tag)||6===s){r=o=a;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Be)return e(t,n);Be=!0;try{Le(e,t,n)}finally{Be=!1,je()}}((function(){var r=o,i=Ie(n),a=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":s=Rn;break;case"focusin":c="focus",s=bn;break;case"focusout":c="blur",s=bn;break;case"beforeblur":case"afterblur":s=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Ct:case At:case Rt:s=wn;break;case Ot:s=Nn;break;case"scroll":s=vn;break;case"wheel":s=Mn;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Lr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),a.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=gn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Br(d))p++;for(d=0,v=h;v;v=Br(v))d++;for(;0<p-d;)l=Br(l),p--;for(;0<d-p;)h=Br(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Br(l),h=Br(h)}l=null}else l=null;null!==s&&jr(a,u,s,l,!1),null!==c&&null!==f&&jr(a,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Zn;else if(Kn(u))if(er)y=cr;else{y=ur;var g=ar}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=sr);switch(y&&(y=y(e,r))?Qn(a,y,n,i):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&ie(u,"number",u.value)),g=r?ii(r):window,e){case"focusin":(Kn(g)||"true"===g.contentEditable)&&(br=g,wr=r,kr=null);break;case"focusout":kr=wr=br=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Sr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Sr(a,n,i)}var m;if(Fn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(m=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(g=Fr(r,b)).length&&(b=new Sn(b,e,null,n,i),a.push({event:b,listeners:g}),m?b.data=m:null!==(m=Gn(n))&&(b.data=m))),(m=jn?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(zn=!0,Un);case"textInput":return(e=t.data)===Un&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Ar(a,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ve(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=Ve(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function Br(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,o))&&a.unshift(Lr(n,s,u)):i||null!=(s=Ve(n,o))&&a.push(Lr(n,s,u))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Vr(){}var Ur=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Gr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Kr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Zr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){li(pi),li(di)}function bi(e,t,n){if(di.current!==hi)throw Error(a(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,K(t)||"Unknown",o));return i({},n,r)}function ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Si=null,Ei=null,_i=o.unstable_runWithPriority,Ii=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Ai=o.unstable_requestPaint,Ri=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Pi=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,Mi=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Fi={},Bi=void 0!==Ai?Ai:function(){},ji=null,Vi=null,Ui=!1,zi=Ri(),qi=1e4>zi?Ri:function(){return Ri()-zi};function Gi(){switch(Oi()){case Pi:return 99;case Ni:return 98;case Di:return 97;case Mi:return 96;case Li:return 95;default:throw Error(a(332))}}function Wi(e){switch(e){case 99:return Pi;case 98:return Ni;case 97:return Di;case 96:return Mi;case 95:return Li;default:throw Error(a(332))}}function Hi(e,t){return e=Wi(e),_i(e,t)}function Ki(e,t,n){return e=Wi(e),Ii(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}$i()}function $i(){if(!Ui&&null!==ji){Ui=!0;var e=0;try{var t=ji;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Ii(Pi,Qi),n}finally{Ui=!1}}}var Yi=k.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,eo=null,to=null;function no(){to=eo=Zi=null}function ro(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Zi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fa=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Zi)throw Error(a(308));eo=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var uo=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;uo=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?a=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(h=o.baseState,u=0,f=l=c=null;;){s=a.lane;var d=a.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:uo=!0}}null!==a.callback&&(e.flags|=32,null===(s=o.effects)?o.effects=[a]:s.push(a))}else d={eventTime:d,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(a=a.next)){if(null===(s=o.shared.pending))break;a=s.next,s.next=null,o.lastBaseUpdate=s,o.shared.pending=null}}null===f&&(c=h),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,Uu|=u,e.lanes=u,e.memoizedState=h}}function vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var yo=(new r.Component).refs;function go(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fo(e,i),ps(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,o))}function wo(e,t,n){var r=!1,i=hi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=gi(t)?vi:di.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function xo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=yo,so(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=gi(t)?vi:di.current,i.context=yi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&mo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function Eo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===yo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function _o(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Io(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hs(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Eo(e,t,n),r.return=e,r):((r=Ks(n.type,n.key,n.props,null,e.mode,r)).ref=Eo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ks(t.type,t.key,t.props,null,e.mode,n)).ref=Eo(e,null,t),n.return=e,n;case S:return(t=Xs(t,e.mode,n)).return=e,t}if(So(t)||z(t))return(t=Qs(t,e.mode,n,null)).return=e,t;_o(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null}if(So(n)||z(n))return null!==i?null:f(e,t,n,r,null);_o(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);_o(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var g=d(i,f,u[v],s);if(null===g){null===f&&(f=y);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,u,s,c){var l=z(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,g=null,m=s.next();null!==v&&!m.done;y++,m=s.next()){v.index>y?(g=v,v=null):g=v.sibling;var b=d(i,v,m.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,y),null===f?l=b:f.sibling=b,f=b,v=g}if(m.done)return n(i,v),l;if(null===v){for(;!m.done;y++,m=s.next())null!==(m=h(i,m.value,c))&&(u=o(m,u,y),null===f?l=m:f.sibling=m,f=m);return l}for(v=r(i,v);!m.done;y++,m=s.next())null!==(m=p(v,i,y,m.value,c))&&(e&&null!==m.alternate&&v.delete(null===m.key?y:m.key),u=o(m,u,y),null===f?l=m:f.sibling=m,f=m);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,o,s){var c="object"===typeof o&&null!==o&&o.type===E&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case x:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===E){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=Eo(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===E?((r=Qs(o.props.children,e.mode,s,o.key)).return=e,e=r):((s=Ks(o.type,o.key,o.props,null,e.mode,s)).ref=Eo(e,r,o),s.return=e,e=s)}return u(e);case S:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xs(o,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Ys(o,e.mode,s)).return=e,e=r),u(e);if(So(o))return v(e,r,o,s);if(z(o))return y(e,r,o,s);if(l&&_o(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,K(e.type)||"Component"))}return n(e,r)}}var To=Io(!0),Co=Io(!1),Ao={},Ro=ci(Ao),Oo=ci(Ao),Po=ci(Ao);function No(e){if(e===Ao)throw Error(a(174));return e}function Do(e,t){switch(fi(Po,t),fi(Oo,e),fi(Ro,Ao),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ro),fi(Ro,t)}function Mo(){li(Ro),li(Oo),li(Po)}function Lo(e){No(Po.current);var t=No(Ro.current),n=pe(t,e.type);t!==n&&(fi(Oo,e),fi(Ro,n))}function Fo(e){Oo.current===e&&(li(Ro),li(Oo))}var Bo=ci(0);function jo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vo=null,Uo=null,zo=!1;function qo(e,t){var n=Gs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Go(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wo(e){if(zo){var t=Uo;if(t){var n=t;if(!Go(e,t)){if(!(t=Qr(n.nextSibling))||!Go(e,t))return e.flags=-1025&e.flags|2,zo=!1,void(Vo=e);qo(Vo,n)}Vo=e,Uo=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,zo=!1,Vo=e}}function Ho(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Vo=e}function Ko(e){if(e!==Vo)return!1;if(!zo)return Ho(e),zo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Gr(t,e.memoizedProps))for(t=Uo;t;)qo(e,t),t=Qr(t.nextSibling);if(Ho(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Uo=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Uo=null}}else Uo=Vo?Qr(e.stateNode.nextSibling):null;return!0}function Qo(){Uo=Vo=null,zo=!1}var $o=[];function Yo(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var Xo=k.ReactCurrentDispatcher,Jo=k.ReactCurrentBatchConfig,Zo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function ua(e,t,n,r,i,o){if(Zo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xo.current=null===e||null===e.memoizedState?Na:Da,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Xo.current=Ma,e=n(r,i)}while(ia)}if(Xo.current=Pa,t=null!==ta&&null!==ta.next,Zo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function la(e,t){return"function"===typeof t?t(e):t}function fa(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=o=null,c=i;do{var l=c.lane;if((Zo&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,o=r):s=s.next=f,ea.lanes|=l,Uu|=l}c=c.next}while(null!==c&&c!==i);null===s?o=r:s.next=u,lr(r,t.memoizedState)||(Fa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ha(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);lr(o,t.memoizedState)||(Fa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function da(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Zo&e)===e)&&(t._workInProgressVersionPrimary=r,$o.push(t))),e)return n(t._source);throw $o.push(t),Error(a(350))}function pa(e,t,n,r){var i=Nu;if(null===i)throw Error(a(349));var o=t._getVersion,u=o(t._source),s=Xo.current,c=s.useState((function(){return da(i,t,n)})),l=c[1],f=c[0];c=na;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=ea;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var s=31-Gt(a),c=1<<s;r[s]|=e,a&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(y);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:f}).dispatch=l=Oa.bind(null,ea,e),c.queue=e,c.baseQueue=null,f=da(i,t,n),c.memoizedState=c.baseState=f),f}function va(e,t,n){return pa(ca(),e,t,n)}function ya(e){var t=sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Oa.bind(null,ea,e),[t.memoizedState,e]}function ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(e){return e={current:e},sa().memoizedState=e}function ba(){return ca().memoizedState}function wa(e,t,n,r){var i=sa();ea.flags|=e,i.memoizedState=ga(1|t,n,void 0,void 0===r?null:r)}function ka(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ga(t,n,o,r)}ea.flags|=e,i.memoizedState=ga(1|t,n,o,r)}function xa(e,t){return wa(516,4,e,t)}function Sa(e,t){return ka(516,4,e,t)}function Ea(e,t){return ka(4,2,e,t)}function _a(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ia(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ka(4,2,_a.bind(null,t,e),n)}function Ta(){}function Ca(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Aa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ra(e,t){var n=Gi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Oa(e,t,n){var r=hs(),i=ds(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=a(u,n);if(o.eagerReducer=a,o.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Pa={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Na={readContext:ao,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:xa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,_a.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wa(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oa.bind(null,ea,e),[r.memoizedState,e]},useRef:ma,useState:ya,useDebugValue:Ta,useDeferredValue:function(e){var t=ya(e),n=t[0],r=t[1];return xa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ya(!1),t=e[0];return ma(e=Ra.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=sa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(zo){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(a(355))})),n=ya(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ga(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return ya(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:Ca,useContext:ao,useEffect:Sa,useImperativeHandle:Ia,useLayoutEffect:Ea,useMemo:Aa,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:Ta,useDeferredValue:function(e){var t=fa(la),n=t[0],r=t[1];return Sa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=fa(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},Ma={readContext:ao,useCallback:Ca,useContext:ao,useEffect:Sa,useImperativeHandle:Ia,useLayoutEffect:Ea,useMemo:Aa,useReducer:ha,useRef:ba,useState:function(){return ha(la)},useDebugValue:Ta,useDeferredValue:function(e){var t=ha(la),n=t[0],r=t[1];return Sa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ha(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return ha(la)[0]},unstable_isNewReconciler:!1},La=k.ReactCurrentOwner,Fa=!1;function Ba(e,t,n,r){t.child=null===e?Co(t,null,n,r):To(t,e.child,n,r)}function ja(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=ua(e,t,n,r,o,i),null===e||Fa?(t.flags|=1,Ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ou(e,t,i))}function Va(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Ws(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ks(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ua(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?ou(e,t,o):(t.flags|=1,(e=Hs(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ua(e,t,n,r,i,o){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fa=!1,0===(o&i))return t.lanes=e.lanes,ou(e,t,o);0!==(16384&e.flags)&&(Fa=!0)}return Ga(e,t,n,r,o)}function za(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Ba(e,t,i,n),t.child}function qa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ga(e,t,n,r,i){var o=gi(n)?vi:di.current;return o=yi(t,o),oo(t,i),n=ua(e,t,n,r,o,i),null===e||Fa?(t.flags|=1,Ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ou(e,t,i))}function Wa(e,t,n,r,i){if(gi(n)){var o=!0;ki(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wo(t,n,r),xo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,u=t.memoizedProps;a.props=u;var s=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=yi(t,c=gi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==r||s!==c)&&ko(t,a,r,c),uo=!1;var h=t.memoizedState;a.state=h,po(t,r,a,i),s=t.memoizedState,u!==r||h!==s||pi.current||uo?("function"===typeof l&&(go(t,n,l,r),s=t.memoizedState),(u=uo||bo(t,n,u,r,h,s,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=c,r=u):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Xi(t.type,u),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(s=n.contextType)&&null!==s?s=ao(s):s=yi(t,s=gi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==f||h!==s)&&ko(t,a,r,s),uo=!1,h=t.memoizedState,a.state=h,po(t,r,a,i);var p=t.memoizedState;u!==f||h!==p||pi.current||uo?("function"===typeof d&&(go(t,n,d,r),p=t.memoizedState),(c=uo||bo(t,n,c,r,h,p,s))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=s,r=c):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ha(e,t,n,r,o,i)}function Ha(e,t,n,r,i,o){qa(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&xi(t,n,!1),ou(e,t,o);r=t.stateNode,La.current=t;var u=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=To(t,e.child,null,o),t.child=To(t,null,u,o)):Ba(e,t,u,o),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Ka(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Do(e,t.containerInfo)}var Qa,$a,Ya,Xa={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,o=Bo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),fi(Bo,1&o),null===e?(void 0!==i.fallback&&Wo(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,e):"number"===typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,t.lanes=33554432,e):((n=$s({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=tu(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Xa,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=$s(t,i,0,null),n=Qs(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Hs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var u={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=u,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hs(a,u),null!==e?r=Hs(e,r):(r=Qs(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function ru(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ba(e,t,r.children,n),0!==(2&(r=Bo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Bo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===jo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===jo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,o,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ou(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Uu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Hs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function au(e,t){if(!zo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&mi(),null;case 3:return Mo(),li(pi),li(di),Yo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ko(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Fo(t);var o=No(Po.current);if(n=t.type,null!==e&&null!=t.stateNode)$a(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=No(Ro.current),Ko(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Zr]=u,n){case"dialog":Rr("cancel",r),Rr("close",r);break;case"iframe":case"object":case"embed":Rr("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Rr(Ir[e],r);break;case"source":Rr("error",r);break;case"img":case"image":case"link":Rr("error",r),Rr("load",r);break;case"details":Rr("toggle",r);break;case"input":ee(r,u),Rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Rr("invalid",r);break;case"textarea":se(r,u),Rr("invalid",r)}for(var c in Ee(n,u),e=null,u)u.hasOwnProperty(c)&&(o=u[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):s.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Rr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qa(e,t),t.stateNode=e,c=_e(n,r),n){case"dialog":Rr("cancel",e),Rr("close",e),o=r;break;case"iframe":case"object":case"embed":Rr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ir.length;o++)Rr(Ir[o],e);o=r;break;case"source":Rr("error",e),o=r;break;case"img":case"image":case"link":Rr("error",e),Rr("load",e),o=r;break;case"details":Rr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Rr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Rr("invalid",e);break;case"textarea":se(e,r),o=ue(e,r),Rr("invalid",e);break;default:o=r}Ee(n,o);var l=o;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&me(e,f):"number"===typeof f&&me(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Rr("scroll",e):null!=f&&w(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?ae(e,!!r.multiple,u,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ya(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=No(Po.current),No(Ro.current),Ko(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Bo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ko(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Bo.current)?0===Bu&&(Bu=3):(0!==Bu&&3!==Bu||(Bu=4),null===Nu||0===(134217727&Uu)&&0===(134217727&zu)||ms(Nu,Mu))),(r||n)&&(t.flags|=4),null);case 4:return Mo(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(li(Bo),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)au(r,!1);else{if(0!==Bu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=jo(e))){for(t.flags|=64,au(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Bo,1&Bo.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Hu&&(t.flags|=64,u=!0,au(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=jo(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),au(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!zo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=64,u=!0,au(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Bo.current,fi(Bo,u?1&t|2:1&t),n):null;case 23:case 24:return Ss(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function su(e){switch(e.tag){case 1:gi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Mo(),li(pi),li(di),Yo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Fo(e),null;case 13:return li(Bo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Bo),null;case 4:return Mo(),null;case 10:return ro(e),null;case 23:case 24:return Ss(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$a=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,No(Ro.current);var a,u=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),u=[];break;case"option":o=oe(e,o),r=oe(e,r),u=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":o=ue(e,o),r=ue(e,r),u=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Rr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===M?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Ya=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Xu=r),lu(0,t)},n}function du(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function yu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Kr(t.stateNode.containerInfo))}throw Error(a(163))}function gu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ls(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&vo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}vo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(a(163))}function mu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ke("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bu(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(Si,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(o){Vs(r,o)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Vs(t,o)}break;case 5:vu(t);break;case 4:_u(e,t)}}function wu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ku(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(ku(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ku(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Su(e,n,t):Eu(e,n,t)}function Su(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(Su(e,t,n),e=e.sibling;null!==e;)Su(e,t,n),e=e.sibling}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function _u(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(bu(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bu(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Iu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),_e(e,i),t=_e(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ge(n,s):"children"===u?me(n,s):w(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wu=qi(),mu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void mu(t,null!==t.memoizedState)}throw Error(a(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Ru=k.ReactCurrentDispatcher,Ou=k.ReactCurrentOwner,Pu=0,Nu=null,Du=null,Mu=0,Lu=0,Fu=ci(0),Bu=0,ju=null,Vu=0,Uu=0,zu=0,qu=0,Gu=null,Wu=0,Hu=1/0;function Ku(){Hu=qi()+500}var Qu,$u=null,Yu=!1,Xu=null,Ju=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,os=0,as=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Pu)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Gi()?1:2;if(0===ss&&(ss=Vu),0!==Yi.transition){0!==cs&&(cs=null!==Gu?Gu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Gi(),0!==(4&Pu)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<os)throw os=0,as=null,Error(a(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Nu&&(zu|=t,4===Bu&&ms(e,Mu));var r=Gi();1===t?0!==(8&Pu)&&0===(48&Pu)?bs(e):(ys(e,n),0===Pu&&(Ku(),Qi())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ys(e,n)),Gu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ys(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Gt(u),c=1<<s,l=o[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Lt;o[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Bt(e,e===Nu?Mu:0),t=Lt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=bs.bind(null,e),null===ji?(ji=[n],Vi=Ii(Pi,$i)):ji.push(n),n=Fi):14===t?n=Ki(99,bs.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Ki(n,gs.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gs(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(a(327));var t=e.callbackNode;if(Ms()&&e.callbackNode!==t)return null;var n=Bt(e,e===Nu?Mu:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var o=Is();for(Nu===e&&Mu===r||(Ku(),Es(e,r));;)try{As();break}catch(s){_s(e,s)}if(no(),Ru.current=o,Pu=i,null!==Du?r=0:(Nu=null,Mu=0,r=Bu),0!==(Vu&zu))Es(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(n=jt(e))&&(r=Ts(e,n))),1===r)throw t=ju,Es(e,0),ms(e,n),ys(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ps(e);break;case 3:if(ms(e,n),(62914560&n)===n&&10<(r=Wu+500-qi())){if(0!==Bt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(ms(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Gt(n);o=1<<u,(u=r[u])>i&&(i=u),n&=~o}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=Wr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(a(329))}}return ys(e,qi()),e.callbackNode===t?gs.bind(null,e):null}function ms(e,t){for(t&=~qu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),r=1<<n;e[n]=-1,t&=~r}}function bs(e){if(0!==(48&Pu))throw Error(a(327));if(Ms(),e===Nu&&0!==(e.expiredLanes&Mu)){var t=Mu,n=Ts(e,t);0!==(Vu&zu)&&(n=Ts(e,t=Bt(e,t)))}else n=Ts(e,t=Bt(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(t=jt(e))&&(n=Ts(e,t))),1===n)throw n=ju,Es(e,0),ms(e,t),ys(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ys(e,qi()),null}function ws(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Ku(),Qi())}}function ks(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Ku(),Qi())}}function xs(e,t){fi(Fu,Lu),Lu|=t,Vu|=t}function Ss(){Lu=Fu.current,li(Fu)}function Es(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:Mo(),li(pi),li(di),Yo();break;case 5:Fo(r);break;case 4:Mo();break;case 13:case 19:li(Bo);break;case 10:ro(r);break;case 23:case 24:Ss()}n=n.return}Nu=e,Du=Hs(e.current,null),Mu=Lu=Vu=t,Bu=0,ju=null,qu=zu=Uu=0}function _s(e,t){for(;;){var n=Du;try{if(no(),Xo.current=Pa,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Zo=0,na=ta=ea=null,ia=!1,Ou.current=null,null===n||null===n.return){Bu=1,ju=t,Du=null;break}e:{var o=e,a=n.return,u=n,s=t;if(t=Mu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Bo.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var g=new Set;g.add(c),h.updateQueue=g}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var m=lo(-1,1);m.tag=2,fo(u,m)}u.lanes|=1;break e}s=void 0,u=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new fu,s=new Set,b.set(c,s)):void 0===(s=b.get(c))&&(s=new Set,b.set(c,s)),!s.has(u)){s.add(u);var w=Us.bind(null,o,c,u);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((K(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Bu&&(Bu=2),s=cu(s,u),h=a;do{switch(h.tag){case 3:o=s,h.flags|=4096,t&=-t,h.lanes|=t,ho(h,hu(0,o,t));break e;case 1:o=s;var k=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof k.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ju||!Ju.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ho(h,du(h,o,t));break e}}h=h.return}while(null!==h)}Os(n)}catch(S){t=S,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Is(){var e=Ru.current;return Ru.current=Pa,null===e?Pa:e}function Ts(e,t){var n=Pu;Pu|=16;var r=Is();for(Nu===e&&Mu===t||Es(e,t);;)try{Cs();break}catch(i){_s(e,i)}if(no(),Pu=n,Ru.current=r,null!==Du)throw Error(a(261));return Nu=null,Mu=0,Bu}function Cs(){for(;null!==Du;)Rs(Du)}function As(){for(;null!==Du&&!Ci();)Rs(Du)}function Rs(e){var t=Qu(e.alternate,e,Lu);e.memoizedProps=e.pendingProps,null===t?Os(e):Du=t,Ou.current=null}function Os(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Lu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Lu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Bu&&(Bu=5)}function Ps(e){var t=Gi();return Hi(99,Ns.bind(null,e,t)),null}function Ns(e,t){do{Ms()}while(null!==es);if(0!==(48&Pu))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<o;){var c=31-Gt(o),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,o&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Nu&&(Du=Nu=null,Mu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Ou.current=null,Ur=$t,gr(u=yr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(I){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,g=null;t:for(;;){for(var m;y!==s||0!==o&&3!==y.nodeType||(h=f+o),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(m=y.firstChild);)g=y,y=m;for(;;){if(y===u)break t;if(g===s&&++p===o&&(h=f),g===c&&++v===l&&(d=f),null!==(m=y.nextSibling))break;g=(y=g).parentNode}y=m}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;zr={focusedElem:u,selectionRange:s},$t=!1,ls=null,fs=!1,$u=r;do{try{Ds()}catch(I){if(null===$u)throw Error(a(330));Vs($u,I),$u=$u.nextEffect}}while(null!==$u);ls=null,$u=r;do{try{for(u=e;null!==$u;){var b=$u.flags;if(16&b&&me($u.stateNode,""),128&b){var w=$u.alternate;if(null!==w){var k=w.ref;null!==k&&("function"===typeof k?k(null):k.current=null)}}switch(1038&b){case 2:xu($u),$u.flags&=-3;break;case 6:xu($u),$u.flags&=-3,Iu($u.alternate,$u);break;case 1024:$u.flags&=-1025;break;case 1028:$u.flags&=-1025,Iu($u.alternate,$u);break;case 4:Iu($u.alternate,$u);break;case 8:_u(u,s=$u);var x=s.alternate;wu(s),null!==x&&wu(x)}$u=$u.nextEffect}}catch(I){if(null===$u)throw Error(a(330));Vs($u,I),$u=$u.nextEffect}}while(null!==$u);if(k=zr,w=yr(),b=k.focusedElem,u=k.selectionRange,w!==b&&b&&b.ownerDocument&&vr(b.ownerDocument.documentElement,b)){null!==u&&gr(b)&&(w=u.start,void 0===(k=u.end)&&(k=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(k,b.value.length)):(k=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(k=k.getSelection(),s=b.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!k.extend&&x>u&&(s=u,u=x,x=s),s=pr(b,x),o=pr(b,u),s&&o&&(1!==k.rangeCount||k.anchorNode!==s.node||k.anchorOffset!==s.offset||k.focusNode!==o.node||k.focusOffset!==o.offset)&&((w=w.createRange()).setStart(s.node,s.offset),k.removeAllRanges(),x>u?(k.addRange(w),k.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),k.addRange(w))))),w=[];for(k=b;k=k.parentNode;)1===k.nodeType&&w.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(k=w[b]).element.scrollLeft=k.left,k.element.scrollTop=k.top}$t=!!Ur,zr=Ur=null,e.current=n,$u=r;do{try{for(b=e;null!==$u;){var S=$u.flags;if(36&S&&gu(b,$u.alternate,$u),128&S){w=void 0;var E=$u.ref;if(null!==E){var _=$u.stateNode;$u.tag,w=_,"function"===typeof E?E(w):E.current=w}}$u=$u.nextEffect}}catch(I){if(null===$u)throw Error(a(330));Vs($u,I),$u=$u.nextEffect}}while(null!==$u);$u=null,Bi(),Pu=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for($u=r;null!==$u;)t=$u.nextEffect,$u.nextEffect=null,8&$u.flags&&((S=$u).sibling=null,S.stateNode=null),$u=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===as?os++:(os=0,as=e):os=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(I){}if(ys(e,qi()),Yu)throw Yu=!1,e=Xu,Xu=null,e;return 0!==(8&Pu)||Qi(),null}function Ds(){for(;null!==$u;){var e=$u.alternate;fs||null===ls||(0!==(8&$u.flags)?et($u,ls)&&(fs=!0):13===$u.tag&&Cu(e,$u)&&et($u,ls)&&(fs=!0));var t=$u.flags;0!==(256&t)&&yu(e,$u),0===(512&t)||Zu||(Zu=!0,Ki(97,(function(){return Ms(),null}))),$u=$u.nextEffect}}function Ms(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Hi(e,Bs)}return!1}function Ls(e,t){ns.push(t,e),Zu||(Zu=!0,Ki(97,(function(){return Ms(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Ki(97,(function(){return Ms(),null})))}function Bs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(a(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===o)throw Error(a(330));Vs(o,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===o)throw Error(a(330));Vs(o,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,Qi(),!0}function js(e,t,n){fo(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ys(e,t))}function Vs(e,t){if(3===e.tag)js(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){js(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=cu(t,e),1);if(fo(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ys(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Us(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Mu&n)===n&&(4===Bu||3===Bu&&(62914560&Mu)===Mu&&500>qi()-Wu?Es(e,0):qu|=n),ys(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Gi()?1:2:(0===ss&&(ss=Vu),0===(t=Ut(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ys(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(e,t,n,r){return new qs(e,t,n,r)}function Ws(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hs(e,t){var n=e.alternate;return null===n?((n=Gs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ks(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Ws(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Qs(n.children,i,o,t);case L:u=8,i|=16;break;case _:u=8,i|=1;break;case I:return(e=Gs(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=o,e;case R:return(e=Gs(13,n,t,i)).type=R,e.elementType=R,e.lanes=o,e;case O:return(e=Gs(19,n,t,i)).elementType=O,e.lanes=o,e;case F:return $s(n,i,o,t);case B:return(e=Gs(24,n,t,i)).elementType=B,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case A:u=11;break e;case P:u=14;break e;case N:u=16,r=null;break e;case D:u=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Gs(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Qs(e,t,n,r){return(e=Gs(7,e,r,t)).lanes=n,e}function $s(e,t,n,r){return(e=Gs(23,e,r,t)).elementType=F,e.lanes=n,e}function Ys(e,t,n){return(e=Gs(6,e,null,t)).lanes=n,e}function Xs(e,t,n){return(t=Gs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(gi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(a(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=wi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fo(i,t),ps(i,u,o),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Gs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,so(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(a);u.call(e)}}ec(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}ks((function(){ec(t,a,e,i)}))}return tc(a)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fa=!0;else{if(0===(n&r)){switch(Fa=!1,t.tag){case 3:Ka(t),Qo();break;case 5:Lo(t);break;case 1:gi(t.type)&&ki(t);break;case 4:Do(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(fi(Bo,1&Bo.current),null!==(t=ou(e,t,n))?t.sibling:null);fi(Bo,1&Bo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Bo,Bo.current),r)break;return null;case 23:case 24:return t.lanes=0,za(e,t,n)}return ou(e,t,n)}Fa=0!==(16384&e.flags)}else Fa=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),oo(t,n),i=ua(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;ki(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&go(t,r,u,e),i.updater=mo,t.stateNode=i,i._reactInternals=t,xo(t,r,e,n),t=Ha(null,t,r,!0,o,n)}else t.tag=0,Ba(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Ws(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=Ga(null,t,i,e,n);break e;case 1:t=Wa(null,t,i,e,n);break e;case 11:t=ja(null,t,i,e,n);break e;case 14:t=Va(null,t,i,Xi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ga(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wa(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Ka(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Qo(),t=ou(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Uo=Qr(t.stateNode.containerInfo.firstChild),Vo=t,o=zo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],$o.push(o);for(n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ba(e,t,r,n),Qo();t=t.child}return t;case 5:return Lo(t),null===e&&Wo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Gr(r,i)?u=null:null!==o&&Gr(r,o)&&(t.flags|=16),qa(e,t),Ba(e,t,u,n),t.child;case 6:return null===e&&Wo(t),null;case 13:return Ja(e,t,n);case 4:return Do(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=To(t,null,r,n):Ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ja(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,o=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=o,null!==u)if(s=u.value,0===(o=lr(s,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(u.children===i.children&&!pi.current){t=ou(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===s.tag&&((l=lo(-1,n&-n)).tag=2,fo(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),io(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Ba(e,t,r,n),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),Va(e,t,i,o=Xi(i.type,o),r,n);case 15:return Ua(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,ki(t)):e=!1,oo(t,n),wo(t,r,i),xo(t,r,i,n),Ha(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return za(e,t,n)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Ne=ws,De=function(e,t,n,r,i){var o=Pu;Pu|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Pu=o)&&(Ku(),Qi())}},Me=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ys(e,qi())}))}Qi()}(),Ms())},Le=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Ku(),Qi())}};var sc={Events:[ri,ii,oi,Oe,Pe,Ms,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Si=fc.inject(lc),Ei=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Pu=n,Qi()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(ks((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=ws,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,y=60117,g=60129,m=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),u=b("react.provider"),s=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),h=b("react.memo"),d=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),y=b("react.fundamental"),g=b("react.debug_trace_mode"),m=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}},441:function(e,t,n){"use strict";n(372)},707:function(e,t,n){var r=n(757);!function(e,t){"use strict";function n(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function u(e){n(a,i,o,u,s,"next",e)}function s(e){n(a,i,o,u,s,"throw",e)}u(void 0)}))}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function u(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var s={init:"init"},c=function(e){var t=e.value;return void 0===t?"":t},l=function(){return t.createElement(t.Fragment,null,"\xa0")},f={Cell:c,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){var n=t.style,r=t.className;return e=o({},e,{},a(t,["style","className"])),n&&(e.style=e.style?o({},e.style||{},{},n||{}):n),r&&(e.className=e.className?e.className+" "+r:r),""===e.className&&delete e.className,e}),{})}var d=function(e,t){return void 0===t&&(t={}),function(n){return void 0===n&&(n={}),[].concat(e,[n]).reduce((function(e,r){return function e(t,n,r){return"function"==typeof n?e({},n(t,r)):Array.isArray(n)?h.apply(void 0,[t].concat(n)):h(t,n)}(e,r,o({},t,{userProps:n}))}),{})}},p=function(e,t,n,r){return void 0===n&&(n={}),e.reduce((function(e,t){return t(e,n)}),t)},v=function(e,t,n){return void 0===n&&(n={}),e.forEach((function(e){e(t,n)}))};function y(e,t,n,r){e.findIndex((function(e){return e.pluginName===n})),t.forEach((function(t){e.findIndex((function(e){return e.pluginName===t}))}))}function g(e,t){return"function"==typeof e?e(t):e}function m(e){var n=t.useRef();return n.current=e,t.useCallback((function(){return n.current}),[])}var b="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;function w(e,n){var r=t.useRef(!1);b((function(){r.current&&e(),r.current=!0}),n)}function k(e,t,n){return void 0===n&&(n={}),function(r,i){void 0===i&&(i={});var a="string"==typeof r?t[r]:r;if(void 0===a)throw console.info(t),new Error("Renderer Error \u261d\ufe0f");return x(a,o({},e,{column:t},n,{},i))}}function x(e,n){return function(e){return"function"==typeof e&&(t=Object.getPrototypeOf(e)).prototype&&t.prototype.isReactComponent;var t}(r=e)||"function"==typeof r||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(r)?t.createElement(e,n):e;var r}function S(e,t,n){return void 0===n&&(n=0),e.map((function(e){return _(e=o({},e,{parent:t,depth:n})),e.columns&&(e.columns=S(e.columns,e,n+1)),e}))}function E(e){return O(e,"columns")}function _(e){var t=e.id,n=e.accessor,r=e.Header;if("string"==typeof n){t=t||n;var i=n.split(".");n=function(e){return function(e,t,n){if(!t)return e;var r,i="function"==typeof t?t:JSON.stringify(t),o=C.get(i)||function(){var e=function(e){return function e(t,n){if(void 0===n&&(n=[]),Array.isArray(t))for(var r=0;r<t.length;r+=1)e(t[r],n);else n.push(t);return n}(e).map((function(e){return String(e).replace(".","_")})).join(".").replace(F,".").replace(B,"").split(".")}(t);return C.set(i,e),e}();try{r=o.reduce((function(e,t){return e[t]}),e)}catch(e){}return void 0!==r?r:n}(e,i)}}if(!t&&"string"==typeof r&&r&&(t=r),!t&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!t)throw console.error(e),new Error("A column ID (or string accessor) is required!");return Object.assign(e,{id:t,accessor:n}),e}function I(e,t){if(!t)throw new Error;return Object.assign(e,o({Header:l,Footer:l},f,{},t,{},e)),Object.assign(e,{originalWidth:e.width}),e}function T(e,t,n){void 0===n&&(n=function(){return{}});for(var r=[],i=e,a=0,u=function(){return a++},s=function(){var e={headers:[]},a=[],s=i.some((function(e){return e.parent}));i.forEach((function(r){var i,c=[].concat(a).reverse()[0];s&&(i=r.parent?o({},r.parent,{originalId:r.parent.id,id:r.parent.id+"_"+u(),headers:[r]},n(r)):I(o({originalId:r.id+"_placeholder",id:r.id+"_placeholder_"+u(),placeholderOf:r,headers:[r]},n(r)),t),c&&c.originalId===i.originalId?c.headers.push(r):a.push(i)),e.headers.push(r)})),r.push(e),i=a};i.length;)s();return r.reverse()}var C=new Map;function A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r+=1)if(void 0!==t[r])return t[r]}function R(e){if("function"==typeof e)return e}function O(e,t){var n=[];return function e(r){r.forEach((function(r){r[t]?e(r[t]):n.push(r)}))}(e),n}function P(e,t){var n=t.manualExpandedKey,r=t.expanded,i=t.expandSubRows,o=void 0===i||i,a=[];return e.forEach((function(e){return function e(t,i){void 0===i&&(i=!0),t.isExpanded=t.original&&t.original[n]||r[t.id],t.canExpand=t.subRows&&!!t.subRows.length,i&&a.push(t),t.subRows&&t.subRows.length&&t.isExpanded&&t.subRows.forEach((function(t){return e(t,o)}))}(e)})),a}function N(e,t,n){return R(e)||t[e]||n[e]||n.text}function D(e,t,n){return e?e(t,n):void 0===t}function M(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var L=null,F=/\[/g,B=/\]/g,j=function(e){return o({role:"table"},e)},V=function(e){return o({role:"rowgroup"},e)},U=function(e,t){var n=t.column;return o({key:"header_"+n.id,colSpan:n.totalVisibleHeaderCount,role:"columnheader"},e)},z=function(e,t){var n=t.column;return o({key:"footer_"+n.id,colSpan:n.totalVisibleHeaderCount},e)},q=function(e,t){return o({key:"headerGroup_"+t.index,role:"row"},e)},G=function(e,t){return o({key:"footerGroup_"+t.index},e)},W=function(e,t){return o({key:"row_"+t.row.id,role:"row"},e)},H=function(e,t){var n=t.cell;return o({key:"cell_"+n.row.id+"_"+n.column.id,role:"cell"},e)};function K(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[j],getTableBodyProps:[V],getHeaderGroupProps:[q],getFooterGroupProps:[G],getHeaderProps:[U],getFooterProps:[z],getRowProps:[W],getCellProps:[H],useFinalInstance:[]}}s.resetHiddenColumns="resetHiddenColumns",s.toggleHideColumn="toggleHideColumn",s.setHiddenColumns="setHiddenColumns",s.toggleHideAllColumns="toggleHideAllColumns";var Q=function(e){e.getToggleHiddenProps=[$],e.getToggleHideAllColumnsProps=[Y],e.stateReducers.push(X),e.useInstanceBeforeDimensions.push(J),e.headerGroupsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.hiddenColumns])})),e.useInstance.push(Z)};Q.pluginName="useColumnVisibility";var $=function(e,t){var n=t.column;return[e,{onChange:function(e){n.toggleHidden(!e.target.checked)},style:{cursor:"pointer"},checked:n.isVisible,title:"Toggle Column Visible"}]},Y=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleHideAllColumns(!e.target.checked)},style:{cursor:"pointer"},checked:!n.allColumnsHidden&&!n.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!n.allColumnsHidden&&n.state.hiddenColumns.length}]};function X(e,t,n,r){if(t.type===s.init)return o({hiddenColumns:[]},e);if(t.type===s.resetHiddenColumns)return o({},e,{hiddenColumns:r.initialState.hiddenColumns||[]});if(t.type===s.toggleHideColumn){var i=(void 0!==t.value?t.value:!e.hiddenColumns.includes(t.columnId))?[].concat(e.hiddenColumns,[t.columnId]):e.hiddenColumns.filter((function(e){return e!==t.columnId}));return o({},e,{hiddenColumns:i})}return t.type===s.setHiddenColumns?o({},e,{hiddenColumns:g(t.value,e.hiddenColumns)}):t.type===s.toggleHideAllColumns?o({},e,{hiddenColumns:(void 0!==t.value?t.value:!e.hiddenColumns.length)?r.allColumns.map((function(e){return e.id})):[]}):void 0}function J(e){var n=e.headers,r=e.state.hiddenColumns;t.useRef(!1).current;var i=0;n.forEach((function(e){return i+=function e(t,n){t.isVisible=n&&!r.includes(t.id);var i=0;return t.headers&&t.headers.length?t.headers.forEach((function(n){return i+=e(n,t.isVisible)})):i=t.isVisible?1:0,t.totalVisibleHeaderCount=i,i}(e,!0)}))}function Z(e){var n=e.columns,r=e.flatHeaders,i=e.dispatch,o=e.allColumns,a=e.getHooks,u=e.state.hiddenColumns,c=e.autoResetHiddenColumns,l=void 0===c||c,f=m(e),h=o.length===u.length,p=t.useCallback((function(e,t){return i({type:s.toggleHideColumn,columnId:e,value:t})}),[i]),v=t.useCallback((function(e){return i({type:s.setHiddenColumns,value:e})}),[i]),y=t.useCallback((function(e){return i({type:s.toggleHideAllColumns,value:e})}),[i]),g=d(a().getToggleHideAllColumnsProps,{instance:f()});r.forEach((function(e){e.toggleHidden=function(t){i({type:s.toggleHideColumn,columnId:e.id,value:t})},e.getToggleHiddenProps=d(a().getToggleHiddenProps,{instance:f(),column:e})}));var b=m(l);w((function(){b()&&i({type:s.resetHiddenColumns})}),[i,n]),Object.assign(e,{allColumnsHidden:h,toggleHideColumn:p,setHiddenColumns:v,toggleHideAllColumns:y,getToggleHideAllColumnsProps:g})}var ee={},te={},ne=function(e,t,n){return e},re=function(e,t){return e.subRows||[]},ie=function(e,t,n){return""+(n?[n.id,t].join("."):t)},oe=function(e){return e};function ae(e){var t=e.initialState,n=void 0===t?ee:t,r=e.defaultColumn,i=void 0===r?te:r,u=e.getSubRows,s=void 0===u?re:u,c=e.getRowId,l=void 0===c?ie:c,f=e.stateReducer,h=void 0===f?ne:f,d=e.useControlledState,p=void 0===d?oe:d;return o({},a(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:n,defaultColumn:i,getSubRows:s,getRowId:l,stateReducer:h,useControlledState:p})}function ue(e,t){void 0===t&&(t=0);var n=0,r=0,i=0,o=0;return e.forEach((function(e){var a=e.headers;if(e.totalLeft=t,a&&a.length){var u=ue(a,t),s=u[0],c=u[1],l=u[2],f=u[3];e.totalMinWidth=s,e.totalWidth=c,e.totalMaxWidth=l,e.totalFlexWidth=f}else e.totalMinWidth=e.minWidth,e.totalWidth=Math.min(Math.max(e.minWidth,e.width),e.maxWidth),e.totalMaxWidth=e.maxWidth,e.totalFlexWidth=e.canResize?e.totalWidth:0;e.isVisible&&(t+=e.totalWidth,n+=e.totalMinWidth,r+=e.totalWidth,i+=e.totalMaxWidth,o+=e.totalFlexWidth)})),[n,r,i,o]}function se(e){var t=e.data,n=e.rows,r=e.flatRows,i=e.rowsById,o=e.column,a=e.getRowId,u=e.getSubRows,s=e.accessValueHooks,c=e.getInstance;t.forEach((function(e,l){return function e(n,l,f,h,d){void 0===f&&(f=0);var v=n,y=a(n,l,h),g=i[y];if(g)g.subRows&&g.originalSubRows.forEach((function(t,n){return e(t,n,f+1,g)}));else if((g={id:y,original:v,index:l,depth:f,cells:[{}]}).cells.map=M,g.cells.filter=M,g.cells.forEach=M,g.cells[0].getCellProps=M,g.values={},d.push(g),r.push(g),i[y]=g,g.originalSubRows=u(n,l),g.originalSubRows){var m=[];g.originalSubRows.forEach((function(t,n){return e(t,n,f+1,g,m)})),g.subRows=m}o.accessor&&(g.values[o.id]=o.accessor(n,l,g,d,t)),g.values[o.id]=p(s,g.values[o.id],{row:g,column:o,instance:c()})}(e,l,0,void 0,n)}))}s.resetExpanded="resetExpanded",s.toggleRowExpanded="toggleRowExpanded",s.toggleAllRowsExpanded="toggleAllRowsExpanded";var ce=function(e){e.getToggleAllRowsExpandedProps=[le],e.getToggleRowExpandedProps=[fe],e.stateReducers.push(he),e.useInstance.push(de),e.prepareRow.push(pe)};ce.pluginName="useExpanded";var le=function(e,t){var n=t.instance;return[e,{onClick:function(e){n.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},fe=function(e,t){var n=t.row;return[e,{onClick:function(){n.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function he(e,t,n,r){if(t.type===s.init)return o({expanded:{}},e);if(t.type===s.resetExpanded)return o({},e,{expanded:r.initialState.expanded||{}});if(t.type===s.toggleAllRowsExpanded){var i=t.value,c=r.isAllRowsExpanded,l=r.rowsById;if(void 0!==i?i:!c){var f={};return Object.keys(l).forEach((function(e){f[e]=!0})),o({},e,{expanded:f})}return o({},e,{expanded:{}})}if(t.type===s.toggleRowExpanded){var h,d=t.id,p=t.value,v=e.expanded[d],y=void 0!==p?p:!v;if(!v&&y)return o({},e,{expanded:o({},e.expanded,(h={},h[d]=!0,h))});if(v&&!y){var g=e.expanded;return g[d],o({},e,{expanded:a(g,[d].map(u))})}return e}}function de(e){var n=e.data,r=e.rows,i=e.rowsById,o=e.manualExpandedKey,a=void 0===o?"expanded":o,u=e.paginateExpandedRows,c=void 0===u||u,l=e.expandSubRows,f=void 0===l||l,h=e.autoResetExpanded,p=void 0===h||h,v=e.getHooks,g=e.plugins,b=e.state.expanded,k=e.dispatch;y(g,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var x=m(p),S=Boolean(Object.keys(i).length&&Object.keys(b).length);S&&Object.keys(i).some((function(e){return!b[e]}))&&(S=!1),w((function(){x()&&k({type:s.resetExpanded})}),[k,n]);var E=t.useCallback((function(e,t){k({type:s.toggleRowExpanded,id:e,value:t})}),[k]),_=t.useCallback((function(e){return k({type:s.toggleAllRowsExpanded,value:e})}),[k]),I=t.useMemo((function(){return c?P(r,{manualExpandedKey:a,expanded:b,expandSubRows:f}):r}),[c,r,a,b,f]),T=t.useMemo((function(){return function(e){var t=0;return Object.keys(e).forEach((function(e){var n=e.split(".");t=Math.max(t,n.length)})),t}(b)}),[b]),C=m(e),A=d(v().getToggleAllRowsExpandedProps,{instance:C()});Object.assign(e,{preExpandedRows:r,expandedRows:I,rows:I,expandedDepth:T,isAllRowsExpanded:S,toggleRowExpanded:E,toggleAllRowsExpanded:_,getToggleAllRowsExpandedProps:A})}function pe(e,t){var n=t.instance.getHooks,r=t.instance;e.toggleRowExpanded=function(t){return r.toggleRowExpanded(e.id,t)},e.getToggleRowExpandedProps=d(n().getToggleRowExpandedProps,{instance:r,row:e})}var ve=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return String(r).toLowerCase().includes(String(n).toLowerCase())}))}))};ve.autoRemove=function(e){return!e};var ye=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return void 0===r||String(r).toLowerCase()===String(n).toLowerCase()}))}))};ye.autoRemove=function(e){return!e};var ge=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return void 0===r||String(r)===String(n)}))}))};ge.autoRemove=function(e){return!e};var me=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t].includes(n)}))}))};me.autoRemove=function(e){return!e||!e.length};var be=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return r&&r.length&&n.every((function(e){return r.includes(e)}))}))}))};be.autoRemove=function(e){return!e||!e.length};var we=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return r&&r.length&&n.some((function(e){return r.includes(e)}))}))}))};we.autoRemove=function(e){return!e||!e.length};var ke=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return n.includes(r)}))}))};ke.autoRemove=function(e){return!e||!e.length};var xe=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]===n}))}))};xe.autoRemove=function(e){return void 0===e};var Se=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]==n}))}))};Se.autoRemove=function(e){return null==e};var Ee=function(e,t,n){var r=n||[],i=r[0],o=r[1];if((i="number"==typeof i?i:-1/0)>(o="number"==typeof o?o:1/0)){var a=i;i=o,o=a}return e.filter((function(e){return t.some((function(t){var n=e.values[t];return n>=i&&n<=o}))}))};Ee.autoRemove=function(e){return!e||"number"!=typeof e[0]&&"number"!=typeof e[1]};var _e=Object.freeze({__proto__:null,text:ve,exactText:ye,exactTextCase:ge,includes:me,includesAll:be,includesSome:we,includesValue:ke,exact:xe,equals:Se,between:Ee});s.resetFilters="resetFilters",s.setFilter="setFilter",s.setAllFilters="setAllFilters";var Ie=function(e){e.stateReducers.push(Te),e.useInstance.push(Ce)};function Te(e,t,n,r){if(t.type===s.init)return o({filters:[]},e);if(t.type===s.resetFilters)return o({},e,{filters:r.initialState.filters||[]});if(t.type===s.setFilter){var i=t.columnId,a=t.filterValue,u=r.allColumns,c=r.filterTypes,l=u.find((function(e){return e.id===i}));if(!l)throw new Error("React-Table: Could not find a column with id: "+i);var f=N(l.filter,c||{},_e),h=e.filters.find((function(e){return e.id===i})),d=g(a,h&&h.value);return D(f.autoRemove,d,l)?o({},e,{filters:e.filters.filter((function(e){return e.id!==i}))}):o({},e,h?{filters:e.filters.map((function(e){return e.id===i?{id:i,value:d}:e}))}:{filters:[].concat(e.filters,[{id:i,value:d}])})}if(t.type===s.setAllFilters){var p=t.filters,v=r.allColumns,y=r.filterTypes;return o({},e,{filters:g(p,e.filters).filter((function(e){var t=v.find((function(t){return t.id===e.id}));return!D(N(t.filter,y||{},_e).autoRemove,e.value,t)}))})}}function Ce(e){var n=e.data,r=e.rows,i=e.flatRows,o=e.rowsById,a=e.allColumns,u=e.filterTypes,c=e.manualFilters,l=e.defaultCanFilter,f=void 0!==l&&l,h=e.disableFilters,d=e.state.filters,p=e.dispatch,v=e.autoResetFilters,y=void 0===v||v,g=t.useCallback((function(e,t){p({type:s.setFilter,columnId:e,filterValue:t})}),[p]),b=t.useCallback((function(e){p({type:s.setAllFilters,filters:e})}),[p]);a.forEach((function(e){var t=e.id,n=e.accessor,r=e.defaultCanFilter,i=e.disableFilters;e.canFilter=n?A(!0!==i&&void 0,!0!==h&&void 0,!0):A(r,f,!1),e.setFilter=function(t){return g(e.id,t)};var o=d.find((function(e){return e.id===t}));e.filterValue=o&&o.value}));var k=t.useMemo((function(){if(c||!d.length)return[r,i,o];var e=[],t={};return[function n(r,i){void 0===i&&(i=0);var o=r;return(o=d.reduce((function(e,t){var n=t.id,r=t.value,o=a.find((function(e){return e.id===n}));if(!o)return e;0===i&&(o.preFilteredRows=e);var s=N(o.filter,u||{},_e);return s?(o.filteredRows=s(e,[n],r),o.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+o.id+"."),e)}),r)).forEach((function(r){e.push(r),t[r.id]=r,r.subRows&&(r.subRows=r.subRows&&r.subRows.length>0?n(r.subRows,i+1):r.subRows)})),o}(r),e,t]}),[c,d,r,i,o,a,u]),x=k[0],S=k[1],E=k[2];t.useMemo((function(){a.filter((function(e){return!d.find((function(t){return t.id===e.id}))})).forEach((function(e){e.preFilteredRows=x,e.filteredRows=x}))}),[x,d,a]);var _=m(y);w((function(){_()&&p({type:s.resetFilters})}),[p,c?null:n]),Object.assign(e,{preFilteredRows:r,preFilteredFlatRows:i,preFilteredRowsById:o,filteredRows:x,filteredFlatRows:S,filteredRowsById:E,rows:x,flatRows:S,rowsById:E,setFilter:g,setAllFilters:b})}Ie.pluginName="useFilters",s.resetGlobalFilter="resetGlobalFilter",s.setGlobalFilter="setGlobalFilter";var Ae=function(e){e.stateReducers.push(Re),e.useInstance.push(Oe)};function Re(e,t,n,r){if(t.type===s.resetGlobalFilter)return o({},e,{globalFilter:r.initialState.globalFilter||void 0});if(t.type===s.setGlobalFilter){var i=t.filterValue,u=r.userFilterTypes,c=N(r.globalFilter,u||{},_e),l=g(i,e.globalFilter);return D(c.autoRemove,l)?(e.globalFilter,a(e,["globalFilter"])):o({},e,{globalFilter:l})}}function Oe(e){var n=e.data,r=e.rows,i=e.flatRows,o=e.rowsById,a=e.allColumns,u=e.filterTypes,c=e.globalFilter,l=e.manualGlobalFilter,f=e.state.globalFilter,h=e.dispatch,d=e.autoResetGlobalFilter,p=void 0===d||d,v=e.disableGlobalFilter,y=t.useCallback((function(e){h({type:s.setGlobalFilter,filterValue:e})}),[h]),g=t.useMemo((function(){if(l||void 0===f)return[r,i,o];var e=[],t={},n=N(c,u||{},_e);if(!n)return console.warn("Could not find a valid 'globalFilter' option."),r;a.forEach((function(e){var t=e.disableGlobalFilter;e.canFilter=A(!0!==t&&void 0,!0!==v&&void 0,!0)}));var s=a.filter((function(e){return!0===e.canFilter}));return[function r(i){return(i=n(i,s.map((function(e){return e.id})),f)).forEach((function(n){e.push(n),t[n.id]=n,n.subRows=n.subRows&&n.subRows.length?r(n.subRows):n.subRows})),i}(r),e,t]}),[l,f,c,u,a,r,i,o,v]),b=g[0],k=g[1],x=g[2],S=m(p);w((function(){S()&&h({type:s.resetGlobalFilter})}),[h,l?null:n]),Object.assign(e,{preGlobalFilteredRows:r,preGlobalFilteredFlatRows:i,preGlobalFilteredRowsById:o,globalFilteredRows:b,globalFilteredFlatRows:k,globalFilteredRowsById:x,rows:b,flatRows:k,rowsById:x,setGlobalFilter:y,disableGlobalFilter:v})}function Pe(e,t){return t.reduce((function(e,t){return e+("number"==typeof t?t:0)}),0)}Ae.pluginName="useGlobalFilter";var Ne=Object.freeze({__proto__:null,sum:Pe,min:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e))})),t},max:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.max(t,e))})),t},minMax:function(e){var t=e[0]||0,n=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e),n=Math.max(n,e))})),t+".."+n},average:function(e){return Pe(0,e)/e.length},median:function(e){if(!e.length)return null;var t=Math.floor(e.length/2),n=[].concat(e).sort((function(e,t){return e-t}));return e.length%2!=0?n[t]:(n[t-1]+n[t])/2},unique:function(e){return Array.from(new Set(e).values())},uniqueCount:function(e){return new Set(e).size},count:function(e){return e.length}}),De=[],Me={};s.resetGroupBy="resetGroupBy",s.setGroupBy="setGroupBy",s.toggleGroupBy="toggleGroupBy";var Le=function(e){e.getGroupByToggleProps=[Fe],e.stateReducers.push(Be),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.groupBy])})),e.visibleColumns.push(je),e.useInstance.push(Ue),e.prepareRow.push(ze)};Le.pluginName="useGroupBy";var Fe=function(e,t){var n=t.header;return[e,{onClick:n.canGroupBy?function(e){e.persist(),n.toggleGroupBy()}:void 0,style:{cursor:n.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function Be(e,t,n,r){if(t.type===s.init)return o({groupBy:[]},e);if(t.type===s.resetGroupBy)return o({},e,{groupBy:r.initialState.groupBy||[]});if(t.type===s.setGroupBy)return o({},e,{groupBy:t.value});if(t.type===s.toggleGroupBy){var i=t.columnId,a=t.value,u=void 0!==a?a:!e.groupBy.includes(i);return o({},e,u?{groupBy:[].concat(e.groupBy,[i])}:{groupBy:e.groupBy.filter((function(e){return e!==i}))})}}function je(e,t){var n=t.instance.state.groupBy,r=n.map((function(t){return e.find((function(e){return e.id===t}))})).filter(Boolean),i=e.filter((function(e){return!n.includes(e.id)}));return(e=[].concat(r,i)).forEach((function(e){e.isGrouped=n.includes(e.id),e.groupedIndex=n.indexOf(e.id)})),e}var Ve={};function Ue(e){var n=e.data,r=e.rows,i=e.flatRows,o=e.rowsById,a=e.allColumns,u=e.flatHeaders,c=e.groupByFn,l=void 0===c?qe:c,f=e.manualGroupBy,h=e.aggregations,p=void 0===h?Ve:h,v=e.plugins,g=e.state.groupBy,b=e.dispatch,k=e.autoResetGroupBy,x=void 0===k||k,S=e.disableGroupBy,E=e.defaultCanGroupBy,_=e.getHooks;y(v,["useColumnOrder","useFilters"],"useGroupBy");var I=m(e);a.forEach((function(t){var n=t.accessor,r=t.defaultGroupBy,i=t.disableGroupBy;t.canGroupBy=n?A(t.canGroupBy,!0!==i&&void 0,!0!==S&&void 0,!0):A(t.canGroupBy,r,E,!1),t.canGroupBy&&(t.toggleGroupBy=function(){return e.toggleGroupBy(t.id)}),t.Aggregated=t.Aggregated||t.Cell}));var T=t.useCallback((function(e,t){b({type:s.toggleGroupBy,columnId:e,value:t})}),[b]),C=t.useCallback((function(e){b({type:s.setGroupBy,value:e})}),[b]);u.forEach((function(e){e.getGroupByToggleProps=d(_().getGroupByToggleProps,{instance:I(),header:e})}));var R=t.useMemo((function(){if(f||!g.length)return[r,i,o,De,Me,i,o];var e=g.filter((function(e){return a.find((function(t){return t.id===e}))})),t=[],n={},u=[],s={},c=[],h={},d=function r(i,o,f){if(void 0===o&&(o=0),o===e.length)return i;var d=e[o],v=l(i,d);return Object.entries(v).map((function(i,l){var v=i[0],y=i[1],g=d+":"+v,m=r(y,o+1,g=f?f+">"+g:g),b=o?O(y,"leafRows"):y,w=function(t,n,r){var i={};return a.forEach((function(o){if(e.includes(o.id))i[o.id]=n[0]?n[0].values[o.id]:null;else{var a="function"==typeof o.aggregate?o.aggregate:p[o.aggregate]||Ne[o.aggregate];if(a){var u=n.map((function(e){return e.values[o.id]})),s=t.map((function(e){var t=e.values[o.id];if(!r&&o.aggregateValue){var n="function"==typeof o.aggregateValue?o.aggregateValue:p[o.aggregateValue]||Ne[o.aggregateValue];if(!n)throw console.info({column:o}),new Error("React Table: Invalid column.aggregateValue option for column listed above");t=n(t,e,o)}return t}));i[o.id]=a(s,u)}else{if(o.aggregate)throw console.info({column:o}),new Error("React Table: Invalid column.aggregate option for column listed above");i[o.id]=null}}})),i}(b,y,o),k={id:g,isGrouped:!0,groupByID:d,groupByVal:v,values:w,subRows:m,leafRows:b,depth:o,index:l};return m.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(u.push(e),s[e.id]=e):(c.push(e),h[e.id]=e)})),k}))}(r);return d.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(u.push(e),s[e.id]=e):(c.push(e),h[e.id]=e)})),[d,t,n,u,s,c,h]}),[f,g,r,i,o,a,p,l]),P=R[0],N=R[1],D=R[2],M=R[3],L=R[4],F=R[5],B=R[6],j=m(x);w((function(){j()&&b({type:s.resetGroupBy})}),[b,f?null:n]),Object.assign(e,{preGroupedRows:r,preGroupedFlatRow:i,preGroupedRowsById:o,groupedRows:P,groupedFlatRows:N,groupedRowsById:D,onlyGroupedFlatRows:M,onlyGroupedRowsById:L,nonGroupedFlatRows:F,nonGroupedRowsById:B,rows:P,flatRows:N,rowsById:D,toggleGroupBy:T,setGroupBy:C})}function ze(e){e.allCells.forEach((function(t){var n;t.isGrouped=t.column.isGrouped&&t.column.id===e.groupByID,t.isPlaceholder=!t.isGrouped&&t.column.isGrouped,t.isAggregated=!t.isGrouped&&!t.isPlaceholder&&(null==(n=e.subRows)?void 0:n.length)}))}function qe(e,t){return e.reduce((function(e,n,r){var i=""+n.values[t];return e[i]=Array.isArray(e[i])?e[i]:[],e[i].push(n),e}),{})}var Ge=/([0-9]+)/gm;function We(e,t){return e===t?0:e>t?1:-1}function He(e,t,n){return[e.values[n],t.values[n]]}function Ke(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}var Qe=Object.freeze({__proto__:null,alphanumeric:function(e,t,n){var r=He(e,t,n),i=r[0],o=r[1];for(i=Ke(i),o=Ke(o),i=i.split(Ge).filter(Boolean),o=o.split(Ge).filter(Boolean);i.length&&o.length;){var a=i.shift(),u=o.shift(),s=parseInt(a,10),c=parseInt(u,10),l=[s,c].sort();if(isNaN(l[0])){if(a>u)return 1;if(u>a)return-1}else{if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>c)return 1;if(c>s)return-1}}return i.length-o.length},datetime:function(e,t,n){var r=He(e,t,n),i=r[0],o=r[1];return We(i=i.getTime(),o=o.getTime())},basic:function(e,t,n){var r=He(e,t,n);return We(r[0],r[1])},string:function(e,t,n){var r=He(e,t,n),i=r[0],o=r[1];for(i=i.split("").filter(Boolean),o=o.split("").filter(Boolean);i.length&&o.length;){var a=i.shift(),u=o.shift(),s=a.toLowerCase(),c=u.toLowerCase();if(s>c)return 1;if(c>s)return-1;if(a>u)return 1;if(u>a)return-1}return i.length-o.length},number:function(e,t,n){var r=He(e,t,n),i=r[0],o=r[1],a=/[^0-9.]/gi;return We(i=Number(String(i).replace(a,"")),o=Number(String(o).replace(a,"")))}});s.resetSortBy="resetSortBy",s.setSortBy="setSortBy",s.toggleSortBy="toggleSortBy",s.clearSortBy="clearSortBy",f.sortType="alphanumeric",f.sortDescFirst=!1;var $e=function(e){e.getSortByToggleProps=[Ye],e.stateReducers.push(Xe),e.useInstance.push(Je)};$e.pluginName="useSortBy";var Ye=function(e,t){var n=t.instance,r=t.column,i=n.isMultiSortEvent,o=void 0===i?function(e){return e.shiftKey}:i;return[e,{onClick:r.canSort?function(e){e.persist(),r.toggleSortBy(void 0,!n.disableMultiSort&&o(e))}:void 0,style:{cursor:r.canSort?"pointer":void 0},title:r.canSort?"Toggle SortBy":void 0}]};function Xe(e,t,n,r){if(t.type===s.init)return o({sortBy:[]},e);if(t.type===s.resetSortBy)return o({},e,{sortBy:r.initialState.sortBy||[]});if(t.type===s.clearSortBy)return o({},e,{sortBy:e.sortBy.filter((function(e){return e.id!==t.columnId}))});if(t.type===s.setSortBy)return o({},e,{sortBy:t.sortBy});if(t.type===s.toggleSortBy){var i,a=t.columnId,u=t.desc,c=t.multi,l=r.allColumns,f=r.disableMultiSort,h=r.disableSortRemove,d=r.disableMultiRemove,p=r.maxMultiSortColCount,v=void 0===p?Number.MAX_SAFE_INTEGER:p,y=e.sortBy,g=l.find((function(e){return e.id===a})).sortDescFirst,m=y.find((function(e){return e.id===a})),b=y.findIndex((function(e){return e.id===a})),w=null!=u,k=[];return"toggle"!==(i=!f&&c?m?"toggle":"add":b!==y.length-1||1!==y.length?"replace":m?"toggle":"replace")||h||w||c&&d||!(m&&m.desc&&!g||!m.desc&&g)||(i="remove"),"replace"===i?k=[{id:a,desc:w?u:g}]:"add"===i?(k=[].concat(y,[{id:a,desc:w?u:g}])).splice(0,k.length-v):"toggle"===i?k=y.map((function(e){return e.id===a?o({},e,{desc:w?u:!m.desc}):e})):"remove"===i&&(k=y.filter((function(e){return e.id!==a}))),o({},e,{sortBy:k})}}function Je(e){var n=e.data,r=e.rows,i=e.flatRows,o=e.allColumns,a=e.orderByFn,u=void 0===a?Ze:a,c=e.sortTypes,l=e.manualSortBy,f=e.defaultCanSort,h=e.disableSortBy,p=e.flatHeaders,v=e.state.sortBy,g=e.dispatch,b=e.plugins,k=e.getHooks,x=e.autoResetSortBy,S=void 0===x||x;y(b,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var E=t.useCallback((function(e){g({type:s.setSortBy,sortBy:e})}),[g]),_=t.useCallback((function(e,t,n){g({type:s.toggleSortBy,columnId:e,desc:t,multi:n})}),[g]),I=m(e);p.forEach((function(e){var t=e.accessor,n=e.canSort,r=e.disableSortBy,i=e.id,o=t?A(!0!==r&&void 0,!0!==h&&void 0,!0):A(f,n,!1);e.canSort=o,e.canSort&&(e.toggleSortBy=function(t,n){return _(e.id,t,n)},e.clearSortBy=function(){g({type:s.clearSortBy,columnId:e.id})}),e.getSortByToggleProps=d(k().getSortByToggleProps,{instance:I(),column:e});var a=v.find((function(e){return e.id===i}));e.isSorted=!!a,e.sortedIndex=v.findIndex((function(e){return e.id===i})),e.isSortedDesc=e.isSorted?a.desc:void 0}));var T=t.useMemo((function(){if(l||!v.length)return[r,i];var e=[],t=v.filter((function(e){return o.find((function(t){return t.id===e.id}))}));return[function n(r){var i=u(r,t.map((function(e){var t=o.find((function(t){return t.id===e.id}));if(!t)throw new Error("React-Table: Could not find a column with id: "+e.id+" while sorting");var n=t.sortType,r=R(n)||(c||{})[n]||Qe[n];if(!r)throw new Error("React-Table: Could not find a valid sortType of '"+n+"' for column '"+e.id+"'.");return function(t,n){return r(t,n,e.id,e.desc)}})),t.map((function(e){var t=o.find((function(t){return t.id===e.id}));return t&&t.sortInverted?e.desc:!e.desc})));return i.forEach((function(t){e.push(t),t.subRows&&0!==t.subRows.length&&(t.subRows=n(t.subRows))})),i}(r),e]}),[l,v,r,i,o,u,c]),C=T[0],O=T[1],P=m(S);w((function(){P()&&g({type:s.resetSortBy})}),[l?null:n]),Object.assign(e,{preSortedRows:r,preSortedFlatRows:i,sortedRows:C,sortedFlatRows:O,rows:C,flatRows:O,setSortBy:E,toggleSortBy:_})}function Ze(e,t,n){return[].concat(e).sort((function(e,r){for(var i=0;i<t.length;i+=1){var o=t[i],a=!1===n[i]||"desc"===n[i],u=o(e,r);if(0!==u)return a?-u:u}return n[0]?e.index-r.index:r.index-e.index}))}s.resetPage="resetPage",s.gotoPage="gotoPage",s.setPageSize="setPageSize";var et=function(e){e.stateReducers.push(tt),e.useInstance.push(nt)};function tt(e,t,n,r){if(t.type===s.init)return o({pageSize:10,pageIndex:0},e);if(t.type===s.resetPage)return o({},e,{pageIndex:r.initialState.pageIndex||0});if(t.type===s.gotoPage){var i=r.pageCount,a=r.page,u=g(t.pageIndex,e.pageIndex),c=!1;return u>e.pageIndex?c=-1===i?a.length>=e.pageSize:u<i:u<e.pageIndex&&(c=u>-1),c?o({},e,{pageIndex:u}):e}if(t.type===s.setPageSize){var l=t.pageSize,f=e.pageSize*e.pageIndex;return o({},e,{pageIndex:Math.floor(f/l),pageSize:l})}}function nt(e){var n=e.rows,r=e.autoResetPage,i=void 0===r||r,o=e.manualExpandedKey,a=void 0===o?"expanded":o,u=e.plugins,c=e.pageCount,l=e.paginateExpandedRows,f=void 0===l||l,h=e.expandSubRows,d=void 0===h||h,p=e.state,v=p.pageSize,g=p.pageIndex,b=p.expanded,k=p.globalFilter,x=p.filters,S=p.groupBy,E=p.sortBy,_=e.dispatch,I=e.data,T=e.manualPagination;y(u,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var C=m(i);w((function(){C()&&_({type:s.resetPage})}),[_,T?null:I,k,x,S,E]);var A=T?c:Math.ceil(n.length/v),R=t.useMemo((function(){return A>0?[].concat(new Array(A)).fill(null).map((function(e,t){return t})):[]}),[A]),O=t.useMemo((function(){var e;if(T)e=n;else{var t=v*g,r=t+v;e=n.slice(t,r)}return f?e:P(e,{manualExpandedKey:a,expanded:b,expandSubRows:d})}),[d,b,a,T,g,v,f,n]),N=g>0,D=-1===A?O.length>=v:g<A-1,M=t.useCallback((function(e){_({type:s.gotoPage,pageIndex:e})}),[_]),L=t.useCallback((function(){return M((function(e){return e-1}))}),[M]),F=t.useCallback((function(){return M((function(e){return e+1}))}),[M]),B=t.useCallback((function(e){_({type:s.setPageSize,pageSize:e})}),[_]);Object.assign(e,{pageOptions:R,pageCount:A,page:O,canPreviousPage:N,canNextPage:D,gotoPage:M,previousPage:L,nextPage:F,setPageSize:B})}et.pluginName="usePagination",s.resetPivot="resetPivot",s.togglePivot="togglePivot";var rt=function(e){e.getPivotToggleProps=[ot],e.stateReducers.push(at),e.useInstanceAfterData.push(ut),e.allColumns.push(st),e.accessValue.push(ct),e.materializedColumns.push(lt),e.materializedColumnsDeps.push(ft),e.visibleColumns.push(ht),e.visibleColumnsDeps.push(dt),e.useInstance.push(pt),e.prepareRow.push(vt)};rt.pluginName="usePivotColumns";var it=[],ot=function(e,t){var n=t.header;return[e,{onClick:n.canPivot?function(e){e.persist(),n.togglePivot()}:void 0,style:{cursor:n.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function at(e,t,n,r){if(t.type===s.init)return o({pivotColumns:it},e);if(t.type===s.resetPivot)return o({},e,{pivotColumns:r.initialState.pivotColumns||it});if(t.type===s.togglePivot){var i=t.columnId,a=t.value,u=void 0!==a?a:!e.pivotColumns.includes(i);return o({},e,u?{pivotColumns:[].concat(e.pivotColumns,[i])}:{pivotColumns:e.pivotColumns.filter((function(e){return e!==i}))})}}function ut(e){e.allColumns.forEach((function(t){t.isPivotSource=e.state.pivotColumns.includes(t.id)}))}function st(e,t){var n=t.instance;return e.forEach((function(e){e.isPivotSource=n.state.pivotColumns.includes(e.id),e.uniqueValues=new Set})),e}function ct(e,t){var n=t.column;return n.uniqueValues&&void 0!==e&&n.uniqueValues.add(e),e}function lt(e,t){var n=t.instance,r=n.allColumns,i=n.state;if(!i.pivotColumns.length||!i.groupBy||!i.groupBy.length)return e;var a=i.pivotColumns.map((function(e){return r.find((function(t){return t.id===e}))})).filter(Boolean),u=r.filter((function(e){return!e.isPivotSource&&!i.groupBy.includes(e.id)&&!i.pivotColumns.includes(e.id)})),s=E(function e(t,n,r){void 0===t&&(t=0),void 0===r&&(r=[]);var i=a[t];return i?Array.from(i.uniqueValues).sort().map((function(a){var u=o({},i,{Header:i.PivotHeader||"string"==typeof i.header?i.Header+": "+a:a,isPivotGroup:!0,parent:n,depth:t,id:n?n.id+"."+i.id+"."+a:i.id+"."+a,pivotValue:a});return u.columns=e(t+1,u,[].concat(r,[function(e){return e.values[i.id]===a}])),u})):u.map((function(e){return o({},e,{canPivot:!1,isPivoted:!0,parent:n,depth:t,id:""+(n?n.id+"."+e.id:e.id),accessor:function(t,n,i){if(r.every((function(e){return e(i)})))return i.values[e.id]}})}))}());return[].concat(e,s)}function ft(e,t){var n=t.instance.state,r=n.pivotColumns,i=n.groupBy;return[].concat(e,[r,i])}function ht(e,t){var n=t.instance.state;return e=e.filter((function(e){return!e.isPivotSource})),n.pivotColumns.length&&n.groupBy&&n.groupBy.length&&(e=e.filter((function(e){return e.isGrouped||e.isPivoted}))),e}function dt(e,t){var n=t.instance;return[].concat(e,[n.state.pivotColumns,n.state.groupBy])}function pt(e){var t=e.columns,n=e.allColumns,r=e.flatHeaders,i=e.getHooks,o=e.plugins,a=e.dispatch,u=e.autoResetPivot,c=void 0===u||u,l=e.manaulPivot,f=e.disablePivot,h=e.defaultCanPivot;y(o,["useGroupBy"],"usePivotColumns");var p=m(e);n.forEach((function(t){var n=t.accessor,r=t.defaultPivot,i=t.disablePivot;t.canPivot=n?A(t.canPivot,!0!==i&&void 0,!0!==f&&void 0,!0):A(t.canPivot,r,h,!1),t.canPivot&&(t.togglePivot=function(){return e.togglePivot(t.id)}),t.Aggregated=t.Aggregated||t.Cell})),r.forEach((function(e){e.getPivotToggleProps=d(i().getPivotToggleProps,{instance:p(),header:e})}));var v=m(c);w((function(){v()&&a({type:s.resetPivot})}),[a,l?null:t]),Object.assign(e,{togglePivot:function(e,t){a({type:s.togglePivot,columnId:e,value:t})}})}function vt(e){e.allCells.forEach((function(e){e.isPivoted=e.column.isPivoted}))}s.resetSelectedRows="resetSelectedRows",s.toggleAllRowsSelected="toggleAllRowsSelected",s.toggleRowSelected="toggleRowSelected",s.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var yt=function(e){e.getToggleRowSelectedProps=[gt],e.getToggleAllRowsSelectedProps=[mt],e.getToggleAllPageRowsSelectedProps=[bt],e.stateReducers.push(wt),e.useInstance.push(kt),e.prepareRow.push(xt)};yt.pluginName="useRowSelect";var gt=function(e,t){var n=t.instance,r=t.row,i=n.manualRowSelectedKey,o=void 0===i?"isSelected":i;return[e,{onChange:function(e){r.toggleRowSelected(e.target.checked)},style:{cursor:"pointer"},checked:!(!r.original||!r.original[o])||r.isSelected,title:"Toggle Row Selected",indeterminate:r.isSomeSelected}]},mt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:Boolean(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]},bt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllPageRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:Boolean(!n.isAllPageRowsSelected&&n.page.some((function(e){var t=e.id;return n.state.selectedRowIds[t]})))}]};function wt(e,t,n,r){if(t.type===s.init)return o({selectedRowIds:{}},e);if(t.type===s.resetSelectedRows)return o({},e,{selectedRowIds:r.initialState.selectedRowIds||{}});if(t.type===s.toggleAllRowsSelected){var i=t.value,a=r.isAllRowsSelected,u=r.rowsById,c=r.nonGroupedRowsById,l=void 0===c?u:c,f=void 0!==i?i:!a,h=Object.assign({},e.selectedRowIds);return f?Object.keys(l).forEach((function(e){h[e]=!0})):Object.keys(l).forEach((function(e){delete h[e]})),o({},e,{selectedRowIds:h})}if(t.type===s.toggleRowSelected){var d=t.id,p=t.value,v=r.rowsById,y=r.selectSubRows,g=void 0===y||y,m=r.getSubRows,b=e.selectedRowIds[d],w=void 0!==p?p:!b;if(b===w)return e;var k=o({},e.selectedRowIds);return function e(t){var n=v[t];if(n.isGrouped||(w?k[t]=!0:delete k[t]),g&&m(n))return m(n).forEach((function(t){return e(t.id)}))}(d),o({},e,{selectedRowIds:k})}if(t.type===s.toggleAllPageRowsSelected){var x=t.value,S=r.page,E=r.rowsById,_=r.selectSubRows,I=void 0===_||_,T=r.isAllPageRowsSelected,C=r.getSubRows,A=void 0!==x?x:!T,R=o({},e.selectedRowIds);return S.forEach((function(e){return function e(t){var n=E[t];if(n.isGrouped||(A?R[t]=!0:delete R[t]),I&&C(n))return C(n).forEach((function(t){return e(t.id)}))}(e.id)})),o({},e,{selectedRowIds:R})}return e}function kt(e){var n=e.data,r=e.rows,i=e.getHooks,o=e.plugins,a=e.rowsById,u=e.nonGroupedRowsById,c=void 0===u?a:u,l=e.autoResetSelectedRows,f=void 0===l||l,h=e.state.selectedRowIds,p=e.selectSubRows,v=void 0===p||p,g=e.dispatch,b=e.page,k=e.getSubRows;y(o,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var x=t.useMemo((function(){var e=[];return r.forEach((function(t){var n=v?function e(t,n,r){if(n[t.id])return!0;var i=r(t);if(i&&i.length){var o=!0,a=!1;return i.forEach((function(t){a&&!o||(e(t,n,r)?a=!0:o=!1)})),!!o||!!a&&null}return!1}(t,h,k):!!h[t.id];t.isSelected=!!n,t.isSomeSelected=null===n,n&&e.push(t)})),e}),[r,v,h,k]),S=Boolean(Object.keys(c).length&&Object.keys(h).length),E=S;S&&Object.keys(c).some((function(e){return!h[e]}))&&(S=!1),S||b&&b.length&&b.some((function(e){var t=e.id;return!h[t]}))&&(E=!1);var _=m(f);w((function(){_()&&g({type:s.resetSelectedRows})}),[g,n]);var I=t.useCallback((function(e){return g({type:s.toggleAllRowsSelected,value:e})}),[g]),T=t.useCallback((function(e){return g({type:s.toggleAllPageRowsSelected,value:e})}),[g]),C=t.useCallback((function(e,t){return g({type:s.toggleRowSelected,id:e,value:t})}),[g]),A=m(e),R=d(i().getToggleAllRowsSelectedProps,{instance:A()}),O=d(i().getToggleAllPageRowsSelectedProps,{instance:A()});Object.assign(e,{selectedFlatRows:x,isAllRowsSelected:S,isAllPageRowsSelected:E,toggleRowSelected:C,toggleAllRowsSelected:I,getToggleAllRowsSelectedProps:R,getToggleAllPageRowsSelectedProps:O,toggleAllPageRowsSelected:T})}function xt(e,t){var n=t.instance;e.toggleRowSelected=function(t){return n.toggleRowSelected(e.id,t)},e.getToggleRowSelectedProps=d(n.getHooks().getToggleRowSelectedProps,{instance:n,row:e})}var St=function(e){return{}},Et=function(e){return{}};s.setRowState="setRowState",s.setCellState="setCellState",s.resetRowState="resetRowState";var _t=function(e){e.stateReducers.push(It),e.useInstance.push(Tt),e.prepareRow.push(Ct)};function It(e,t,n,r){var i=r.initialRowStateAccessor,a=void 0===i?St:i,u=r.initialCellStateAccessor,c=void 0===u?Et:u,l=r.rowsById;if(t.type===s.init)return o({rowState:{}},e);if(t.type===s.resetRowState)return o({},e,{rowState:r.initialState.rowState||{}});if(t.type===s.setRowState){var f,h=t.rowId,d=t.value,p=void 0!==e.rowState[h]?e.rowState[h]:a(l[h]);return o({},e,{rowState:o({},e.rowState,(f={},f[h]=g(d,p),f))})}if(t.type===s.setCellState){var v,y,m,b,w,k=t.rowId,x=t.columnId,S=t.value,E=void 0!==e.rowState[k]?e.rowState[k]:a(l[k]),_=void 0!==(null==E||null==(v=E.cellState)?void 0:v[x])?E.cellState[x]:c(null==(y=l[k])||null==(m=y.cells)?void 0:m.find((function(e){return e.column.id===x})));return o({},e,{rowState:o({},e.rowState,(w={},w[k]=o({},E,{cellState:o({},E.cellState||{},(b={},b[x]=g(S,_),b))}),w))})}}function Tt(e){var n=e.autoResetRowState,r=void 0===n||n,i=e.data,o=e.dispatch,a=t.useCallback((function(e,t){return o({type:s.setRowState,rowId:e,value:t})}),[o]),u=t.useCallback((function(e,t,n){return o({type:s.setCellState,rowId:e,columnId:t,value:n})}),[o]),c=m(r);w((function(){c()&&o({type:s.resetRowState})}),[i]),Object.assign(e,{setRowState:a,setCellState:u})}function Ct(e,t){var n=t.instance,r=n.initialRowStateAccessor,i=void 0===r?St:r,o=n.initialCellStateAccessor,a=void 0===o?Et:o,u=n.state.rowState;e&&(e.state=void 0!==u[e.id]?u[e.id]:i(e),e.setState=function(t){return n.setRowState(e.id,t)},e.cells.forEach((function(t){e.state.cellState||(e.state.cellState={}),t.state=void 0!==e.state.cellState[t.column.id]?e.state.cellState[t.column.id]:a(t),t.setState=function(r){return n.setCellState(e.id,t.column.id,r)}})))}_t.pluginName="useRowState",s.resetColumnOrder="resetColumnOrder",s.setColumnOrder="setColumnOrder";var At=function(e){e.stateReducers.push(Rt),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.columnOrder])})),e.visibleColumns.push(Ot),e.useInstance.push(Pt)};function Rt(e,t,n,r){return t.type===s.init?o({columnOrder:[]},e):t.type===s.resetColumnOrder?o({},e,{columnOrder:r.initialState.columnOrder||[]}):t.type===s.setColumnOrder?o({},e,{columnOrder:g(t.columnOrder,e.columnOrder)}):void 0}function Ot(e,t){var n=t.instance.state.columnOrder;if(!n||!n.length)return e;for(var r=[].concat(n),i=[].concat(e),o=[],a=function(){var e=r.shift(),t=i.findIndex((function(t){return t.id===e}));t>-1&&o.push(i.splice(t,1)[0])};i.length&&r.length;)a();return[].concat(o,i)}function Pt(e){var n=e.dispatch;e.setColumnOrder=t.useCallback((function(e){return n({type:s.setColumnOrder,columnOrder:e})}),[n])}At.pluginName="useColumnOrder",f.canResize=!0,s.columnStartResizing="columnStartResizing",s.columnResizing="columnResizing",s.columnDoneResizing="columnDoneResizing",s.resetResize="resetResize";var Nt=function(e){e.getResizerProps=[Dt],e.getHeaderProps.push({style:{position:"relative"}}),e.stateReducers.push(Mt),e.useInstance.push(Ft),e.useInstanceBeforeDimensions.push(Lt)},Dt=function(e,t){var n=t.instance,r=t.header,i=n.dispatch,o=function(e,t){var n=!1;if("touchstart"===e.type){if(e.touches&&e.touches.length>1)return;n=!0}var r=function(e){var t=[];return function e(n){n.columns&&n.columns.length&&n.columns.map(e),t.push(n)}(e),t}(t).map((function(e){return[e.id,e.totalWidth]})),o=n?Math.round(e.touches[0].clientX):e.clientX,a=function(e){i({type:s.columnResizing,clientX:e})},u=function(){return i({type:s.columnDoneResizing})},c={mouse:{moveEvent:"mousemove",moveHandler:function(e){return a(e.clientX)},upEvent:"mouseup",upHandler:function(e){document.removeEventListener("mousemove",c.mouse.moveHandler),document.removeEventListener("mouseup",c.mouse.upHandler),u()}},touch:{moveEvent:"touchmove",moveHandler:function(e){return e.cancelable&&(e.preventDefault(),e.stopPropagation()),a(e.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(e){document.removeEventListener(c.touch.moveEvent,c.touch.moveHandler),document.removeEventListener(c.touch.upEvent,c.touch.moveHandler),u()}}},l=n?c.touch:c.mouse,f=!!function(){if("boolean"==typeof L)return L;var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return L=e}()&&{passive:!1};document.addEventListener(l.moveEvent,l.moveHandler,f),document.addEventListener(l.upEvent,l.upHandler,f),i({type:s.columnStartResizing,columnId:t.id,columnWidth:t.totalWidth,headerIdWidths:r,clientX:o})};return[e,{onMouseDown:function(e){return e.persist()||o(e,r)},onTouchStart:function(e){return e.persist()||o(e,r)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function Mt(e,t){if(t.type===s.init)return o({columnResizing:{columnWidths:{}}},e);if(t.type===s.resetResize)return o({},e,{columnResizing:{columnWidths:{}}});if(t.type===s.columnStartResizing){var n=t.clientX,r=t.columnId,i=t.columnWidth,a=t.headerIdWidths;return o({},e,{columnResizing:o({},e.columnResizing,{startX:n,headerIdWidths:a,columnWidth:i,isResizingColumn:r})})}if(t.type===s.columnResizing){var u=t.clientX,c=e.columnResizing,l=c.startX,f=c.columnWidth,h=c.headerIdWidths,d=(u-l)/f,p={};return(void 0===h?[]:h).forEach((function(e){var t=e[0],n=e[1];p[t]=Math.max(n+n*d,0)})),o({},e,{columnResizing:o({},e.columnResizing,{columnWidths:o({},e.columnResizing.columnWidths,{},p)})})}return t.type===s.columnDoneResizing?o({},e,{columnResizing:o({},e.columnResizing,{startX:null,isResizingColumn:null})}):void 0}Nt.pluginName="useResizeColumns";var Lt=function(e){var t=e.flatHeaders,n=e.disableResizing,r=e.getHooks,i=e.state.columnResizing,o=m(e);t.forEach((function(e){var t=A(!0!==e.disableResizing&&void 0,!0!==n&&void 0,!0);e.canResize=t,e.width=i.columnWidths[e.id]||e.originalWidth||e.width,e.isResizing=i.isResizingColumn===e.id,t&&(e.getResizerProps=d(r().getResizerProps,{instance:o(),header:e}))}))};function Ft(e){var n=e.plugins,r=e.dispatch,i=e.autoResetResize,o=void 0===i||i,a=e.columns;y(n,["useAbsoluteLayout"],"useResizeColumns");var u=m(o);w((function(){u()&&r({type:s.resetResize})}),[a]);var c=t.useCallback((function(){return r({type:s.resetResize})}),[r]);Object.assign(e,{resetResizing:c})}var Bt={position:"absolute",top:0},jt=function(e){e.getTableBodyProps.push(Vt),e.getRowProps.push(Vt),e.getHeaderGroupProps.push(Vt),e.getFooterGroupProps.push(Vt),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:o({},Bt,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:o({},Bt,{left:n.column.totalLeft+"px",width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:o({},Bt,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]}))};jt.pluginName="useAbsoluteLayout";var Vt=function(e,t){return[e,{style:{position:"relative",width:t.instance.totalColumnsWidth+"px"}}]},Ut={display:"inline-block",boxSizing:"border-box"},zt=function(e,t){return[e,{style:{display:"flex",width:t.instance.totalColumnsWidth+"px"}}]},qt=function(e){e.getRowProps.push(zt),e.getHeaderGroupProps.push(zt),e.getFooterGroupProps.push(zt),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:o({},Ut,{width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:o({},Ut,{width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:o({},Ut,{width:n.totalWidth+"px"})}]}))};function Gt(e){e.getTableProps.push(Wt),e.getRowProps.push(Ht),e.getHeaderGroupProps.push(Ht),e.getFooterGroupProps.push(Ht),e.getHeaderProps.push(Kt),e.getCellProps.push(Qt),e.getFooterProps.push($t)}qt.pluginName="useBlockLayout",Gt.pluginName="useFlexLayout";var Wt=function(e,t){return[e,{style:{minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Ht=function(e,t){return[e,{style:{display:"flex",flex:"1 0 auto",minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Kt=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]},Qt=function(e,t){var n=t.cell;return[e,{style:{boxSizing:"border-box",flex:n.column.totalFlexWidth+" 0 auto",minWidth:n.column.totalMinWidth+"px",width:n.column.totalWidth+"px"}}]},$t=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]};function Yt(e){e.stateReducers.push(Zt),e.getTableProps.push(Xt),e.getHeaderProps.push(Jt)}Yt.pluginName="useGridLayout";var Xt=function(e,t){return[e,{style:{display:"grid",gridTemplateColumns:t.instance.state.gridLayout.columnWidths.map((function(e){return e})).join(" ")}}]},Jt=function(e,t){return[e,{id:"header-cell-"+t.column.id,style:{position:"sticky"}}]};function Zt(e,t,n,r){if("init"===t.type)return o({gridLayout:{columnWidths:r.columns.map((function(){return"auto"}))}},e);if("columnStartResizing"===t.type){var i=t.columnId,a=r.visibleColumns.findIndex((function(e){return e.id===i})),u=function(e){var t,n=null==(t=document.getElementById("header-cell-"+e))?void 0:t.offsetWidth;if(void 0!==n)return n}(i);return void 0!==u?o({},e,{gridLayout:o({},e.gridLayout,{columnId:i,columnIndex:a,startingWidth:u})}):e}if("columnResizing"===t.type){var s=e.gridLayout,c=s.columnIndex,l=s.startingWidth,f=s.columnWidths,h=l-(e.columnResizing.startX-t.clientX),d=[].concat(f);return d[c]=h+"px",o({},e,{gridLayout:o({},e.gridLayout,{columnWidths:d})})}}e._UNSTABLE_usePivotColumns=rt,e.actions=s,e.defaultColumn=f,e.defaultGroupByFn=qe,e.defaultOrderByFn=Ze,e.defaultRenderer=c,e.emptyRenderer=l,e.ensurePluginOrder=y,e.flexRender=x,e.functionalUpdate=g,e.loopHooks=v,e.makePropGetter=d,e.makeRenderer=k,e.reduceHooks=p,e.safeUseLayoutEffect=b,e.useAbsoluteLayout=jt,e.useAsyncDebounce=function(e,n){void 0===n&&(n=0);var o=t.useRef({}),a=m(e),u=m(n);return t.useCallback(function(){var e=i(r.mark((function e(){var t,n,s,c=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=c.length,n=new Array(t),s=0;s<t;s++)n[s]=c[s];return o.current.promise||(o.current.promise=new Promise((function(e,t){o.current.resolve=e,o.current.reject=t}))),o.current.timeout&&clearTimeout(o.current.timeout),o.current.timeout=setTimeout(i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete o.current.timeout,e.prev=1,e.t0=o.current,e.next=5,a().apply(void 0,n);case 5:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),o.current.reject(e.t2);case 12:return e.prev=12,delete o.current.promise,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])}))),u()),e.abrupt("return",o.current.promise);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[a,u])},e.useBlockLayout=qt,e.useColumnOrder=At,e.useExpanded=ce,e.useFilters=Ie,e.useFlexLayout=Gt,e.useGetLatest=m,e.useGlobalFilter=Ae,e.useGridLayout=Yt,e.useGroupBy=Le,e.useMountedLayoutEffect=w,e.usePagination=et,e.useResizeColumns=Nt,e.useRowSelect=yt,e.useRowState=_t,e.useSortBy=$e,e.useTable=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e=ae(e),r=[Q].concat(r);var a=m(t.useRef({}).current);Object.assign(a(),o({},e,{plugins:r,hooks:K()})),r.filter(Boolean).forEach((function(e){e(a().hooks)}));var u=m(a().hooks);a().getHooks=u,delete a().hooks,Object.assign(a(),p(u().useOptions,ae(e)));var c=a(),l=c.data,f=c.columns,h=c.initialState,y=c.defaultColumn,g=c.getSubRows,b=c.getRowId,w=c.stateReducer,x=c.useControlledState,C=m(w),A=t.useCallback((function(e,t){if(!t.type)throw console.info({action:t}),new Error("Unknown Action \ud83d\udc46");return[].concat(u().stateReducers,Array.isArray(C())?C():[C()]).reduce((function(n,r){return r(n,t,e,a())||n}),e)}),[u,C,a]),R=t.useReducer(A,void 0,(function(){return A(h,{type:s.init})})),O=R[0],P=R[1],N=p([].concat(u().useControlledState,[x]),O,{instance:a()});Object.assign(a(),{state:N,dispatch:P});var D=t.useMemo((function(){return S(p(u().columns,f,{instance:a()}))}),[u,a,f].concat(p(u().columnsDeps,[],{instance:a()})));a().columns=D;var M=t.useMemo((function(){return p(u().allColumns,E(D),{instance:a()}).map(_)}),[D,u,a].concat(p(u().allColumnsDeps,[],{instance:a()})));a().allColumns=M;var L=t.useMemo((function(){for(var e=[],t=[],n={},r=[].concat(M);r.length;){var i=r.shift();se({data:l,rows:e,flatRows:t,rowsById:n,column:i,getRowId:b,getSubRows:g,accessValueHooks:u().accessValue,getInstance:a})}return[e,t,n]}),[M,l,b,g,u,a]),F=L[0],B=L[1],j=L[2];Object.assign(a(),{rows:F,initialRows:[].concat(F),flatRows:B,rowsById:j}),v(u().useInstanceAfterData,a());var V=t.useMemo((function(){return p(u().visibleColumns,M,{instance:a()}).map((function(e){return I(e,y)}))}),[u,M,a,y].concat(p(u().visibleColumnsDeps,[],{instance:a()})));M=t.useMemo((function(){var e=[].concat(V);return M.forEach((function(t){e.find((function(e){return e.id===t.id}))||e.push(t)})),e}),[M,V]),a().allColumns=M;var U=t.useMemo((function(){return p(u().headerGroups,T(V,y),a())}),[u,V,y,a].concat(p(u().headerGroupsDeps,[],{instance:a()})));a().headerGroups=U;var z=t.useMemo((function(){return U.length?U[0].headers:[]}),[U]);a().headers=z,a().flatHeaders=U.reduce((function(e,t){return[].concat(e,t.headers)}),[]),v(u().useInstanceBeforeDimensions,a());var q=V.filter((function(e){return e.isVisible})).map((function(e){return e.id})).sort().join("_");V=t.useMemo((function(){return V.filter((function(e){return e.isVisible}))}),[V,q]),a().visibleColumns=V;var G=ue(z),W=G[0],H=G[1],$=G[2];return a().totalColumnsMinWidth=W,a().totalColumnsWidth=H,a().totalColumnsMaxWidth=$,v(u().useInstance,a()),[].concat(a().flatHeaders,a().allColumns).forEach((function(e){e.render=k(a(),e),e.getHeaderProps=d(u().getHeaderProps,{instance:a(),column:e}),e.getFooterProps=d(u().getFooterProps,{instance:a(),column:e})})),a().headerGroups=t.useMemo((function(){return U.filter((function(e,t){return e.headers=e.headers.filter((function(e){return e.headers?function e(t){return t.filter((function(t){return t.headers?e(t.headers):t.isVisible})).length}(e.headers):e.isVisible})),!!e.headers.length&&(e.getHeaderGroupProps=d(u().getHeaderGroupProps,{instance:a(),headerGroup:e,index:t}),e.getFooterGroupProps=d(u().getFooterGroupProps,{instance:a(),headerGroup:e,index:t}),!0)}))}),[U,a,u]),a().footerGroups=[].concat(a().headerGroups).reverse(),a().prepareRow=t.useCallback((function(e){e.getRowProps=d(u().getRowProps,{instance:a(),row:e}),e.allCells=M.map((function(t){var n=e.values[t.id],r={column:t,row:e,value:n};return r.getCellProps=d(u().getCellProps,{instance:a(),cell:r}),r.render=k(a(),t,{row:e,cell:r,value:n}),r})),e.cells=V.map((function(t){return e.allCells.find((function(e){return e.column.id===t.id}))})),v(u().prepareRow,e,{instance:a()})}),[u,a,M,V]),a().getTableProps=d(u().getTableProps,{instance:a()}),a().getTableBodyProps=d(u().getTableBodyProps,{instance:a()}),v(u().useFinalInstance,a()),a()},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(791))},358:function(e,t,n){e.exports=n(707)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=m.prototype=new g;b.constructor=m,r(b,y.prototype),b.isPureReactComponent=!0;var w={current:null},k=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,r)&&!x.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:i,type:e,key:a,ref:u,props:o,_owner:w.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var _=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,a){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case o:s=!0}}if(s)return a=a(s=e),e=""===r?"."+I(s,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(_,"$&/")+"/"),T(a,t,n,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+e)),t.push(a)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(u=e[c],c);s+=T(u,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+I(u,c++),a);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var R={current:null};function O(){var e=R.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)k.call(t,l)&&!x.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:u,props:o,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return R()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function g(){}function m(){}var b={};s(b,o,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(A([])));k&&k!==n&&r.call(k,o)&&(b=k);var x=m.prototype=y.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,o,a,u){var s=l(e[i],e,o);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:R}}function R(){return{value:t,done:!0}}return g.prototype=m,s(x,"constructor",m),s(m,"constructor",g),g.displayName=s(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(E.prototype),s(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(x),s(x,u,"Generator"),s(x,o,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,g=-1,m=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,k=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();b=e+m;try{y(!0,e)?k.postMessage(null):(v=!1,y=null)}catch(n){throw k.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,k.postMessage(null))},r=function(e,n){g=h((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<_(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],u=o+1,s=e[u];if(void 0!==a&&0>_(a,n))void 0!==s&&0>_(s,a)?(e[r]=s,e[u]=n,r=u):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==s&&0>_(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function _(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],T=[],C=1,A=null,R=3,O=!1,P=!1,N=!1;function D(e){for(var t=S(T);null!==t;){if(null===t.callback)E(T);else{if(!(t.startTime<=e))break;E(T),t.sortIndex=t.expirationTime,x(I,t)}t=S(T)}}function M(e){if(N=!1,D(e),!P)if(null!==S(I))P=!0,n(L);else{var t=S(T);null!==t&&r(M,t.startTime-e)}}function L(e,n){P=!1,N&&(N=!1,i()),O=!0;var o=R;try{for(D(n),A=S(I);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=A.callback;if("function"===typeof a){A.callback=null,R=A.priorityLevel;var u=a(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===S(I)&&E(I),D(n)}else E(I);A=S(I)}if(null!==A)var s=!0;else{var c=S(T);null!==c&&r(M,c.startTime-n),s=!1}return s}finally{A=null,R=o,O=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||O||(P=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return S(I)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,o,a){var u=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?u+a:u:a=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>u?(e.sortIndex=a,x(T,e),null===S(I)&&e===S(T)&&(N?i():N=!0,r(M,a-u))):(e.sortIndex=s,x(I,e),P||O||(P=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".b0fcb2dc.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="pwa-app:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var u,s;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+o),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/pwa-app/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),u=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",u.name="ChunkLoadError",u.type=o,u.request=a,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],u=r[1],s=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkpwa_app=self.webpackChunkpwa_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return U},SDK_VERSION:function(){return Le},_DEFAULT_ENTRY_NAME:function(){return Se},_addComponent:function(){return Te},_addOrOverwriteComponent:function(){return Ce},_apps:function(){return _e},_clearComponents:function(){return Pe},_components:function(){return Ie},_getProvider:function(){return Re},_registerComponent:function(){return Ae},_removeServiceInstance:function(){return Oe},deleteApp:function(){return Ve},getApp:function(){return Be},getApps:function(){return je},initializeApp:function(){return Fe},onLog:function(){return qe},registerVersion:function(){return ze},setLogLevel:function(){return Ge}});var t=n(791),r=n.t(t,2),i=n(164);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=n(184),c=function(e){var t=e.filterText,n=e.inStockOnly,r=e.setFilterText,i=e.setInStockOnly;return(0,s.jsxs)("form",{children:[(0,s.jsx)("input",{type:"text",placeholder:"Search...",value:t,onChange:function(e){r(e.target.value)}}),(0,s.jsxs)("p",{children:[(0,s.jsx)("input",{type:"checkbox",defaultChecked:n,onChange:function(){i(!n)}})," ","Only show products in stock"]})]})};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=[{Header:"\u30ab\u30c6\u30b4\u30ea",accessor:"category"},{Header:"\u5546\u54c1\u540d",accessor:"name"},{Header:"\u4fa1\u683c",accessor:"price"},{Header:"\u5728\u5eab",accessor:"stocked"}],p=n(358),v=function(e){var n=e.products,r=e.filterText,i=e.inStockOnly,o=[];n.forEach((function(e){-1!==e.name.indexOf(r)&&(i&&!e.stocked||o.push(e))}));var a=(0,t.useMemo)((function(){return o}),[o]),u=(0,t.useMemo)((function(){return d}),[]),c=(0,p.useTable)({columns:u,data:a}),l=c.getTableProps,f=c.getTableBodyProps,v=c.headerGroups,y=c.rows,g=c.prepareRow;return(0,s.jsxs)("table",h(h({},l()),{},{style:{border:"solid 1px blue"},children:[(0,s.jsx)("thead",{children:v.map((function(e){return(0,s.jsx)("tr",h(h({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,s.jsx)("th",h(h({},e.getHeaderProps()),{},{style:{borderBottom:"solid 3px red",background:"aliceblue",color:"black",fontWeight:"bold"},children:e.render("Header")}))}))}))}))}),(0,s.jsx)("tbody",h(h({},f()),{},{children:y.map((function(e){return g(e),(0,s.jsx)("tr",h(h({},e.getRowProps()),{},{children:e.cells.map((function(e){return(0,s.jsx)("td",h(h({},e.getCellProps()),{},{style:{padding:"10px",border:"solid 1px gray",background:"papayawhip"},children:e.render("Cell")}))}))}))}))}))]}))},y=function(e){var n=e.products,r=u((0,t.useState)(""),2),i=r[0],o=r[1],a=u((0,t.useState)(!1),2),l=a[0],f=a[1];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c,{filterText:i,inStockOnly:l,setFilterText:o,setInStockOnly:f}),(0,s.jsx)(v,{products:n,filterText:i,inStockOnly:l})]})};function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function b(e,t,n){return b=m()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&g(i,n.prototype),i},b.apply(null,arguments)}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){if(t&&("object"===x(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function _(e){var t=m();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E(this,n)}}function I(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function R(e){var t="function"===typeof Map?new Map:void 0;return R=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return b(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,e)},R(e)}var O=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},P={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,u=a?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=o>>2,f=(3&o)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(O(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==s)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==u){var l=a<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},N=function(e){var t=O(e);return P.encodeByteArray(t,!0)},D=function(e){return N(e).replace(/\./g,"")};function M(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=M(e[n],t[n]));return e}var L=function(){function e(){var t=this;T(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return A(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function F(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[D(JSON.stringify({alg:"none",type:"JWT"})),D(JSON.stringify(o)),""].join(".")}function B(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function j(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V(){return"object"===typeof indexedDB}var U=function(e){w(n,e);var t=_(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this,r)).code=e,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(S(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(S(o),z.prototype.create),o}return A(n)}(R(Error)),z=function(){function e(t,n,r){T(this,e),this.service=t,this.serviceName=n,this.errors=r}return A(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?q(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),a=new U(n,o,t);return a}}]),e}();function q(e,t){return e.replace(G,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var G=/\{\$([^}]+)}/g;function W(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function H(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var u=e[a],s=t[a];if(K(u)&&K(s)){if(!H(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function K(e){return null!==e&&"object"===typeof e}function Q(e,t){var n=new $(e,t);return n.subscribe.bind(n)}var $=function(){function e(t,n){var r=this;T(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return A(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=I(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(o){r.e(o)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Y),void 0===r.error&&(r.error=Y),void 0===r.complete&&(r.complete=Y);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Y(){}function X(e){return e&&e._delegate?e._delegate:e}function J(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Z(o,r,i,a,u,"next",e)}function u(e){Z(o,r,i,a,u,"throw",e)}a(void 0)}))}}var te=n(757),ne=n.n(te),re=function(){function e(t,n,r){T(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return A(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ie="[DEFAULT]",oe=function(){function e(t,n){T(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return A(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new L;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(c){}var t,n=I(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],o=r[1],a=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:a});o.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ee(te.mark((function e(){var t;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(J(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),J(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),a=I(this.instancesDeferred.entries());try{for(a.s();!(i=a.n()).done;){var s=u(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(o)}}catch(h){a.e(h)}finally{a.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;try{o(e,t)}catch(Bv){}}}catch(a){i.e(a)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ae(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(Bv){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie;return this.component?this.component.multipleInstances?e:ie:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function ae(e){return e===ie?void 0:e}var ue,se,ce=function(){function e(t){T(this,e),this.name=t,this.providers=new Map}return A(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new oe(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),le=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(se||(se={}));var fe={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},he=se.INFO,de=(l(ue={},se.DEBUG,"log"),l(ue,se.VERBOSE,"log"),l(ue,se.INFO,"info"),l(ue,se.WARN,"warn"),l(ue,se.ERROR,"error"),ue),pe=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=de[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,o=arguments.length,a=new Array(o>2?o-2:0),u=2;u<o;u++)a[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(a))}},ve=function(){function e(t){T(this,e),this.name=t,this._logLevel=he,this._logHandler=pe,this._userLogHandler=null,le.push(this)}return A(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in se))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?fe[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,se.DEBUG].concat(t)),this._logHandler.apply(this,[this,se.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,se.VERBOSE].concat(t)),this._logHandler.apply(this,[this,se.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,se.INFO].concat(t)),this._logHandler.apply(this,[this,se.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,se.WARN].concat(t)),this._logHandler.apply(this,[this,se.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,se.ERROR].concat(t)),this._logHandler.apply(this,[this,se.ERROR].concat(t))}}]),e}();var ye,ge,me=n(348),be=function(){function e(t){T(this,e),this.container=t}return A(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var we="@firebase/app",ke="0.7.18",xe=new ve("@firebase/app"),Se="[DEFAULT]",Ee=(l(ye={},we,"fire-core"),l(ye,"@firebase/app-compat","fire-core-compat"),l(ye,"@firebase/analytics","fire-analytics"),l(ye,"@firebase/analytics-compat","fire-analytics-compat"),l(ye,"@firebase/app-check","fire-app-check"),l(ye,"@firebase/app-check-compat","fire-app-check-compat"),l(ye,"@firebase/auth","fire-auth"),l(ye,"@firebase/auth-compat","fire-auth-compat"),l(ye,"@firebase/database","fire-rtdb"),l(ye,"@firebase/database-compat","fire-rtdb-compat"),l(ye,"@firebase/functions","fire-fn"),l(ye,"@firebase/functions-compat","fire-fn-compat"),l(ye,"@firebase/installations","fire-iid"),l(ye,"@firebase/installations-compat","fire-iid-compat"),l(ye,"@firebase/messaging","fire-fcm"),l(ye,"@firebase/messaging-compat","fire-fcm-compat"),l(ye,"@firebase/performance","fire-perf"),l(ye,"@firebase/performance-compat","fire-perf-compat"),l(ye,"@firebase/remote-config","fire-rc"),l(ye,"@firebase/remote-config-compat","fire-rc-compat"),l(ye,"@firebase/storage","fire-gcs"),l(ye,"@firebase/storage-compat","fire-gcs-compat"),l(ye,"@firebase/firestore","fire-fst"),l(ye,"@firebase/firestore-compat","fire-fst-compat"),l(ye,"fire-js","fire-js"),l(ye,"firebase","fire-js-all"),ye),_e=new Map,Ie=new Map;function Te(e,t){try{e.container.addComponent(t)}catch(n){xe.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ce(e,t){e.container.addOrOverwriteComponent(t)}function Ae(e){var t=e.name;if(Ie.has(t))return xe.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ie.set(t,e);var n,r=I(_e.values());try{for(r.s();!(n=r.n()).done;){Te(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Re(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Se;Re(e,t).clearInstance(n)}function Pe(){Ie.clear()}var Ne=(l(ge={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),l(ge,"bad-app-name","Illegal App name: '{$appName}"),l(ge,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),l(ge,"app-deleted","Firebase App named '{$appName}' already deleted"),l(ge,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),l(ge,"invalid-log-argument","First argument to `onLog` must be null or a function."),l(ge,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),l(ge,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),l(ge,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),l(ge,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),ge),De=new z("app","Firebase",Ne),Me=function(){function e(t,n,r){var i=this;T(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new re("app",(function(){return i}),"PUBLIC"))}return A(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw De.create("app-deleted",{appName:this._name})}}]),e}(),Le="9.6.8";function Fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Se,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw De.create("bad-app-name",{appName:String(i)});var o=_e.get(i);if(o){if(H(e,o.options)&&H(r,o.config))return o;throw De.create("duplicate-app",{appName:i})}var a,u=new ce(i),s=I(Ie.values());try{for(s.s();!(a=s.n()).done;){var c=a.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Me(e,r,u);return _e.set(i,l),l}function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=_e.get(e);if(!t)throw De.create("no-app",{appName:e});return t}function je(){return Array.from(_e.values())}function Ve(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=ee(te.mark((function e(t){var n;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!_e.has(n)){e.next=6;break}return _e.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(e,t,n){var r,i=null!==(r=Ee[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&u.push("and"),a&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void xe.warn(u.join(" "))}Ae(new re("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function qe(e,t){if(null!==e&&"function"!==typeof e)throw De.create("invalid-log-argument");!function(e,t){var n,r=I(le);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=fe[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var u=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:se[n].toLowerCase(),message:u,args:o,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}}(e,t)}function Ge(e){var t;t=e,le.forEach((function(e){e.setLogLevel(t)}))}var We="firebase-heartbeat-store",He=null;function Ke(){return He||(He=(0,me.openDb)("firebase-heartbeat-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(We)})).catch((function(e){throw De.create("storage-open",{originalErrorMessage:e.message})}))),He}function Qe(e){return $e.apply(this,arguments)}function $e(){return $e=ee(te.mark((function e(t){var n;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke();case 3:return n=e.sent,e.abrupt("return",n.transaction(We).objectStore(We).get(et(t)));case 7:throw e.prev=7,e.t0=e.catch(0),De.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),$e.apply(this,arguments)}function Ye(e,t){return Xe.apply(this,arguments)}function Xe(){return Xe=ee(te.mark((function e(t,n){var r,i,o;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke();case 3:return r=e.sent,i=r.transaction(We,"readwrite"),o=i.objectStore(We),e.next=8,o.put(n,et(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),De.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Xe.apply(this,arguments)}function Je(e){return Ze.apply(this,arguments)}function Ze(){return Ze=ee(te.mark((function e(t){var n,r;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke();case 3:return n=e.sent,r=n.transaction(We,"readwrite"),e.next=7,r.objectStore(We).delete(et(t));case 7:return e.abrupt("return",r.complete);case 10:throw e.prev=10,e.t0=e.catch(0),De.create("storage-delete",{originalErrorMessage:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Ze.apply(this,arguments)}function et(e){return"".concat(e.name,"!").concat(e.options.appId)}var tt=function(){function e(t){var n=this;T(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new at(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return A(e,[{key:"triggerHeartbeat",value:function(){var e=ee(te.mark((function e(){var t,n,r;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=nt(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(!this._heartbeatsCache.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.push({date:r,userAgent:n});case 12:return this._heartbeatsCache=this._heartbeatsCache.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ee(te.mark((function e(){var t,n,r,i;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache){e.next=5;break}return e.abrupt("return","");case 5:if(t=rt(this._heartbeatsCache),n=t.heartbeatsToSend,r=t.unsentEntries,i=N(JSON.stringify({version:2,heartbeats:n})),!(r.length>0)){e.next=13;break}return this._heartbeatsCache=r,e.next=11,this._storage.overwrite(this._heartbeatsCache);case 11:e.next=15;break;case 13:this._heartbeatsCache=null,this._storage.deleteAll();case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function nt(){return(new Date).toISOString().substring(0,10)}function rt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),o=I(e);try{var a=function(){var e=t.value,o=r.find((function(t){return t.userAgent===e.userAgent}));if(o){if(o.dates.push(e.date),ut(r)>n)return o.dates.pop(),"break"}else if(r.push({userAgent:e.userAgent,dates:[e.date]}),ut(r)>n)return r.pop(),"break";i=i.slice(1)};for(o.s();!(t=o.n()).done;){var u=a();if("break"===u)break}}catch(s){o.e(s)}finally{o.f()}return{heartbeatsToSend:r,unsentEntries:i}}var it,ot,at=function(){function e(t){T(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return A(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ee(te.mark((function e(){return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ee(te.mark((function e(){var t;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",[]);case 7:return e.next=9,Qe(this.app);case 9:return t=e.sent,e.abrupt("return",(null===t||void 0===t?void 0:t.heartbeats)||[]);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ee(te.mark((function e(t){return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",Ye(this.app,{heartbeats:t}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ee(te.mark((function e(t){var n;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return n=e.sent,e.abrupt("return",Ye(this.app,{heartbeats:[].concat(J(n),J(t))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ee(te.mark((function e(t){var n;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return n=e.sent,e.abrupt("return",Ye(this.app,{heartbeats:n.filter((function(e){return!t.includes(e)}))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteAll",value:function(){var e=ee(te.mark((function e(){return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",Je(this.app));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ut(e){return N(JSON.stringify({version:2,heartbeats:e})).length}it="",Ae(new re("platform-logger",(function(e){return new be(e)}),"PRIVATE")),Ae(new re("heartbeat",(function(e){return new tt(e)}),"PRIVATE")),ze(we,ke,it),ze(we,ke,"esm2017"),ze("fire-js","");var st=function(){function e(t,n){var r=this;T(this,e),this._delegate=t,this.firebase=n,Te(t,new re("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return A(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ve(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Se;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Se;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Te(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Ce(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ct=(l(ot={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),l(ot,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ot),lt=new z("app-compat","Firebase",ct);var ft=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Fe(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(W(n,i.name))return n[i.name];var o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:ze,setLogLevel:Ge,onLog:qe,apps:null,SDK_VERSION:Le,INTERNAL:{registerComponent:function(e){var n=e.name,o=n.replace("-compat","");if(Ae(e)&&"PUBLIC"===e.type){var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw lt.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&M(a,e.serviceProps),r[o]=a,t.prototype[o]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!W(n,e=e||Se))throw lt.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(st);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){M(n,e)},createSubscribe:Q,ErrorFactory:z,deepExtend:M}),n}(),ht=new ve("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ht.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&ht.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var pt=ft;function vt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}function yt(){return yt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=vt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},yt.apply(this,arguments)}!function(e){ze("@firebase/app-compat","0.1.19",e)}();var gt,mt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},bt={},wt=wt||{},kt=mt||self;function xt(){}function St(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Et(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var _t="closure_uid_"+(1e9*Math.random()>>>0),It=0;function Tt(e,t,n){return e.call.apply(e.bind,arguments)}function Ct(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function At(e,t,n){return(At=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Tt:Ct).apply(null,arguments)}function Rt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ot(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Pt(){this.s=this.s,this.o=this.o}var Nt={};Pt.prototype.s=!1,Pt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,_t)&&e[_t]||(e[_t]=++It)}(this);delete Nt[e]}},Pt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Dt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Mt=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Lt(e){return Array.prototype.concat.apply([],arguments)}function Ft(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Bt(e){return/^[\s\xa0]*$/.test(e)}var jt,Vt=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ut(e,t){return-1!=e.indexOf(t)}function zt(e,t){return e<t?-1:e>t?1:0}e:{var qt=kt.navigator;if(qt){var Gt=qt.userAgent;if(Gt){jt=Gt;break e}}jt=""}function Wt(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ht(e){var t={};for(var n in e)t[n]=e[n];return t}var Kt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qt(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Kt.length;o++)n=Kt[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function $t(e){return $t[" "](e),e}$t[" "]=xt;var Yt,Xt=Ut(jt,"Opera"),Jt=Ut(jt,"Trident")||Ut(jt,"MSIE"),Zt=Ut(jt,"Edge"),en=Zt||Jt,tn=Ut(jt,"Gecko")&&!(Ut(jt.toLowerCase(),"webkit")&&!Ut(jt,"Edge"))&&!(Ut(jt,"Trident")||Ut(jt,"MSIE"))&&!Ut(jt,"Edge"),nn=Ut(jt.toLowerCase(),"webkit")&&!Ut(jt,"Edge");function rn(){var e=kt.document;return e?e.documentMode:void 0}e:{var on="",an=function(){var e=jt;return tn?/rv:([^\);]+)(\)|;)/.exec(e):Zt?/Edge\/([\d\.]+)/.exec(e):Jt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):nn?/WebKit\/(\S+)/.exec(e):Xt?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(an&&(on=an?an[1]:""),Jt){var un=rn();if(null!=un&&un>parseFloat(on)){Yt=String(un);break e}}Yt=on}var sn,cn={};function ln(){return function(e){var t=cn;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Vt(String(Yt)).split("."),n=Vt("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=zt(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||zt(0==o[2].length,0==a[2].length)||zt(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(kt.document&&Jt){var fn=rn();sn=fn||(parseInt(Yt,10)||void 0)}else sn=void 0;var hn=sn,dn=function(){if(!kt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{kt.addEventListener("test",xt,t),kt.removeEventListener("test",xt,t)}catch(n){}return e}();function pn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function vn(e,t){if(pn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(tn){e:{try{$t(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:yn[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&vn.Z.h.call(this)}}pn.prototype.h=function(){this.defaultPrevented=!0},Ot(vn,pn);var yn={2:"touch",3:"pen",4:"mouse"};vn.prototype.h=function(){vn.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var gn="closure_listenable_"+(1e6*Math.random()|0),mn=0;function bn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++mn,this.ca=this.fa=!1}function wn(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function kn(e){this.src=e,this.g={},this.h=0}function xn(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Dt(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(wn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Sn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}kn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Sn(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new bn(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var En="closure_lm_"+(1e6*Math.random()|0),_n={};function In(e,t,n,r,i){if(r&&r.once)return Cn(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)In(e,t[o],n,r,i);return null}return n=Mn(n),e&&e[gn]?e.N(t,n,Et(r)?!!r.capture:!!r,i):Tn(e,t,n,!1,r,i)}function Tn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Et(i)?!!i.capture:!!i,u=Nn(e);if(u||(e[En]=u=new kn(e)),(n=u.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Pn;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)dn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(On(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Cn(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Cn(e,t[o],n,r,i);return null}return n=Mn(n),e&&e[gn]?e.O(t,n,Et(r)?!!r.capture:!!r,i):Tn(e,t,n,!0,r,i)}function An(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)An(e,t[o],n,r,i);else r=Et(r)?!!r.capture:!!r,n=Mn(n),e&&e[gn]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Sn(o=e.g[t],n,r,i))&&(wn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Nn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Sn(t,n,r,i)),(n=-1<e?t[e]:null)&&Rn(n))}function Rn(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[gn])xn(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(On(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Nn(t))?(xn(n,e),0==n.h&&(n.src=null,t[En]=null)):wn(e)}}}function On(e){return e in _n?_n[e]:_n[e]="on"+e}function Pn(e,t){if(e.ca)e=!0;else{t=new vn(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Rn(e),e=n.call(r,t)}return e}function Nn(e){return(e=e[En])instanceof kn?e:null}var Dn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mn(e){return"function"===typeof e?e:(e[Dn]||(e[Dn]=function(t){return e.handleEvent(t)}),e[Dn])}function Ln(){Pt.call(this),this.i=new kn(this),this.P=this,this.I=null}function Fn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new pn(t,e);else if(t instanceof pn)t.target=t.target||e;else{var i=t;Qt(t=new pn(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Bn(a,r,!0,t)&&i}if(i=Bn(a=t.g=e,r,!0,t)&&i,i=Bn(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Bn(a=t.g=n[o],r,!1,t)&&i}function Bn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var u=a.listener,s=a.ia||a.src;a.fa&&xn(e.i,a),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ot(Ln,Pt),Ln.prototype[gn]=!0,Ln.prototype.removeEventListener=function(e,t,n,r){An(this,e,t,n,r)},Ln.prototype.M=function(){if(Ln.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wn(n[r]);delete t.g[e],t.h--}}this.I=null},Ln.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ln.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var jn=kt.JSON.stringify;function Vn(){var e=Qn,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Un,zn=function(){function e(){T(this,e),this.h=this.g=null}return A(e,[{key:"add",value:function(e,t){var n=qn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),qn=new(function(){function e(t,n){T(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return A(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Gn}),(function(e){return e.reset()})),Gn=function(){function e(){T(this,e),this.next=this.g=this.h=null}return A(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Wn(e){kt.setTimeout((function(){throw e}),0)}function Hn(e,t){Un||function(){var e=kt.Promise.resolve(void 0);Un=function(){e.then($n)}}(),Kn||(Un(),Kn=!0),Qn.add(e,t)}var Kn=!1,Qn=new zn;function $n(){for(var e;e=Vn();){try{e.h.call(e.g)}catch(n){Wn(n)}var t=qn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Kn=!1}function Yn(e,t){Ln.call(this),this.h=e||1,this.g=t||kt,this.j=At(this.kb,this),this.l=Date.now()}function Xn(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Jn(e,t,n){if("function"===typeof e)n&&(e=At(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=At(e.handleEvent,e)}return 2147483647<Number(t)?-1:kt.setTimeout(e,t||0)}function Zn(e){e.g=Jn((function(){e.g=null,e.i&&(e.i=!1,Zn(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ot(Yn,Ln),(gt=Yn.prototype).da=!1,gt.S=null,gt.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Fn(this,"tick"),this.da&&(Xn(this),this.start()))}},gt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gt.M=function(){Yn.Z.M.call(this),Xn(this),delete this.g};var er=function(e){w(n,e);var t=_(n);function n(e,r){var i;return T(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return A(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Zn(this)}},{key:"M",value:function(){yt(k(n.prototype),"M",this).call(this),this.g&&(kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Pt);function tr(e){Pt.call(this),this.h=e,this.g={}}Ot(tr,Pt);var nr=[];function rr(e,t,n,r){Array.isArray(n)||(n&&(nr[0]=n.toString()),n=nr);for(var i=0;i<n.length;i++){var o=In(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function ir(e){Wt(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Rn(e)}),e),e.g={}}function or(){this.g=!0}function ar(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return jn(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}tr.prototype.M=function(){tr.Z.M.call(this),ir(this)},tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},or.prototype.Aa=function(){this.g=!1},or.prototype.info=function(){};var ur={},sr=null;function cr(){return sr=sr||new Ln}function lr(e){pn.call(this,ur.Ma,e)}function fr(e){var t=cr();Fn(t,new lr(t,e))}function hr(e,t){pn.call(this,ur.STAT_EVENT,e),this.stat=t}function dr(e){var t=cr();Fn(t,new hr(t,e))}function pr(e,t){pn.call(this,ur.Na,e),this.size=t}function vr(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return kt.setTimeout((function(){e()}),t)}ur.Ma="serverreachability",Ot(lr,pn),ur.STAT_EVENT="statevent",Ot(hr,pn),ur.Na="timingevent",Ot(pr,pn);var yr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},gr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function mr(){}function br(e){return e.h||(e.h=e.i())}function wr(){}mr.prototype.h=null;var kr,xr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Sr(){pn.call(this,"d")}function Er(){pn.call(this,"c")}function _r(){}function Ir(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new tr(this),this.P=Cr,e=en?125:void 0,this.W=new Yn(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Tr}function Tr(){this.i=null,this.g="",this.h=!1}Ot(Sr,pn),Ot(Er,pn),Ot(_r,mr),_r.prototype.g=function(){return new XMLHttpRequest},_r.prototype.i=function(){return{}},kr=new _r;var Cr=45e3,Ar={},Rr={};function Or(e,t,n){e.K=1,e.v=ei(Qr(t)),e.s=n,e.U=!0,Pr(e,null)}function Pr(e,t){e.F=Date.now(),Lr(e),e.A=Qr(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),di(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Tr,e.g=yo(e.l,n?t:null,!e.s),0<e.O&&(e.L=new er(At(e.Ia,e,e.g),e.O)),rr(e.V,e.g,"readystatechange",e.gb),t=e.H?Ht(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),fr(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",u=o.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Nr(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Dr(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Mr(e,n))==Rr){4==t&&(e.o=4,dr(14),i=!1),ar(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ar){e.o=4,dr(15),ar(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ar(e.j,e.m,r,null),Ur(e,r)}Nr(e)&&r!=Rr&&r!=Ar&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,dr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),uo(t),t.L=!0,dr(11))):(ar(e.j,e.m,n,"[Invalid Chunked Response]"),Vr(e),jr(e))}function Mr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Rr:(n=Number(t.substring(n,r)),isNaN(n)?Ar:(r+=1)+n>t.length?Rr:(t=t.substr(r,n),e.C=r+n,t))}function Lr(e){e.Y=Date.now()+e.P,Fr(e,e.P)}function Fr(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=vr(At(e.eb,e),t)}function Br(e){e.B&&(kt.clearTimeout(e.B),e.B=null)}function jr(e){0==e.l.G||e.I||lo(e.l,e)}function Vr(e){Br(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Xn(e.W),ir(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ur(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ki(n.i,e)))if(n.I=e.N,!e.J&&ki(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;co(n),Ji(n)}ao(n),dr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=vr(At(n.ab,n),6e3));if(1>=wi(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else ho(n,11)}else if((e.J||n.g==e)&&co(n),!Bt(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var u=o[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=o[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Ut(l,"spdy")||Ut(l,"quic")||Ut(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(xi(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Zr(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=vo(r,r.H?r.la:null,r.W),d.J){Si(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Br(p),Lr(p)),r.g=d}else oo(r);0<n.l.length&&to(n)}else"stop"!=o[0]&&"close"!=o[0]||ho(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?ho(n,7):Xi(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}fr(4)}catch(o){}}function zr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(St(e)||"string"===typeof e)Mt(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(St(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(St(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function qr(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof qr)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Gr(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Wr(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Wr(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Wr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(gt=Ir.prototype).setTimeout=function(e){this.P=e},gt.gb=function(e){e=e.target;var t=this.L;t&&3==Hi(e)?t.l():this.Ia(e)},gt.Ia=function(e){try{if(e==this.g)e:{var t=Hi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||en||this.g&&(this.h.h||this.g.ga()||Ki(this.g)))){this.I||4!=t||7==n||fr(8==n||0>=r?3:2),Br(this);var i=this.g.ba();this.N=i;t:if(Nr(this)){var o=Ki(this.g);e="";var a=o.length,u=4==Hi(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Vr(this),jr(this);var s="";break t}this.h.i=new kt.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:u&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bt(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,dr(12),Vr(this),jr(this);break e}ar(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ur(this,i)}this.U?(Dr(this,t,s),en&&this.i&&3==t&&(rr(this.V,this.W,"tick",this.fb),this.W.start())):(ar(this.j,this.m,s,null),Ur(this,s)),4==t&&Vr(this),this.i&&!this.I&&(4==t?lo(this.l,this):(this.i=!1,Lr(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,dr(12)):(this.o=0,dr(13)),Vr(this),jr(this)}}}catch(t){}},gt.fb=function(){if(this.g){var e=Hi(this.g),t=this.g.ga();this.C<t.length&&(Br(this),Dr(this,e,t),this.i&&4!=e&&Lr(this))}},gt.cancel=function(){this.I=!0,Vr(this)},gt.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(fr(3),dr(17)),Vr(this),this.o=2,jr(this)):Fr(this,this.Y-e)},(gt=qr.prototype).R=function(){Gr(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},gt.T=function(){return Gr(this),this.g.concat()},gt.get=function(e,t){return Wr(this.h,e)?this.h[e]:t},gt.set=function(e,t){Wr(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},gt.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Hr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Kr(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Kr){this.g=void 0!==t?t:e.g,$r(this,e.j),this.s=e.s,Yr(this,e.i),Xr(this,e.m),this.l=e.l,t=e.h;var n=new ci;n.i=t.i,t.g&&(n.g=new qr(t.g),n.h=t.h),Jr(this,n),this.o=e.o}else e&&(n=String(e).match(Hr))?(this.g=!!t,$r(this,n[1]||"",!0),this.s=ti(n[2]||""),Yr(this,n[3]||"",!0),Xr(this,n[4]),this.l=ti(n[5]||"",!0),Jr(this,n[6]||"",!0),this.o=ti(n[7]||"")):(this.g=!!t,this.h=new ci(null,this.g))}function Qr(e){return new Kr(e)}function $r(e,t,n){e.j=n?ti(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Yr(e,t,n){e.i=n?ti(t,!0):t}function Xr(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Jr(e,t,n){t instanceof ci?(e.h=t,function(e,t){t&&!e.j&&(li(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(fi(this,t),di(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ni(t,ui)),e.h=new ci(t,e.g))}function Zr(e,t,n){e.h.set(t,n)}function ei(e){return Zr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ti(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ni(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ri),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ri(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Kr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ni(t,ii,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ni(t,ii,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ni(n,"/"==n.charAt(0)?ai:oi,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ni(n,si)),e.join("")};var ii=/[#\/\?@]/g,oi=/[#\?:]/g,ai=/[#\?]/g,ui=/[#\?@]/g,si=/#/g;function ci(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function li(e){e.g||(e.g=new qr,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function fi(e,t){li(e),t=pi(e,t),Wr(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Wr((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Gr(e)))}function hi(e,t){return li(e),t=pi(e,t),Wr(e.g.h,t)}function di(e,t,n){fi(e,t),0<n.length&&(e.i=null,e.g.set(pi(e,t),Ft(n)),e.h+=n.length)}function pi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(gt=ci.prototype).add=function(e,t){li(this),this.i=null,e=pi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},gt.forEach=function(e,t){li(this),this.g.forEach((function(n,r){Mt(n,(function(n){e.call(t,n,r,this)}),this)}),this)},gt.T=function(){li(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},gt.R=function(e){li(this);var t=[];if("string"===typeof e)hi(this,e)&&(t=Lt(t,this.g.get(pi(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Lt(t,e[n])}return t},gt.set=function(e,t){return li(this),this.i=null,hi(this,e=pi(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},gt.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var vi=A((function e(t,n){T(this,e),this.h=t,this.g=n}));function yi(e){this.l=e||mi,kt.PerformanceNavigationTiming?e=0<(e=kt.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(kt.g&&kt.g.Ea&&kt.g.Ea()&&kt.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gi,mi=10;function bi(e){return!!e.h||!!e.g&&e.g.size>=e.j}function wi(e){return e.h?1:e.g?e.g.size:0}function ki(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function xi(e,t){e.g?e.g.add(t):e.h=t}function Si(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ei(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=I(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(o){r.e(o)}finally{r.f()}return n}return Ft(e.i)}function _i(){}function Ii(){this.g=new _i}function Ti(e,t,n){var r=n||"";try{zr(e,(function(e,n){var i=e;Et(e)&&(i=jn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ci(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Ai(e){this.l=e.$b||null,this.j=e.ib||!1}function Ri(e,t){Ln.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Oi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yi.prototype.cancel=function(){if(this.i=Ei(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=I(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},_i.prototype.stringify=function(e){return kt.JSON.stringify(e,void 0)},_i.prototype.parse=function(e){return kt.JSON.parse(e,void 0)},Ot(Ai,mr),Ai.prototype.g=function(){return new Ri(this.l,this.j)},Ai.prototype.i=(gi={},function(){return gi}),Ot(Ri,Ln);var Oi=0;function Pi(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ni(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Di(e)}function Di(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(gt=Ri.prototype).open=function(e,t){if(this.readyState!=Oi)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Di(this)},gt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||kt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ni(this)),this.readyState=Oi},gt.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof kt.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pi(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},gt.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ni(this):Di(this),3==this.readyState&&Pi(this)}},gt.Ua=function(e){this.g&&(this.response=this.responseText=e,Ni(this))},gt.Ta=function(e){this.g&&(this.response=e,Ni(this))},gt.ha=function(){this.g&&Ni(this)},gt.setRequestHeader=function(e,t){this.v.append(e,t)},gt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},gt.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Mi=kt.JSON.parse;function Li(e){Ln.call(this),this.headers=new qr,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fi,this.K=this.L=!1}Ot(Li,Ln);var Fi="",Bi=/^https?$/i,ji=["POST","PUT"];function Vi(e){return"content-type"==e.toLowerCase()}function Ui(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,zi(e),Gi(e)}function zi(e){e.D||(e.D=!0,Fn(e,"complete"),Fn(e,"error"))}function qi(e){if(e.h&&"undefined"!=typeof wt&&(!e.C[1]||4!=Hi(e)||2!=e.ba()))if(e.v&&4==Hi(e))Jn(e.Fa,0,e);else if(Fn(e,"readystatechange"),4==Hi(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Hr)[1]||null;if(!o&&kt.self&&kt.self.location){var a=kt.self.location.protocol;o=a.substr(0,a.length-1)}i=!Bi.test(o?o.toLowerCase():"")}t=i}if(t)Fn(e,"complete"),Fn(e,"success");else{e.m=6;try{var u=2<Hi(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",zi(e)}}finally{Gi(e)}}}function Gi(e,t){if(e.g){Wi(e);var n=e.g,r=e.C[0]?xt:null;e.g=null,e.C=null,t||Fn(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Wi(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(kt.clearTimeout(e.A),e.A=null)}function Hi(e){return e.g?e.g.readyState:0}function Ki(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Fi:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Qi(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Wt(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Zr(e,t,n))}function $i(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Yi(e){this.za=0,this.l=[],this.h=new or,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$i("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$i("baseRetryDelayMs",5e3,e),this.$a=$i("retryDelaySeedMs",1e4,e),this.Ya=$i("forwardChannelMaxRetries",2,e),this.ra=$i("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new yi(e&&e.concurrentRequestLimit),this.Ca=new Ii,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Xi(e){if(Zi(e),3==e.G){var t=e.V++,n=Qr(e.F);Zr(n,"SID",e.J),Zr(n,"RID",t),Zr(n,"TYPE","terminate"),ro(e,n),(t=new Ir(e,e.h,t,void 0)).K=2,t.v=ei(Qr(n)),n=!1,kt.navigator&&kt.navigator.sendBeacon&&(n=kt.navigator.sendBeacon(t.v.toString(),"")),!n&&kt.Image&&((new Image).src=t.v,n=!0),n||(t.g=yo(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Lr(t)}po(e)}function Ji(e){e.g&&(uo(e),e.g.cancel(),e.g=null)}function Zi(e){Ji(e),e.u&&(kt.clearTimeout(e.u),e.u=null),co(e),e.i.cancel(),e.m&&("number"===typeof e.m&&kt.clearTimeout(e.m),e.m=null)}function eo(e,t){e.l.push(new vi(e.Za++,t)),3==e.G&&to(e)}function to(e){bi(e.i)||e.m||(e.m=!0,Hn(e.Ha,e),e.C=0)}function no(e,t){var n;n=t?t.m:e.V++;var r=Qr(e.F);Zr(r,"SID",e.J),Zr(r,"RID",n),Zr(r,"AID",e.U),ro(e,r),e.o&&e.s&&Qi(r,e.o,e.s),n=new Ir(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=io(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),xi(e.i,n),Or(n,r,t)}function ro(e,t){e.j&&zr({},(function(e,n){Zr(t,n,e)}))}function io(e,t,n){n=Math.min(e.l.length,n);var r=e.j?At(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=o))o=Math.max(0,i[s].h-100),u=!1;else try{Ti(l,a,"req"+c+"_")}catch(Go){r&&r(l)}}if(u){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function oo(e){e.g||e.u||(e.Y=1,Hn(e.Ga,e),e.A=0)}function ao(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=vr(At(e.Ga,e),fo(e,e.A)),e.A++,!0)}function uo(e){null!=e.B&&(kt.clearTimeout(e.B),e.B=null)}function so(e){e.g=new Ir(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Qr(e.oa);Zr(t,"RID","rpc"),Zr(t,"SID",e.J),Zr(t,"CI",e.N?"0":"1"),Zr(t,"AID",e.U),ro(e,t),Zr(t,"TYPE","xmlhttp"),e.o&&e.s&&Qi(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=ei(Qr(t)),n.s=null,n.U=!0,Pr(n,e)}function co(e){null!=e.v&&(kt.clearTimeout(e.v),e.v=null)}function lo(e,t){var n=null;if(e.g==t){co(e),uo(e),e.g=null;var r=2}else{if(!ki(e.i,t))return;n=t.D,Si(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Fn(r=cr(),new pr(r,n,t,i)),to(e)}else oo(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(wi(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=vr(At(e.Ha,e,t),fo(e,e.C)),e.C++,!0))}(e,t)||2==r&&ao(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ho(e,5);break;case 4:ho(e,10);break;case 3:ho(e,6);break;default:ho(e,2)}}function fo(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ho(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=At(e.jb,e);n||(n=new Kr("//www.google.com/images/cleardot.gif"),kt.location&&"http"==kt.location.protocol||$r(n,"https"),ei(n)),function(e,t){var n=new or;if(kt.Image){var r=new Image;r.onload=Rt(Ci,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Rt(Ci,n,r,"TestLoadImage: error",!1,t),r.onabort=Rt(Ci,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Rt(Ci,n,r,"TestLoadImage: timeout",!1,t),kt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else dr(2);e.G=0,e.j&&e.j.va(t),po(e),Zi(e)}function po(e){e.G=0,e.I=-1,e.j&&(0==Ei(e.i).length&&0==e.l.length||(e.i.i.length=0,Ft(e.l),e.l.length=0),e.j.ua())}function vo(e,t,n){var r=function(e){return e instanceof Kr?Qr(e):new Kr(e,void 0)}(n);if(""!=r.i)t&&Yr(r,t+"."+r.i),Xr(r,r.m);else{var i=kt.location;r=function(e,t,n,r){var i=new Kr(null,void 0);return e&&$r(i,e),t&&Yr(i,t),n&&Xr(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Wt(e.aa,(function(e,t){Zr(r,t,e)})),t=e.D,n=e.sa,t&&n&&Zr(r,t,n),Zr(r,"VER",e.ma),ro(e,r),r}function yo(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Li(new Ai({ib:!0})):new Li(e.qa)).L=e.H,t}function go(){}function mo(){if(Jt&&!(10<=Number(hn)))throw Error("Environmental error: no available transport.")}function bo(e,t){Ln.call(this),this.g=new Yi(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Bt(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Bt(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new xo(this)}function wo(e){Sr.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ko(){Er.call(this),this.status=1}function xo(e){this.g=e}(gt=Li.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():kr.g(),this.C=this.u?br(this.u):br(kr),this.g.onreadystatechange=At(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Ui(this,o)}e=n||"";var i=new qr(this.headers);r&&zr(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Vi,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=kt.FormData&&e instanceof kt.FormData,!(0<=Dt(ji,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Wi(this),0<this.B&&((this.K=function(e){return Jt&&ln()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=At(this.pa,this)):this.A=Jn(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Ui(this,o)}},gt.pa=function(){"undefined"!=typeof wt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fn(this,"timeout"),this.abort(8))},gt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Fn(this,"complete"),Fn(this,"abort"),Gi(this))},gt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gi(this,!0)),Li.Z.M.call(this)},gt.Fa=function(){this.s||(this.F||this.v||this.l?qi(this):this.cb())},gt.cb=function(){qi(this)},gt.ba=function(){try{return 2<Hi(this)?this.g.status:-1}catch(gi){return-1}},gt.ga=function(){try{return this.g?this.g.responseText:""}catch(gi){return""}},gt.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Mi(t)}},gt.Da=function(){return this.m},gt.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(gt=Yi.prototype).ma=8,gt.G=1,gt.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},gt.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ir(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Qt(n=Ht(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=io(this,t,r),Zr(i=Qr(this.F),"RID",e),Zr(i,"CVER",22),this.D&&Zr(i,"X-HTTP-Session-Id",this.D),ro(this,i),this.o&&n&&Qi(i,this.o,n),xi(this.i,t),this.Ra&&Zr(i,"TYPE","init"),this.ja?(Zr(i,"$req",r),Zr(i,"SID","null"),t.$=!0,Or(t,i,null)):Or(t,i,r),this.G=2}}else 3==this.G&&(e?no(this,e):0==this.l.length||bi(this.i)||no(this))},gt.Ga=function(){if(this.u=null,so(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=vr(At(this.bb,this),e)}},gt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,dr(10),Ji(this),so(this))},gt.ab=function(){null!=this.v&&(this.v=null,Ji(this),ao(this),dr(19))},gt.jb=function(e){e?(this.h.info("Successfully pinged google.com"),dr(2)):(this.h.info("Failed to ping google.com"),dr(1))},(gt=go.prototype).xa=function(){},gt.wa=function(){},gt.va=function(){},gt.ua=function(){},gt.Oa=function(){},mo.prototype.g=function(e,t){return new bo(e,t)},Ot(bo,Ln),bo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Hn(At(e.hb,e,t))),dr(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=vo(e,null,e.W),to(e)},bo.prototype.close=function(){Xi(this.g)},bo.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,eo(this.g,t)}else this.v?((t={}).__data__=jn(e),eo(this.g,t)):eo(this.g,e)},bo.prototype.M=function(){this.g.j=null,delete this.j,Xi(this.g),delete this.g,bo.Z.M.call(this)},Ot(wo,Sr),Ot(ko,Er),Ot(xo,go),xo.prototype.xa=function(){Fn(this.g,"a")},xo.prototype.wa=function(e){Fn(this.g,new wo(e))},xo.prototype.va=function(e){Fn(this.g,new ko(e))},xo.prototype.ua=function(){Fn(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,bo.prototype.send=bo.prototype.u,bo.prototype.open=bo.prototype.m,bo.prototype.close=bo.prototype.close,yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,gr.COMPLETE="complete",wr.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",Ln.prototype.listen=Ln.prototype.N,Li.prototype.listenOnce=Li.prototype.O,Li.prototype.getLastError=Li.prototype.La,Li.prototype.getLastErrorCode=Li.prototype.Da,Li.prototype.getStatus=Li.prototype.ba,Li.prototype.getResponseJson=Li.prototype.Qa,Li.prototype.getResponseText=Li.prototype.ga,Li.prototype.send=Li.prototype.ea;var So=bt.createWebChannelTransport=function(){return new mo},Eo=bt.getStatEventTarget=function(){return cr()},_o=bt.ErrorCode=yr,Io=bt.EventType=gr,To=bt.Event=ur,Co=bt.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ao=bt.FetchXmlHttpFactory=Ai,Ro=bt.WebChannel=wr,Oo=bt.XhrIo=Li,Po="@firebase/firestore",No=function(){function e(t){T(this,e),this.uid=t}return A(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();No.UNAUTHENTICATED=new No(null),No.GOOGLE_CREDENTIALS=new No("google-credentials-uid"),No.FIRST_PARTY=new No("first-party-uid"),No.MOCK_USER=new No("mock-user");var Do="9.6.7",Mo=new ve("@firebase/firestore");function Lo(){return Mo.logLevel}function Fo(e){if(Mo.logLevel<=se.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vo);Mo.debug.apply(Mo,["Firestore (".concat(Do,"): ").concat(e)].concat(J(i)))}}function Bo(e){if(Mo.logLevel<=se.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vo);Mo.error.apply(Mo,["Firestore (".concat(Do,"): ").concat(e)].concat(J(i)))}}function jo(e){if(Mo.logLevel<=se.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Vo);Mo.warn.apply(Mo,["Firestore (".concat(Do,"): ").concat(e)].concat(J(i)))}}function Vo(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Uo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Do,") INTERNAL ASSERTION FAILED: ")+e;throw Bo(t),new Error(t)}function zo(e,t){e||Uo()}function qo(e,t){return e}var Go={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Wo=function(e){w(n,e);var t=_(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return A(n)}(U),Ho=A((function e(){var t=this;T(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ko=A((function e(t,n){T(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Qo=function(){function e(){T(this,e)}return A(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(No.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),$o=function(){function e(t){T(this,e),this.token=t,this.changeListener=null}return A(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Yo=function(){function e(t){T(this,e),this.t=t,this.currentUser=No.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return A(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},o=new Ho;this.o=function(){n.i++,n.currentUser=n.u(),o.resolve(),o=new Ho,e.enqueueRetryable((function(){return i(n.currentUser)}))};var a=function(){var t=o;e.enqueueRetryable(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Fo("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),a()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Fo("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ho)}}),0),a()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Fo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(zo("string"==typeof n.accessToken),new Ko(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return zo(null===e||"string"==typeof e),new No(e)}}]),e}(),Xo=A((function e(t,n,r){T(this,e),this.type="FirstParty",this.user=No.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Jo=function(){function e(t,n,r){T(this,e),this.h=t,this.l=n,this.m=r}return A(e,[{key:"getToken",value:function(){return Promise.resolve(new Xo(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(No.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Zo=A((function e(t){T(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),ea=function(){function e(t){T(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return A(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Fo("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Fo("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Fo("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Fo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(zo("string"==typeof t.token),e.p=t.token,new Zo(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),ta=function(){function e(t,n){var r=this;T(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return A(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function na(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}ta.A=-1;var ra=function(){function e(){T(this,e)}return A(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=na(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function ia(e,t){return e<t?-1:e>t?1:0}function oa(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function aa(e){return e+"\0"}var ua=function(){function e(t,n){if(T(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Wo(Go.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Wo(Go.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Wo(Go.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Wo(Go.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return A(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ia(this.nanoseconds,e.nanoseconds):ia(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),sa=function(){function e(t){T(this,e),this.timestamp=t}return A(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ua(0,0))}}]),e}();function ca(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function la(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fa(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ha=function(){function e(t,n,r){T(this,e),void 0===n?n=0:n>t.length&&Uo(),void 0===r?r=t.length-n:r>t.length-n&&Uo(),this.segments=t,this.offset=n,this.len=r}return A(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),da=function(e){w(n,e);var t=_(n);function n(){return T(this,n),t.apply(this,arguments)}return A(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var o=0,a=r;o<a.length;o++){var u=a[o];if(u.indexOf("//")>=0)throw new Wo(Go.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,J(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ha),pa=/^[_a-zA-Z][_a-zA-Z0-9]*$/,va=function(e){w(n,e);var t=_(n);function n(){return T(this,n),t.apply(this,arguments)}return A(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return pa.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,o=function(){if(0===r.length)throw new Wo(Go.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},a=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Wo(Go.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Wo(Go.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(a=!a,i++):"."!==u||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new Wo(Go.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ha),ya=function(){function e(t){T(this,e),this.fields=t,t.sort(va.comparator)}return A(e,[{key:"covers",value:function(e){var t,n=I(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return oa(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var ga=function(e){function t(e){T(this,t),this.binaryString=e}return A(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ia(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ga.EMPTY_BYTE_STRING=new ga("");var ma=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ba(e){if(zo(!!e),"string"==typeof e){var t=0,n=ma.exec(e);if(zo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:wa(e.seconds),nanos:wa(e.nanos)}}function wa(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ka(e){return"string"==typeof e?ga.fromBase64String(e):ga.fromUint8Array(e)}function xa(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Sa(e){var t=e.mapValue.fields.__previous_value__;return xa(t)?Sa(t):t}function Ea(e){var t=ba(e.mapValue.fields.__local_write_time__.timestampValue);return new ua(t.seconds,t.nanos)}var _a=A((function e(t,n,r,i,o,a,u,s){T(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Ia=function(){function e(t,n){T(this,e),this.projectId=t,this.database=n||"(default)"}return A(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ta(e){return null==e}function Ca(e){return 0===e&&1/e==-1/0}function Aa(e){return"number"==typeof e&&Number.isInteger(e)&&!Ca(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ra=function(){function e(t){T(this,e),this.path=t}return A(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===da.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(da.fromString(t))}},{key:"fromName",value:function(t){return new e(da.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(da.emptyPath())}},{key:"comparator",value:function(e,t){return da.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new da(t.slice()))}}]),e}(),Oa={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function Pa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xa(e)?4:10:Uo()}function Na(e,t){if(e===t)return!0;var n=Pa(e);if(n!==Pa(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ea(e).isEqual(Ea(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ba(e.timestampValue),r=ba(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ka(e.bytesValue).isEqual(ka(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return wa(e.geoPointValue.latitude)===wa(t.geoPointValue.latitude)&&wa(e.geoPointValue.longitude)===wa(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return wa(e.integerValue)===wa(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=wa(e.doubleValue),r=wa(t.doubleValue);return n===r?Ca(n)===Ca(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return oa(e.arrayValue.values||[],t.arrayValue.values||[],Na);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ca(n)!==ca(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Na(n[i],r[i])))return!1;return!0}(e,t);default:return Uo()}}function Da(e,t){return void 0!==(e.values||[]).find((function(e){return Na(e,t)}))}function Ma(e,t){if(e===t)return 0;var n=Pa(e),r=Pa(t);if(n!==r)return ia(n,r);switch(n){case 0:return 0;case 1:return ia(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=wa(e.integerValue||e.doubleValue),r=wa(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return La(e.timestampValue,t.timestampValue);case 4:return La(Ea(e),Ea(t));case 5:return ia(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ka(e),r=ka(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ia(n[i],r[i]);if(0!==o)return o}return ia(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ia(wa(e.latitude),wa(t.latitude));return 0!==n?n:ia(wa(e.longitude),wa(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ma(n[i],r[i]);if(o)return o}return ia(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var u=ia(r[a],o[a]);if(0!==u)return u;var s=Ma(n[r[a]],i[o[a]]);if(0!==s)return s}return ia(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Uo()}}function La(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ia(e,t);var n=ba(e),r=ba(t),i=ia(n.seconds,r.seconds);return 0!==i?i:ia(n.nanos,r.nanos)}function Fa(e){return Ba(e)}function Ba(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ba(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ka(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ra.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=I(e.values||[]);try{for(i.s();!(t=i.n()).done;){var o=t.value;r?r=!1:n+=",",n+=Ba(o)}}catch(a){i.e(a)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=I(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var o=t.value;r?r=!1:n+=",",n+="".concat(o,":").concat(Ba(e.fields[o]))}}catch(a){i.e(a)}finally{i.f()}return n+"}"}(e.mapValue):Uo();var t,n}function ja(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Va(e){return!!e&&"integerValue"in e}function Ua(e){return!!e&&"arrayValue"in e}function za(e){return!!e&&"nullValue"in e}function qa(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ga(e){return!!e&&"mapValue"in e}function Wa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return la(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Wa(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Wa(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Ha=function(){function e(t){T(this,e),this.value=t}return A(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ga(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wa(t)}},{key:"setAll",value:function(e){var t=this,n=va.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Wa(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ga(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Na(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ga(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){la(t,(function(t,n){return e[t]=n}));var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;delete e[o]}}catch(a){i.e(a)}finally{i.f()}}},{key:"clone",value:function(){return new e(Wa(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ka(e){var t=[];return la(e.fields,(function(e,n){var r=new va([e]);if(Ga(n)){var i=Ka(n.mapValue).fields;if(0===i.length)t.push(r);else{var o,a=I(i);try{for(a.s();!(o=a.n()).done;){var u=o.value;t.push(r.child(u))}}catch(s){a.e(s)}finally{a.f()}}}else t.push(r)})),new ya(t)}var Qa=function(){function e(t,n,r,i,o,a){T(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=o,this.documentState=a}return A(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ha.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ha.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,sa.min(),sa.min(),Ha.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,sa.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,sa.min(),Ha.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,sa.min(),Ha.empty(),2)}}]),e}(),$a=A((function e(t,n,r,i){T(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));$a.UNKNOWN_ID=-1;var Ya=A((function e(t,n){T(this,e),this.fieldPath=t,this.kind=n})),Xa=function(){function e(t,n){T(this,e),this.sequenceNumber=t,this.offset=n}return A(e,null,[{key:"empty",value:function(){return new e(0,Ja.min())}}]),e}(),Ja=function(){function e(t,n,r){T(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return A(e,null,[{key:"min",value:function(){return new e(sa.min(),Ra.empty(),-1)}}]),e}(),Za=A((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;T(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=u,this.P=null}));function eu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Za(e,t,n,r,i,o,a)}function tu(e){var t=qo(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Fa(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ta(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Fa(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Fa(e)})).join(",")),t.P=n}return t.P}function nu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!vu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Na(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gu(e.startAt,t.startAt)&&gu(e.endAt,t.endAt)}function ru(e){return Ra.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var iu=function(e){w(n,e);var t=_(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this)).field=e,o.op=r,o.value=i,o}return A(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(Ma(t,this.value)):null!==t&&Pa(this.value)===Pa(t)&&this.V(Ma(t,this.value))}},{key:"V",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Uo()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new ou(e,t,r):"array-contains"===t?new cu(e,r):"in"===t?new lu(e,r):"not-in"===t?new fu(e,r):"array-contains-any"===t?new hu(e,r):new n(e,t,r)}},{key:"v",value:function(e,t,n){return"in"===t?new au(e,n):new uu(e,n)}}]),n}(function(){return A((function e(){T(this,e)}))}()),ou=function(e){w(n,e);var t=_(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this,e,r,i)).key=Ra.fromName(i.referenceValue),o}return A(n,[{key:"matches",value:function(e){var t=Ra.comparator(e.key,this.key);return this.V(t)}}]),n}(iu),au=function(e){w(n,e);var t=_(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e,"in",r)).keys=su("in",r),i}return A(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(iu),uu=function(e){w(n,e);var t=_(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e,"not-in",r)).keys=su("not-in",r),i}return A(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(iu);function su(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ra.fromName(e.referenceValue)}))}var cu=function(e){w(n,e);var t=_(n);function n(e,r){return T(this,n),t.call(this,e,"array-contains",r)}return A(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ua(t)&&Da(t.arrayValue,this.value)}}]),n}(iu),lu=function(e){w(n,e);var t=_(n);function n(e,r){return T(this,n),t.call(this,e,"in",r)}return A(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Da(this.value.arrayValue,t)}}]),n}(iu),fu=function(e){w(n,e);var t=_(n);function n(e,r){return T(this,n),t.call(this,e,"not-in",r)}return A(n,[{key:"matches",value:function(e){if(Da(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Da(this.value.arrayValue,t)}}]),n}(iu),hu=function(e){w(n,e);var t=_(n);function n(e,r){return T(this,n),t.call(this,e,"array-contains-any",r)}return A(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ua(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Da(t.value.arrayValue,e)}))}}]),n}(iu),du=A((function e(t,n){T(this,e),this.position=t,this.inclusive=n})),pu=A((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";T(this,e),this.field=t,this.dir=n}));function vu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function yu(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Ra.comparator(Ra.fromName(a.referenceValue),n.key):Ma(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function gu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Na(e.position[n],t.position[n]))return!1;return!0}var mu=A((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;T(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function bu(e,t,n,r,i,o,a,u){return new mu(e,t,n,r,i,o,a,u)}function wu(e){return new mu(e)}function ku(e){return!Ta(e.limit)&&"F"===e.limitType}function xu(e){return!Ta(e.limit)&&"L"===e.limitType}function Su(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Eu(e){var t,n=I(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function _u(e){return null!==e.collectionGroup}function Iu(e){var t=qo(e);if(null===t.D){t.D=[];var n=Eu(t),r=Su(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new pu(n)),t.D.push(new pu(va.keyField(),"asc"));else{var i,o=!1,a=I(t.explicitOrderBy);try{for(a.s();!(i=a.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(o=!0)}}catch(c){a.e(c)}finally{a.f()}if(!o){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new pu(va.keyField(),s))}}}return t.D}function Tu(e){var t=qo(e);if(!t.C)if("F"===t.limitType)t.C=eu(t.path,t.collectionGroup,Iu(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=I(Iu(t));try{for(i.s();!(n=i.n()).done;){var o=n.value,a="desc"===o.dir?"asc":"desc";r.push(new pu(o.field,a))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new du(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new du(t.startAt.position,!t.startAt.inclusive):null;t.C=eu(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Cu(e,t,n){return new mu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Au(e,t){return nu(Tu(e),Tu(t))&&e.limitType===t.limitType}function Ru(e){return"".concat(tu(Tu(e)),"|lt:").concat(e.limitType)}function Ou(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Fa(t.value));var t})).join(", "),"]")),Ta(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Fa(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Fa(e)})).join(",")),"Target(".concat(t,")")}(Tu(e)),"; limitType=").concat(e.limitType,")")}function Pu(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ra.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=I(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=I(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=yu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Iu(e),t))&&!(e.endAt&&!function(e,t,n){var r=yu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Iu(e),t))}(e,t)}function Nu(e){return function(t,n){var r,i=!1,o=I(Iu(e));try{for(o.s();!(r=o.n()).done;){var a=r.value,u=Du(a,t,n);if(0!==u)return u;i=i||a.field.isKeyField()}}catch(s){o.e(s)}finally{o.f()}return 0}}function Du(e,t,n){var r=e.field.isKeyField()?Ra.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ma(r,i):Uo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Uo()}}function Mu(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ca(t)?"-0":t}}function Lu(e){return{integerValue:""+e}}function Fu(e,t){return Aa(t)?Lu(t):Mu(e,t)}var Bu=A((function e(){T(this,e),this._=void 0}));function ju(e,t,n){return e instanceof zu?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof qu?Gu(e,t):e instanceof Wu?Hu(e,t):function(e,t){var n=Uu(e,t),r=Qu(n)+Qu(e.k);return Va(n)&&Va(e.k)?Lu(r):Mu(e.O,r)}(e,t)}function Vu(e,t,n){return e instanceof qu?Gu(e,t):e instanceof Wu?Hu(e,t):n}function Uu(e,t){return e instanceof Ku?Va(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var zu=function(e){w(n,e);var t=_(n);function n(){return T(this,n),t.apply(this,arguments)}return A(n)}(Bu),qu=function(e){w(n,e);var t=_(n);function n(e){var r;return T(this,n),(r=t.call(this)).elements=e,r}return A(n)}(Bu);function Gu(e,t){var n,r=$u(t),i=I(e.elements);try{var o=function(){var e=n.value;r.some((function(t){return Na(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var Wu=function(e){w(n,e);var t=_(n);function n(e){var r;return T(this,n),(r=t.call(this)).elements=e,r}return A(n)}(Bu);function Hu(e,t){var n,r=$u(t),i=I(e.elements);try{var o=function(){var e=n.value;r=r.filter((function(t){return!Na(t,e)}))};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var Ku=function(e){w(n,e);var t=_(n);function n(e,r){var i;return T(this,n),(i=t.call(this)).O=e,i.k=r,i}return A(n)}(Bu);function Qu(e){return wa(e.integerValue||e.doubleValue)}function $u(e){return Ua(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Yu=A((function e(t,n){T(this,e),this.field=t,this.transform=n}));var Xu=A((function e(t,n){T(this,e),this.version=t,this.transformResults=n})),Ju=function(){function e(t,n){T(this,e),this.updateTime=t,this.exists=n}return A(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Zu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var es=A((function e(){T(this,e)}));function ts(e,t,n){e instanceof as?function(e,t,n){var r=e.value.clone(),i=cs(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof us?function(e,t,n){if(Zu(e.precondition,t)){var r=cs(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ss(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ns(e,t,n){e instanceof as?function(e,t,n){if(Zu(e.precondition,t)){var r=e.value.clone(),i=ls(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(os(t),r).setHasLocalMutations()}}(e,t,n):e instanceof us?function(e,t,n){if(Zu(e.precondition,t)){var r=ls(e.fieldTransforms,n,t),i=t.data;i.setAll(ss(e)),i.setAll(r),t.convertToFoundDocument(os(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Zu(e.precondition,t)&&t.convertToNoDocument(sa.min())}(e,t)}function rs(e,t){var n,r=null,i=I(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t.data.field(o.field),u=Uu(o.transform,a||null);null!=u&&(null==r&&(r=Ha.empty()),r.set(o.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function is(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&oa(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof qu&&t instanceof qu||e instanceof Wu&&t instanceof Wu?oa(e.elements,t.elements,Na):e instanceof Ku&&t instanceof Ku?Na(e.k,t.k):e instanceof zu&&t instanceof zu}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function os(e){return e.isFoundDocument()?e.version:sa.min()}var as=function(e){w(n,e);var t=_(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return T(this,n),(o=t.call(this)).key=e,o.value=r,o.precondition=i,o.fieldTransforms=a,o.type=0,o}return A(n)}(es),us=function(e){w(n,e);var t=_(n);function n(e,r,i,o){var a,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return T(this,n),(a=t.call(this)).key=e,a.data=r,a.fieldMask=i,a.precondition=o,a.fieldTransforms=u,a.type=1,a}return A(n)}(es);function ss(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function cs(e,t,n){var r=new Map;zo(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,u=t.data.field(o.field);r.set(o.field,Vu(a,u,n[i]))}return r}function ls(e,t,n){var r,i=new Map,o=I(e);try{for(o.s();!(r=o.n()).done;){var a=r.value,u=a.transform,s=n.data.field(a.field);i.set(a.field,ju(u,s,t))}}catch(c){o.e(c)}finally{o.f()}return i}var fs,hs,ds=function(e){w(n,e);var t=_(n);function n(e,r){var i;return T(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return A(n)}(es),ps=function(e){w(n,e);var t=_(n);function n(e,r){var i;return T(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return A(n)}(es),vs=A((function e(t){T(this,e),this.count=t}));function ys(e){switch(e){default:return Uo();case Go.CANCELLED:case Go.UNKNOWN:case Go.DEADLINE_EXCEEDED:case Go.RESOURCE_EXHAUSTED:case Go.INTERNAL:case Go.UNAVAILABLE:case Go.UNAUTHENTICATED:return!1;case Go.INVALID_ARGUMENT:case Go.NOT_FOUND:case Go.ALREADY_EXISTS:case Go.PERMISSION_DENIED:case Go.FAILED_PRECONDITION:case Go.ABORTED:case Go.OUT_OF_RANGE:case Go.UNIMPLEMENTED:case Go.DATA_LOSS:return!0}}function gs(e){if(void 0===e)return Bo("GRPC error has no .code"),Go.UNKNOWN;switch(e){case fs.OK:return Go.OK;case fs.CANCELLED:return Go.CANCELLED;case fs.UNKNOWN:return Go.UNKNOWN;case fs.DEADLINE_EXCEEDED:return Go.DEADLINE_EXCEEDED;case fs.RESOURCE_EXHAUSTED:return Go.RESOURCE_EXHAUSTED;case fs.INTERNAL:return Go.INTERNAL;case fs.UNAVAILABLE:return Go.UNAVAILABLE;case fs.UNAUTHENTICATED:return Go.UNAUTHENTICATED;case fs.INVALID_ARGUMENT:return Go.INVALID_ARGUMENT;case fs.NOT_FOUND:return Go.NOT_FOUND;case fs.ALREADY_EXISTS:return Go.ALREADY_EXISTS;case fs.PERMISSION_DENIED:return Go.PERMISSION_DENIED;case fs.FAILED_PRECONDITION:return Go.FAILED_PRECONDITION;case fs.ABORTED:return Go.ABORTED;case fs.OUT_OF_RANGE:return Go.OUT_OF_RANGE;case fs.UNIMPLEMENTED:return Go.UNIMPLEMENTED;case fs.DATA_LOSS:return Go.DATA_LOSS;default:return Uo()}}(hs=fs||(fs={}))[hs.OK=0]="OK",hs[hs.CANCELLED=1]="CANCELLED",hs[hs.UNKNOWN=2]="UNKNOWN",hs[hs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hs[hs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hs[hs.NOT_FOUND=5]="NOT_FOUND",hs[hs.ALREADY_EXISTS=6]="ALREADY_EXISTS",hs[hs.PERMISSION_DENIED=7]="PERMISSION_DENIED",hs[hs.UNAUTHENTICATED=16]="UNAUTHENTICATED",hs[hs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hs[hs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hs[hs.ABORTED=10]="ABORTED",hs[hs.OUT_OF_RANGE=11]="OUT_OF_RANGE",hs[hs.UNIMPLEMENTED=12]="UNIMPLEMENTED",hs[hs.INTERNAL=13]="INTERNAL",hs[hs.UNAVAILABLE=14]="UNAVAILABLE",hs[hs.DATA_LOSS=15]="DATA_LOSS";var ms=function(){function e(t,n){T(this,e),this.comparator=t,this.root=n||ws.EMPTY}return A(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ws.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ws.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new bs(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new bs(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new bs(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new bs(this.root,e,this.comparator,!0)}}]),e}(),bs=function(){function e(t,n,r,i){T(this,e),this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return A(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ws=function(){function e(t,n,r,i,o){T(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return A(e,[{key:"copy",value:function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Uo();if(this.right.isRed())throw Uo();var e=this.left.check();if(e!==this.right.check())throw Uo();return e+(this.isRed()?0:1)}}]),e}();ws.EMPTY=null,ws.RED=!0,ws.BLACK=!1,ws.EMPTY=new(function(){function e(){T(this,e),this.size=0}return A(e,[{key:"key",get:function(){throw Uo()}},{key:"value",get:function(){throw Uo()}},{key:"color",get:function(){throw Uo()}},{key:"left",get:function(){throw Uo()}},{key:"right",get:function(){throw Uo()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ws(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ks=function(){function e(t){T(this,e),this.comparator=t,this.data=new ms(this.comparator)}return A(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new xs(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new xs(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),xs=function(){function e(t){T(this,e),this.iter=t}return A(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Ss(e){return e.hasNext()?e.getNext():void 0}var Es=new ms(Ra.comparator);function _s(){return Es}var Is=new ms(Ra.comparator);function Ts(){return Is}var Cs=new ms(Ra.comparator),As=new ks(Ra.comparator);function Rs(){for(var e=As,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=e.add(a)}return e}var Os=new ks(ia);function Ps(){return Os}var Ns=function(){function e(t,n,r,i,o){T(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return A(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Ds.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(sa.min(),r,Ps(),_s(),Rs())}}]),e}(),Ds=function(){function e(t,n,r,i,o){T(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return A(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ga.EMPTY_BYTE_STRING,n,Rs(),Rs(),Rs())}}]),e}(),Ms=A((function e(t,n,r,i){T(this,e),this.M=t,this.removedTargetIds=n,this.key=r,this.$=i})),Ls=A((function e(t,n){T(this,e),this.targetId=t,this.F=n})),Fs=A((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ga.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;T(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Bs=function(){function e(){T(this,e),this.B=0,this.L=Us(),this.U=ga.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return A(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Rs(),t=Rs(),n=Rs();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Uo()}})),new Ds(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Us()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),js=function(){function e(t){T(this,e),this.nt=t,this.st=new Map,this.it=_s(),this.rt=Vs(),this.ot=new ks(ia)}return A(e,[{key:"ct",value:function(e){var t,n=I(e.M);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.at(r,e.key,e.$)}}catch(u){n.e(u)}finally{n.f()}var i,o=I(e.removedTargetIds);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.at(a,e.key,e.$)}}catch(u){o.e(u)}finally{o.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Uo()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(ru(i))if(0===n){var o=new Ra(i.path);this.at(t,o,Qa.newNoDocument(o,sa.min()))}else zo(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var o=t.wt(i);if(o){if(r.current&&ru(o.target)){var a=new Ra(o.target.path);null!==t.it.get(a)||t.It(i,a)||t.at(i,a,Qa.newNoDocument(a,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Rs();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Ns(e,n,this.ot,this.it,r);return this.it=_s(),this.rt=Vs(),this.ot=new ks(ia),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Bs,this.st.set(e,t)),t}},{key:"Et",value:function(e){var t=this.rt.get(e);return t||(t=new ks(ia),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Fo("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Bs),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Vs(){return new ms(Ra.comparator)}function Us(){return new ms(Ra.comparator)}var zs={asc:"ASCENDING",desc:"DESCENDING"},qs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gs=A((function e(t,n){T(this,e),this.databaseId=t,this.N=n}));function Ws(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Hs(e,t){return e.N?t.toBase64():t.toUint8Array()}function Ks(e,t){return Ws(e,t.toTimestamp())}function Qs(e){return zo(!!e),sa.fromTimestamp(function(e){var t=ba(e);return new ua(t.seconds,t.nanos)}(e))}function $s(e,t){return function(e){return new da(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ys(e){var t=da.fromString(e);return zo(bc(t)),t}function Xs(e,t){return $s(e.databaseId,t.path)}function Js(e,t){var n=Ys(t);if(n.get(1)!==e.databaseId.projectId)throw new Wo(Go.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Wo(Go.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ra(nc(n))}function Zs(e,t){return $s(e.databaseId,t)}function ec(e){var t=Ys(e);return 4===t.length?da.emptyPath():nc(t)}function tc(e){return new da(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function nc(e){return zo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function rc(e,t,n){return{name:Xs(e,t),fields:n.value.mapValue.fields}}function ic(e,t,n){var r=Js(e,t.name),i=Qs(t.updateTime),o=new Ha({mapValue:{fields:t.fields}}),a=Qa.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function oc(e,t){return"found"in t?function(e,t){zo(!!t.found),t.found.name,t.found.updateTime;var n=Js(e,t.found.name),r=Qs(t.found.updateTime),i=new Ha({mapValue:{fields:t.found.fields}});return Qa.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){zo(!!t.missing),zo(!!t.readTime);var n=Js(e,t.missing),r=Qs(t.readTime);return Qa.newNoDocument(n,r)}(e,t):Uo()}function ac(e,t){var n;if(t instanceof as)n={update:rc(e,t.key,t.value)};else if(t instanceof ds)n={delete:Xs(e,t.key)};else if(t instanceof us)n={update:rc(e,t.key,t.data),updateMask:mc(t.fieldMask)};else{if(!(t instanceof ps))return Uo();n={verify:Xs(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof zu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof qu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Wu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ku)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Uo()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ks(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Uo()}(e,t.precondition)),n}function uc(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Ju.updateTime(Qs(e.updateTime)):void 0!==e.exists?Ju.exists(e.exists):Ju.none()}(t.currentDocument):Ju.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)zo("REQUEST_TIME"===t.setToServerValue),n=new zu;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new qu(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Wu(i)}else"increment"in t?n=new Ku(e,t.increment):Uo();var o=va.fromServerFormat(t.fieldPath);return new Yu(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Js(e,t.update.name),o=new Ha({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new ya(t.map((function(e){return va.fromServerFormat(e)})))}(t.updateMask);return new us(i,o,a,n,r)}return new as(i,o,n,r)}if(t.delete){var u=Js(e,t.delete);return new ds(u,n)}if(t.verify){var s=Js(e,t.verify);return new ps(s,n)}return Uo()}function sc(e,t){return{documents:[Zs(e,t.path)]}}function cc(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Zs(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Zs(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(qa(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NAN"}};if(za(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qa(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NOT_NAN"}};if(za(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pc(e.field),op:dc(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:pc(e.field),direction:hc(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a,u=function(e,t){return e.N||Ta(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function lc(e){var t=ec(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){zo(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=fc(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new pu(vc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ta(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new du(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new du(n,t)}(n.endAt)),bu(t,i,u,a,s,"F",c,l)}function fc(e){return e?void 0!==e.unaryFilter?[gc(e)]:void 0!==e.fieldFilter?[yc(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return fc(e)})).reduce((function(e,t){return e.concat(t)})):Uo():[]}function hc(e){return zs[e]}function dc(e){return qs[e]}function pc(e){return{fieldPath:e.canonicalString()}}function vc(e){return va.fromServerFormat(e.fieldPath)}function yc(e){return iu.create(vc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Uo()}}(e.fieldFilter.op),e.fieldFilter.value)}function gc(e){switch(e.unaryFilter.op){case"IS_NAN":var t=vc(e.unaryFilter.field);return iu.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=vc(e.unaryFilter.field);return iu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=vc(e.unaryFilter.field);return iu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=vc(e.unaryFilter.field);return iu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Uo()}}function mc(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function bc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function wc(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=xc(t)),t=kc(e.get(n),t);return xc(t)}function kc(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function xc(e){return e+"\x01\x01"}function Sc(e){var t=e.length;if(zo(t>=2),2===t)return zo("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),da.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Uo(),e.charAt(a+1)){case"\x01":var u=e.substring(o,a),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Uo()}o=a+2}return new da(r)}var Ec=A((function e(t,n){T(this,e),this.seconds=t,this.nanoseconds=n})),_c=A((function e(t,n,r){T(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));_c.store="owner",_c.key="owner";var Ic=A((function e(t,n,r){T(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Ic.store="mutationQueues",Ic.keyPath="userId";var Tc=A((function e(t,n,r,i,o){T(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=o}));Tc.store="mutations",Tc.keyPath="batchId",Tc.userMutationsIndex="userMutationsIndex",Tc.userMutationsKeyPath=["userId","batchId"];var Cc=function(){function e(){T(this,e)}return A(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,wc(t)]}},{key:"key",value:function(e,t,n){return[e,wc(t),n]}}]),e}();Cc.store="documentMutations",Cc.PLACEHOLDER=new Cc;var Ac=A((function e(t,n){T(this,e),this.path=t,this.readTime=n})),Rc=A((function e(t,n){T(this,e),this.path=t,this.version=n})),Oc=A((function e(t,n,r,i,o,a){T(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=a}));Oc.store="remoteDocuments",Oc.readTimeIndex="readTimeIndex",Oc.readTimeIndexPath="readTime",Oc.collectionReadTimeIndex="collectionReadTimeIndex",Oc.collectionReadTimeIndexPath=["parentPath","readTime"];var Pc=A((function e(t){T(this,e),this.byteSize=t}));Pc.store="remoteDocumentGlobal",Pc.key="remoteDocumentGlobalKey";var Nc=A((function e(t,n,r,i,o,a,u){T(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=a,this.query=u}));Nc.store="targets",Nc.keyPath="targetId",Nc.queryTargetsIndexName="queryTargetsIndex",Nc.queryTargetsKeyPath=["canonicalId","targetId"];var Dc=A((function e(t,n,r){T(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Dc.store="targetDocuments",Dc.keyPath=["targetId","path"],Dc.documentTargetsIndex="documentTargetsIndex",Dc.documentTargetsKeyPath=["path","targetId"];var Mc=A((function e(t,n,r,i){T(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Mc.key="targetGlobalKey",Mc.store="targetGlobal";var Lc=A((function e(t,n){T(this,e),this.collectionId=t,this.parent=n}));Lc.store="collectionParents",Lc.keyPath=["collectionId","parent"];var Fc=A((function e(t,n,r,i){T(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Fc.store="clientMetadata",Fc.keyPath="clientId";var Bc=A((function e(t,n,r){T(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Bc.store="bundles",Bc.keyPath="bundleId";var jc=A((function e(t,n,r){T(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));jc.store="namedQueries",jc.keyPath="name";var Vc=A((function e(t,n,r){T(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r}));Vc.store="indexConfiguration",Vc.keyPath="indexId",Vc.collectionGroupIndex="collectionGroupIndex",Vc.collectionGroupIndexPath="collectionGroup";var Uc=A((function e(t,n,r,i,o,a){T(this,e),this.indexId=t,this.uid=n,this.sequenceNumber=r,this.readTime=i,this.documentKey=o,this.largestBatchId=a}));Uc.store="indexState",Uc.keyPath=["indexId","uid"],Uc.sequenceNumberIndex="sequenceNumberIndex",Uc.sequenceNumberIndexPath=["uid","sequenceNumber"];var zc=A((function e(t,n,r,i,o){T(this,e),this.indexId=t,this.uid=n,this.arrayValue=r,this.directionalValue=i,this.documentKey=o}));zc.store="indexEntries",zc.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],zc.documentKeyIndex="documentKeyIndex",zc.documentKeyIndexPath=["indexId","uid","documentKey"];var qc=A((function e(t,n,r,i,o,a){T(this,e),this.userId=t,this.collectionPath=n,this.documentId=r,this.collectionGroup=i,this.largestBatchId=o,this.overlayMutation=a}));qc.store="documentOverlays",qc.keyPath=["userId","collectionPath","documentId"],qc.collectionPathOverlayIndex="collectionPathOverlayIndex",qc.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],qc.collectionGroupOverlayIndex="collectionGroupOverlayIndex",qc.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];var Gc=[Ic.store,Tc.store,Cc.store,Oc.store,Nc.store,_c.store,Mc.store,Dc.store].concat([Fc.store]).concat([Pc.store]).concat([Lc.store]).concat([Bc.store,jc.store]),Wc=[].concat(J(Gc),[qc.store]),Hc=[].concat(J(Wc),[Vc.store,Uc.store,zc.store]),Kc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qc=function(){function e(){T(this,e),this.onCommittedListeners=[]}return A(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),$c=function(){function e(t){var n=this;T(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return A(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Uo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=I(t);try{var o=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Yc=function(){function e(t,n){var r=this;T(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Ho,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new Zc(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=il(e.target.error);r.At.reject(new Zc(t,n))}}return A(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Fo("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new tl(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Zc(n,t)}}}]),e}(),Xc=function(){function e(t,n,r){T(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.vt(B())&&Bo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return A(e,[{key:"xt",value:function(){var e=ee(ne().mark((function e(t){var n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Fo("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Zc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Wo(Go.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Wo(Go.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Zc(t,n))},i.onupgradeneeded=function(e){Fo("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Fo("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Ot&&(this.db.onversionchange=function(e){return n.Ot(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mt",value:function(e){this.Ot=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ee(ne().mark((function e(t,n,r,i){var o,a,u,s,c=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o="readonly"===n,a=0;case 2:return++a,e.prev=3,e.delegateYield(ne().mark((function e(){var n,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.xt(t);case 2:return c.db=e.sent,n=Yc.open(c.db,t,o?"readonly":"readwrite",r),a=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),$c.reject(e)})).toPromise(),a.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=a,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&a<3,Fo("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Fo("SimpleDb","Removing database:",e),nl(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Vt",value:function(){if(!V())return!1;if(e.St())return!0;var t=B(),n=e.vt(t),r=0<n&&n<10,i=e.Dt(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/pwa-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_APIKEY:"AIzaSyAllL-9VVdZcFC3SII38DaFyaMYZi1UBUY",REACT_APP_FIREBASE_AUTH_DOMAIN:"react-todo-111f7.firebaseapp.com",REACT_APP_FIREBASE_AUTH_DATABASE_URL:"https://react-todo-111f7.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"react-todo-111f7",REACT_APP_FIREBASE_STORAGE_BUCKET:"react-todo-111f7.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"326985294509",REACT_APP_FIREBASE_MESSAGING_APP_ID:"1:326985294509:web:04eb790ff4f0c6c22c5c24"})||void 0===e?void 0:e.Ct)}},{key:"Nt",value:function(e,t){return e.store(t)}},{key:"vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Jc=function(){function e(t){T(this,e),this.$t=t,this.Ft=!1,this.Bt=null}return A(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return nl(this.$t.delete())}}]),e}(),Zc=function(e){w(n,e);var t=_(n);function n(e,r){var i;return T(this,n),(i=t.call(this,Go.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return A(n)}(Wo);function el(e){return"IndexedDbTransactionError"===e.name}var tl=function(){function e(t){T(this,e),this.store=t}return A(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Fo("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Fo("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),nl(n)}},{key:"add",value:function(e){return Fo("SimpleDb","ADD",this.store.name,e,e),nl(this.store.add(e))}},{key:"get",value:function(e){var t=this;return nl(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Fo("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Fo("SimpleDb","DELETE",this.store.name,e),nl(this.store.delete(e))}},{key:"count",value:function(){return Fo("SimpleDb","COUNT",this.store.name),nl(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var o=this.store.getAll(n.range);return new $c((function(e,t){o.onerror=function(e){t(e.target.error)},o.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){Fo("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Qt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"Wt",value:function(e){var t=this.cursor({});return new $c((function(n,r){t.onerror=function(e){var t=il(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new $c((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Jc(i),a=t(i.primaryKey,i.value,o);if(a instanceof $c){var u=a.catch((function(e){return o.done(),$c.reject(e)}));n.push(u)}o.isDone?r():null===o.Lt?i.continue():i.continue(o.Lt)}else r()}})).next((function(){return $c.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function nl(e){return new $c((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=il(e.target.error);n(t)}}))}var rl=!1;function il(e){var t=Xc.vt(B());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Wo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return rl||(rl=!0,setTimeout((function(){throw r}),0)),r}}return e}var ol=function(e){w(n,e);var t=_(n);function n(e,r){var i;return T(this,n),(i=t.call(this)).zt=e,i.currentSequenceNumber=r,i}return A(n)}(Qc);function al(e,t){var n=qo(e);return Xc.Nt(n.zt,t)}var ul=function(){function e(t,n,r,i){T(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return A(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ts(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=I(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&ns(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,o=I(this.mutations);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.key.isEqual(e.key)&&ns(a,e,this.localWriteTime)}}catch(u){o.e(u)}finally{o.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(sa.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Rs())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(function(e,t){return is(e,t)}))&&oa(this.baseMutations,e.baseMutations,(function(e,t){return is(e,t)}))}}]),e}(),sl=function(){function e(t,n,r,i){T(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return A(e,null,[{key:"from",value:function(t,n,r){zo(t.mutations.length===r.length);for(var i=Cs,o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)}}]),e}(),cl=function(){function e(t,n){T(this,e),this.largestBatchId=t,this.mutation=n}return A(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),ll=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sa.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:sa.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ga.EMPTY_BYTE_STRING;T(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u}return A(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),fl=A((function e(t){T(this,e),this.Ht=t}));function hl(e,t){var n;if(t.document)n=ic(e.Ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Ra.fromSegments(t.noDocument.path),i=gl(t.noDocument.readTime);n=Qa.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Uo();var o=Ra.fromSegments(t.unknownDocument.path),a=gl(t.unknownDocument.version);n=Qa.newUnknownDocument(o,a)}return t.readTime&&n.setReadTime(vl(t.readTime)),n}function dl(e,t){var n=pl(t.readTime),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){var i=function(e,t){return{name:Xs(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ws(e,t.version.toTimestamp())}}(e.Ht,t),o=t.hasCommittedMutations;return new Oc(null,null,i,o,n,r)}if(t.isNoDocument()){var a=t.key.path.toArray(),u=yl(t.version),s=t.hasCommittedMutations;return new Oc(null,new Ac(a,u),null,s,n,r)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=yl(t.version);return new Oc(new Rc(c,l),null,null,!0,n,r)}return Uo()}function pl(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function vl(e){var t=new ua(e[0],e[1]);return sa.fromTimestamp(t)}function yl(e){var t=e.toTimestamp();return new Ec(t.seconds,t.nanoseconds)}function gl(e){var t=new ua(e.seconds,e.nanoseconds);return sa.fromTimestamp(t)}function ml(e,t){for(var n=(t.baseMutations||[]).map((function(t){return uc(e.Ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return uc(e.Ht,t)})),u=ua.fromMillis(t.localWriteTimeMs);return new ul(t.batchId,u,n,a)}function bl(e){var t,n,r=gl(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?gl(e.lastLimboFreeSnapshotVersion):sa.min();return void 0!==e.query.documents?(zo(1===(n=e.query).documents.length),t=Tu(wu(ec(n.documents[0])))):t=function(e){return Tu(lc(e))}(e.query),new ll(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ga.fromBase64String(e.resumeToken))}function wl(e,t){var n,r=yl(t.snapshotVersion),i=yl(t.lastLimboFreeSnapshotVersion);n=ru(t.target)?sc(e.Ht,t.target):cc(e.Ht,t.target);var o=t.resumeToken.toBase64();return new Nc(t.targetId,tu(t.target),r,o,t.sequenceNumber,i,n)}function kl(e){var t=lc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Cu(t,t.limit,"L"):t}function xl(e,t){return new cl(t.largestBatchId,uc(e.Ht,t.overlayMutation))}function Sl(e,t){var n=t.path.lastSegment();return[e,wc(t.path.popLast()),n]}var El=function(){function e(){T(this,e)}return A(e,[{key:"getBundleMetadata",value:function(e,t){return _l(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:gl(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return _l(e).put({bundleId:(n=t).id,createTime:yl(Qs(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Il(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:kl(t.bundledQuery),readTime:gl(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Il(e).put(function(e){return{name:e.name,readTime:yl(Qs(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function _l(e){return al(e,Bc.store)}function Il(e){return al(e,jc.store)}var Tl=function(){function e(t,n){T(this,e),this.O=t,this.userId=n}return A(e,[{key:"getOverlay",value:function(e,t){var n=this;return Cl(e).get(Sl(this.userId,t)).next((function(e){return e?xl(n.O,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n){var o=new cl(t,n);i.push(r.Yt(e,o))})),$c.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(wc(e.getCollectionPath()))}));var o=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);o.push(Cl(e).Gt(qc.collectionPathOverlayIndex,i))})),$c.waitFor(o)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=new Map,o=wc(t),a=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Cl(e).qt(qc.collectionPathOverlayIndex,a).next((function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,a=xl(r.O,o);i.set(a.getKey(),a)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,o=this,a=new Map,u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Cl(e).Qt({index:qc.collectionGroupOverlayIndex,range:u},(function(e,t,n){var u=xl(o.O,t);a.size<r||u.largestBatchId===i?(a.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return a}))}},{key:"Yt",value:function(e,t){return Cl(e).put(function(e,t,n){var r=u(Sl(t,n.mutation.key),3),i=(r[0],r[1]),o=r[2];return new qc(t,i,o,n.mutation.key.getCollectionGroup(),n.largestBatchId,ac(e.Ht,n.mutation))}(this.O,this.userId,t))}}],[{key:"Jt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Cl(e){return al(e,qc.store)}var Al=function(){function e(){T(this,e)}return A(e,[{key:"Xt",value:function(e,t){this.Zt(e,t),t.te()}},{key:"Zt",value:function(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(wa(e.integerValue));else if("doubleValue"in e){var n=wa(e.doubleValue);isNaN(n)?this.ee(t,13):(this.ee(t,15),Ca(n)?t.ne(0):t.ne(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se("".concat(r.seconds||"")),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(ka(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ee(t,45),t.ne(i.latitude||0),t.ne(i.longitude||0)}else"mapValue"in e?Na(e,Oa)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):Uo()}},{key:"ie",value:function(e,t){this.ee(t,25),this.he(e,t)}},{key:"he",value:function(e,t){t.se(e)}},{key:"ue",value:function(e,t){var n=e.fields||{};this.ee(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];this.ie(o,t),this.Zt(n[o],t)}}},{key:"ae",value:function(e,t){var n=e.values||[];this.ee(t,50);var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.Zt(o,t)}}catch(a){i.e(a)}finally{i.f()}}},{key:"ce",value:function(e,t){var n=this;this.ee(t,37),Ra.fromName(e).path.forEach((function(e){n.ee(t,60),n.he(e,t)}))}},{key:"ee",value:function(e,t){e.ne(t)}},{key:"re",value:function(e){e.ne(2)}}]),e}();function Rl(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Ol(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Rl(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Al.le=new Al;var Pl=function(){function e(){T(this,e),this.buffer=new Uint8Array(1024),this.position=0}return A(e,[{key:"fe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.de(n.value),n=t.next();this._e()}},{key:"we",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.me(n.value),n=t.next();this.ge()}},{key:"ye",value:function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.de(i);else if(i<2048)this.de(960|i>>>6),this.de(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.de(480|i>>>12),this.de(128|63&i>>>6),this.de(128|63&i);else{var o=r.codePointAt(0);this.de(240|o>>>18),this.de(128|63&o>>>12),this.de(128|63&o>>>6),this.de(128|63&o)}}}catch(a){n.e(a)}finally{n.f()}this._e()}},{key:"pe",value:function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.me(i);else if(i<2048)this.me(960|i>>>6),this.me(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.me(480|i>>>12),this.me(128|63&i>>>6),this.me(128|63&i);else{var o=r.codePointAt(0);this.me(240|o>>>18),this.me(128|63&o>>>12),this.me(128|63&o>>>6),this.me(128|63&o)}}}catch(a){n.e(a)}finally{n.f()}this.ge()}},{key:"Ie",value:function(e){var t=this.Ee(e),n=Ol(t);this.Te(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ae",value:function(e){var t=this.Ee(e),n=Ol(t);this.Te(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Re",value:function(){this.Pe(255),this.Pe(255)}},{key:"be",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ve",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"de",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"me",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"_e",value:function(){this.Pe(0),this.Pe(1)}},{key:"ge",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Te(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Te(1),this.buffer[this.position++]=~e}},{key:"Te",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Nl=function(){function e(t){T(this,e),this.Se=t}return A(e,[{key:"oe",value:function(e){this.Se.fe(e)}},{key:"se",value:function(e){this.Se.ye(e)}},{key:"ne",value:function(e){this.Se.Ie(e)}},{key:"te",value:function(){this.Se.Re()}}]),e}(),Dl=function(){function e(t){T(this,e),this.Se=t}return A(e,[{key:"oe",value:function(e){this.Se.we(e)}},{key:"se",value:function(e){this.Se.pe(e)}},{key:"ne",value:function(e){this.Se.Ae(e)}},{key:"te",value:function(){this.Se.be()}}]),e}(),Ml=function(){function e(){T(this,e),this.Se=new Pl,this.De=new Nl(this.Se),this.Ce=new Dl(this.Se)}return A(e,[{key:"seed",value:function(e){this.Se.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.De:this.Ce}},{key:"Ve",value:function(){return this.Se.Ve()}},{key:"reset",value:function(){this.Se.reset()}}]),e}(),Ll=A((function e(t,n,r,i){T(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}));function Fl(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Ra.comparator(e.documentKey,t.documentKey))?n:0!==(n=Bl(e.arrayValue,t.arrayValue))?n:Bl(e.directionalValue,t.directionalValue)}function Bl(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var jl=function(){function e(){T(this,e),this.xe=new Vl}return A(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.xe.add(t),$c.resolve()}},{key:"getCollectionParents",value:function(e,t){return $c.resolve(this.xe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return $c.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return $c.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return $c.resolve(Rs())}},{key:"getFieldIndex",value:function(e,t){return $c.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return $c.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return $c.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return $c.resolve()}},{key:"updateIndexEntries",value:function(e,t){return $c.resolve()}}]),e}(),Vl=function(){function e(){T(this,e),this.index={}}return A(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ks(da.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ks(da.comparator)).toArray()}}]),e}(),Ul=function(){function e(t){T(this,e),this.user=t,this.ke=new Vl,this.uid=t.uid||""}return A(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.ke.add(t)}));var o={collectionId:r,parent:wc(i)};return zl(e).put(o)}return $c.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[aa(t),""],!1,!0);return zl(e).qt(r).next((function(e){var r,i=I(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.collectionId!==t)break;n.push(Sc(o.parent))}}catch(a){i.e(a)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Gl(e),r=function(e){return new Vc(e.indexId,e.collectionGroup,e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]})))}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Gl(e),r=Wl(e),i=ql(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return $c.resolve(Rs())}},{key:"getFieldIndex",value:function(e,t){return $c.resolve(null)}},{key:"Oe",value:function(e,t){var n,r=new Ml,i=I(function(e){return e.fields.filter((function(e){return 2!==e.kind}))}(e));try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t.data.field(o.fieldPath);if(null==a)return null;var u=r.Ne(o.kind);Al.le.Xt(a,u)}}catch(s){i.e(s)}finally{i.f()}return r.Ve()}},{key:"Me",value:function(e){var t=new Ml;return Al.le.Xt(e,t.Ne(0)),t.Ve()}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Gl(e),i=Wl(e);return(t?r.qt(Vc.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return $c.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Xa(t.sequenceNumber,new Ja(gl(t.readTime),new Ra(Sc(t.documentKey)),t.largestBatchId)):Xa.empty(),r=e.fields.map((function(e){var t=u(e,2),n=t[0],r=t[1];return new Ya(va.fromServerFormat(n),r)}));return new $a(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){return e.indexState.sequenceNumber-t.indexState.sequenceNumber})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Gl(e),o=Wl(e);return this.$e(e).next((function(e){return i.qt(Vc.collectionGroupIndex,IDBKeyRange.bound(t,t)).next((function(t){return $c.forEach(t,(function(t){return o.put(function(e,t,n,r){return new Uc(e,t.uid||"",n,yl(r.readTime),wc(r.documentKey.path),r.largestBatchId)}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return $c.forEach(t,(function(t,i){var o=r.get(t.collectionGroup);return(o?$c.resolve(o):n.getFieldIndexes(e,t.collectionGroup)).next((function(o){return r.set(t.collectionGroup,o),$c.forEach(o,(function(r){return n.Fe(e,t,r).next((function(t){var o=n.Be(i,r);return t.isEqual(o)?$c.resolve():n.Le(e,i,t,o)}))}))}))}))}},{key:"Ue",value:function(e,t,n){return ql(e).put(new zc(n.indexId,this.uid,n.arrayValue,n.directionalValue,wc(t.key.path)))}},{key:"qe",value:function(e,t,n){return ql(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,wc(t.key.path)])}},{key:"Fe",value:function(e,t,n){var r=ql(e),i=new ks(Fl);return r.Qt({index:zc.documentKeyIndex,range:IDBKeyRange.only([n.indexId,this.uid,wc(t.path)])},(function(e,r){i=i.add(new Ll(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"Be",value:function(e,t){var n=new ks(Fl),r=this.Oe(t,e);if(null==r)return n;var i=function(e){return e.fields.find((function(e){return 2===e.kind}))}(t);if(null!=i){var o=e.data.field(i.fieldPath);if(Ua(o)){var a,u=I(o.arrayValue.values||[]);try{for(u.s();!(a=u.n()).done;){var s=a.value;n=n.add(new Ll(t.indexId,e.key,this.Me(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Ll(t.indexId,e.key,new Uint8Array,r));return n}},{key:"Le",value:function(e,t,n,r){var i=this;Fo("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var o=e.getIterator(),a=t.getIterator(),u=Ss(o),s=Ss(a);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Ss(a)):l?(i(u),u=Ss(o)):(u=Ss(o),s=Ss(a))}}(n,r,Fl,(function(n){o.push(i.Ue(e,t,n))}),(function(n){o.push(i.qe(e,t,n))})),$c.waitFor(o)}},{key:"$e",value:function(e){var t=1;return Wl(e).Qt({index:Uc.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}}]),e}();function zl(e){return al(e,Lc.store)}function ql(e){return al(e,zc.store)}function Gl(e){return al(e,Vc.store)}function Wl(e){return al(e,Uc.store)}var Hl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kl=function(){function e(t,n,r){T(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return A(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Ql(e,t,n){var r=e.store(Tc.store),i=e.store(Cc.store),o=[],a=IDBKeyRange.only(n.batchId),u=0,s=r.Qt({range:a},(function(e,t,n){return u++,n.delete()}));o.push(s.next((function(){zo(1===u)})));var c,l=[],f=I(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Cc.key(t,h.key.path,n.batchId);o.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return $c.waitFor(o).next((function(){return l}))}function $l(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Uo();t=e.noDocument}return JSON.stringify(t).length}Kl.DEFAULT_COLLECTION_PERCENTILE=10,Kl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kl.DEFAULT=new Kl(41943040,Kl.DEFAULT_COLLECTION_PERCENTILE,Kl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kl.DISABLED=new Kl(-1,0,0);var Yl=function(){function e(t,n,r,i){T(this,e),this.userId=t,this.O=n,this.indexManager=r,this.referenceDelegate=i,this.Ke={}}return A(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jl(e).Qt({index:Tc.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,o=Zl(e),a=Jl(e);return a.add({}).next((function(u){zo("number"==typeof u);var s,c=new ul(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return ac(e.Ht,t)})),i=n.mutations.map((function(t){return ac(e.Ht,t)}));return new Tc(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.O,i.userId,c),f=[],h=new ks((function(e,t){return ia(e.canonicalString(),t.canonicalString())})),d=I(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Cc.key(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(a.put(l)),f.push(o.put(v,Cc.PLACEHOLDER))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Ke[u]=c.keys()})),$c.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Jl(e).get(t).next((function(e){return e?(zo(e.userId===n.userId),ml(n.O,e)):null}))}},{key:"Ge",value:function(e,t){var n=this;return this.Ke[t]?$c.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Ke[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Jl(e).Qt({index:Tc.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(zo(t.batchId>=r),o=ml(n.O,t)),i.done()})).next((function(){return o}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Jl(e).Qt({index:Tc.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jl(e).qt(Tc.userMutationsIndex,n).next((function(e){return e.map((function(e){return ml(t.O,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Cc.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Zl(e).Qt({range:i},(function(r,i,a){var s=u(r,3),c=s[0],l=s[1],f=s[2],h=Sc(l);if(c===n.userId&&t.path.isEqual(h))return Jl(e).get(f).next((function(e){if(!e)throw Uo();zo(e.userId===n.userId),o.push(ml(n.O,e))}));a.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ks(ia),i=[];return t.forEach((function(t){var o=Cc.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Zl(e).Qt({range:a},(function(e,i,o){var a=u(e,3),s=a[0],c=a[1],l=a[2],f=Sc(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));i.push(s)})),$c.waitFor(i).next((function(){return n.je(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,o=Cc.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new ks(ia);return Zl(e).Qt({range:a},(function(e,t,o){var a=u(e,3),c=a[0],l=a[1],f=a[2],h=Sc(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):o.done()})).next((function(){return n.je(e,s)}))}},{key:"je",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Jl(e).get(t).next((function(e){if(null===e)throw Uo();zo(e.userId===n.userId),r.push(ml(n.O,e))})))})),$c.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Ql(e.zt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Qe(t.batchId)})),$c.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Qe",value:function(e){delete this.Ke[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return $c.resolve();var r=IDBKeyRange.lowerBound(Cc.prefixForUser(t.userId)),i=[];return Zl(e).Qt({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Sc(e[1]);i.push(o)}else r.done()})).next((function(){zo(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Xl(e,this.userId,t)}},{key:"We",value:function(e){var t=this;return ef(e).get(this.userId).next((function(e){return e||new Ic(t.userId,-1,"")}))}}],[{key:"Jt",value:function(t,n,r,i){return zo(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Xl(e,t,n){var r=Cc.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Zl(e).Qt({range:o,jt:!0},(function(e,n,r){var o=u(e,3),s=o[0],c=o[1];o[2];s===t&&c===i&&(a=!0),r.done()})).next((function(){return a}))}function Jl(e){return al(e,Tc.store)}function Zl(e){return al(e,Cc.store)}function ef(e){return al(e,Ic.store)}var tf=function(){function e(t){T(this,e),this.ze=t}return A(e,[{key:"next",value:function(){return this.ze+=2,this.ze}}],[{key:"He",value:function(){return new e(0)}},{key:"Je",value:function(){return new e(-1)}}]),e}(),nf=function(){function e(t,n){T(this,e),this.referenceDelegate=t,this.O=n}return A(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Ye(e).next((function(n){var r=new tf(n.highestTargetId);return n.highestTargetId=r.next(),t.Xe(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Ye(e).next((function(e){return sa.fromTimestamp(new ua(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Ye(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Ye(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Xe(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Ze(e,t).next((function(){return n.Ye(e).next((function(r){return r.targetCount+=1,n.tn(t,r),n.Xe(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Ze(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return rf(e).delete(t.targetId)})).next((function(){return n.Ye(e)})).next((function(t){return zo(t.targetCount>0),t.targetCount-=1,n.Xe(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,o=[];return rf(e).Qt((function(a,u){var s=bl(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(e,s)))})).next((function(){return $c.waitFor(o)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return rf(e).Qt((function(e,n){var r=bl(n);t(r)}))}},{key:"Ye",value:function(e){return of(e).get(Mc.key).next((function(e){return zo(null!==e),e}))}},{key:"Xe",value:function(e,t){return of(e).put(Mc.key,t)}},{key:"Ze",value:function(e,t){return rf(e).put(wl(this.O,t))}},{key:"tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Ye(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=tu(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return rf(e).Qt({range:r,index:Nc.queryTargetsIndexName},(function(e,n,r){var o=bl(n);nu(t,o.target)&&(i=o,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],o=af(e);return t.forEach((function(t){var a=wc(t.path);i.push(o.put(new Dc(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),$c.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=af(e);return $c.forEach(t,(function(t){var o=wc(t.path);return $c.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=af(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=af(e),i=Rs();return r.Qt({range:n,jt:!0},(function(e,t,n){var r=Sc(e[1]),o=new Ra(r);i=i.add(o)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=wc(t.path),r=IDBKeyRange.bound([n],[aa(n)],!1,!0),i=0;return af(e).Qt({index:Dc.documentTargetsIndex,jt:!0,range:r},(function(e,t,n){var r=u(e,2),o=r[0];r[1];0!==o&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Tt",value:function(e,t){return rf(e).get(t).next((function(e){return e?bl(e):null}))}}]),e}();function rf(e){return al(e,Nc.store)}function of(e){return al(e,Mc.store)}function af(e){return al(e,Dc.store)}function uf(e){return sf.apply(this,arguments)}function sf(){return sf=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Go.FAILED_PRECONDITION&&t.message===Kc){e.next=2;break}throw t;case 2:Fo("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),sf.apply(this,arguments)}function cf(e,t){var n=u(e,2),r=n[0],i=n[1],o=u(t,2),a=o[0],s=o[1],c=ia(r,a);return 0===c?ia(i,s):c}var lf=function(){function e(t){T(this,e),this.en=t,this.buffer=new ks(cf),this.nn=0}return A(e,[{key:"sn",value:function(){return++this.nn}},{key:"rn",value:function(e){var t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();cf(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),ff=function(){function e(t,n){T(this,e),this.garbageCollector=t,this.asyncQueue=n,this.on=!1,this.cn=null}return A(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}},{key:"stop",value:function(){this.cn&&(this.cn.cancel(),this.cn=null)}},{key:"started",get:function(){return null!==this.cn}},{key:"un",value:function(e){var t=this,n=this.on?3e5:6e4;Fo("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,ee(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.cn=null,t.on=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!el(n.t0)){n.next=12;break}Fo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,uf(n.t0);case 14:return n.next=16,t.un(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),hf=function(){function e(t,n){T(this,e),this.an=t,this.params=n}return A(e,[{key:"calculateTargetCount",value:function(e,t){return this.an.hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return $c.resolve(ta.A);var r=new lf(t);return this.an.forEachTarget(e,(function(e){return r.rn(e.sequenceNumber)})).next((function(){return n.an.ln(e,(function(e){return r.rn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.an.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.an.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Fo("LruGarbageCollector","Garbage collection skipped; disabled"),$c.resolve(Hl)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Fo("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Hl):n.fn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.an.getCacheSize(e)}},{key:"fn",value:function(e,t){var n,r,i,o,a,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Fo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Lo()<=se.DEBUG&&Fo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),$c.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),df=function(){function e(t,n){T(this,e),this.db=t,this.garbageCollector=function(e,t){return new hf(e,t)}(this,n)}return A(e,[{key:"hn",value:function(e){var t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"dn",value:function(e){var t=0;return this.ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"ln",value:function(e,t){return this._n(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return pf(e,n)}},{key:"removeReference",value:function(e,t,n){return pf(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return pf(e,t)}},{key:"wn",value:function(e,t){return function(e,t){var n=!1;return ef(e).Wt((function(r){return Xl(e,r,t).next((function(e){return e&&(n=!0),$c.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this._n(e,(function(a,u){if(u<=t){var s=n.wn(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a,sa.min()),af(e).delete([0,wc(a.path)])}))}));i.push(s)}})).next((function(){return $c.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return pf(e,t)}},{key:"_n",value:function(e,t){var n,r=af(e),i=ta.A;return r.Qt({index:Dc.documentTargetsIndex},(function(e,r){var o=u(e,2),a=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===a?(i!==ta.A&&t(new Ra(Sc(n)),i),i=c,n=s):i=ta.A})).next((function(){i!==ta.A&&t(new Ra(Sc(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function pf(e,t){return af(e).put(function(e,t){return new Dc(0,wc(e.path),t)}(t,e.currentSequenceNumber))}var vf=function(){function e(t,n){T(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return A(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var o=u(r.value,2),a=o[0],s=o[1];if(this.equalsFn(a,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){la(this.inner,(function(t,n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var o=u(r.value,2),a=o[0],s=o[1];e(a,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return fa(this.inner)}}]),e}(),yf=function(){function e(){T(this,e),this.changes=new vf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return A(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Qa.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?$c.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),gf=function(){function e(t){T(this,e),this.O=t}return A(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return wf(e).put(kf(t),n)}},{key:"removeEntry",value:function(e,t){var n=wf(e),r=kf(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.mn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return wf(e).get(kf(t)).next((function(e){return n.gn(t,e)}))}},{key:"yn",value:function(e,t){var n=this;return wf(e).get(kf(t)).next((function(e){return{document:n.gn(t,e),size:$l(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=_s();return this.pn(e,t,(function(e,t){var i=n.gn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"In",value:function(e,t){var n=this,r=_s(),i=new ms(Ra.comparator);return this.pn(e,t,(function(e,t){var o=n.gn(e,t);r=r.insert(e,o),i=i.insert(e,$l(t))})).next((function(){return{documents:r,En:i}}))}},{key:"pn",value:function(e,t,n){if(t.isEmpty())return $c.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return wf(e).Qt({range:r},(function(e,t,r){for(var a=Ra.fromSegments(e);o&&Ra.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ut(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))}},{key:"getAll",value:function(e,t,n){var r=this,i=_s(),o=t.length+1,a={};if(n.isEqual(sa.min())){var u=t.toArray();a.range=IDBKeyRange.lowerBound(u)}else{var s=t.toArray(),c=pl(n);a.range=IDBKeyRange.lowerBound([s,c],!0),a.index=Oc.collectionReadTimeIndex}return wf(e).Qt(a,(function(e,n,a){if(e.length===o){var u=r.gn(Ra.fromSegments(e),n);t.isPrefixOf(u.key.path)?i=i.insert(u.key,u):a.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new mf(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return bf(e).get(Pc.key).next((function(e){return zo(!!e),e}))}},{key:"mn",value:function(e,t){return bf(e).put(Pc.key,t)}},{key:"gn",value:function(e,t){if(t){var n=hl(this.O,t);if(!n.isNoDocument()||!n.version.isEqual(sa.min()))return n}return Qa.newInvalidDocument(e)}}]),e}(),mf=function(e){w(n,e);var t=_(n);function n(e,r){var i;return T(this,n),(i=t.call(this)).Tn=e,i.trackRemovals=r,i.An=new vf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return A(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new ks((function(e,t){return ia(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var u=t.An.get(o);if(a.isValidDocument()){var s=dl(t.Tn.O,a);i=i.add(o.path.popLast());var c=$l(s);r+=c-u,n.push(t.Tn.addEntry(e,o,s))}else if(r-=u,t.trackRemovals){var l=dl(t.Tn.O,a.convertToNoDocument(sa.min()));n.push(t.Tn.addEntry(e,o,l))}else n.push(t.Tn.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Tn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Tn.updateMetadata(e,r)),$c.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Tn.yn(e,t).next((function(e){return n.An.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Tn.In(e,t).next((function(e){var t=e.documents;return e.En.forEach((function(e,t){n.An.set(e,t)})),t}))}}]),n}(yf);function bf(e){return al(e,Pc.store)}function wf(e){return al(e,Oc.store)}function kf(e){return e.path.toArray()}var xf=function(){function e(t){T(this,e),this.O=t}return A(e,[{key:"kt",value:function(e,t,n,r){var i=this,o=new Yc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(_c.store)}(e),function(e){e.createObjectStore(Ic.store,{keyPath:Ic.keyPath}),e.createObjectStore(Tc.store,{keyPath:Tc.keyPath,autoIncrement:!0}).createIndex(Tc.userMutationsIndex,Tc.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Cc.store)}(e),Sf(e),function(e){e.createObjectStore(Oc.store)}(e));var a=$c.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Dc.store),e.deleteObjectStore(Nc.store),e.deleteObjectStore(Mc.store)}(e),Sf(e)),a=a.next((function(){return function(e){var t=e.store(Mc.store),n=new Mc(0,0,sa.min().toTimestamp(),0);return t.put(Mc.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Tc.store).qt().next((function(n){e.deleteObjectStore(Tc.store),e.createObjectStore(Tc.store,{keyPath:Tc.keyPath,autoIncrement:!0}).createIndex(Tc.userMutationsIndex,Tc.userMutationsKeyPath,{unique:!0});var r=t.store(Tc.store),i=n.map((function(e){return r.put(e)}));return $c.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Fc.store,{keyPath:Fc.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Rn(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Pc.store)}(e),i.Pn(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.bn(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.vn(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Oc.store);t.createIndex(Oc.readTimeIndex,Oc.readTimeIndexPath,{unique:!1}),t.createIndex(Oc.collectionReadTimeIndex,Oc.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Vn(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Bc.store,{keyPath:Bc.keyPath})}(e),function(e){e.createObjectStore(jc.store,{keyPath:jc.keyPath})}(e)}))),n<12&&r>=12&&(a=a.next((function(){!function(e){var t=e.createObjectStore(qc.store,{keyPath:qc.keyPath});t.createIndex(qc.collectionPathOverlayIndex,qc.collectionPathOverlayIndexPath,{unique:!1}),t.createIndex(qc.collectionGroupOverlayIndex,qc.collectionGroupOverlayIndexPath,{unique:!1})}(e)}))),n<13&&r>=13&&(a=a.next((function(){!function(e){e.createObjectStore(Vc.store,{keyPath:Vc.keyPath,autoIncrement:!0}).createIndex(Vc.collectionGroupIndex,Vc.collectionGroupIndexPath,{unique:!1}),e.createObjectStore(Uc.store,{keyPath:Uc.keyPath}).createIndex(Uc.sequenceNumberIndex,Uc.sequenceNumberIndexPath,{unique:!1}),e.createObjectStore(zc.store,{keyPath:zc.keyPath}).createIndex(zc.documentKeyIndex,zc.documentKeyIndexPath,{unique:!1})}(e)}))),a}},{key:"Pn",value:function(e){var t=0;return e.store(Oc.store).Qt((function(e,n){t+=$l(n)})).next((function(){var n=new Pc(t);return e.store(Pc.store).put(Pc.key,n)}))}},{key:"Rn",value:function(e){var t=this,n=e.store(Ic.store),r=e.store(Tc.store);return n.qt().next((function(n){return $c.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt(Tc.userMutationsIndex,i).next((function(r){return $c.forEach(r,(function(r){zo(r.userId===n.userId);var i=ml(t.O,r);return Ql(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"bn",value:function(e){var t=e.store(Dc.store),n=e.store(Oc.store);return e.store(Mc.store).get(Mc.key).next((function(e){var r=[];return n.Qt((function(n,i){var o=new da(n),a=function(e){return[0,wc(e)]}(o);r.push(t.get(a).next((function(n){return n?$c.resolve():function(n){return t.put(new Dc(0,wc(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return $c.waitFor(r)}))}))}},{key:"vn",value:function(e,t){e.createObjectStore(Lc.store,{keyPath:Lc.keyPath});var n=t.store(Lc.store),r=new Vl,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:wc(i)})}};return t.store(Oc.store).Qt({jt:!0},(function(e,t){var n=new da(e);return i(n.popLast())})).next((function(){return t.store(Cc.store).Qt({jt:!0},(function(e,t){var n=u(e,3),r=(n[0],n[1]),o=(n[2],Sc(r));return i(o.popLast())}))}))}},{key:"Vn",value:function(e){var t=this,n=e.store(Nc.store);return n.Qt((function(e,r){var i=bl(r),o=wl(t.O,i);return n.put(o)}))}}]),e}();function Sf(e){e.createObjectStore(Dc.store,{keyPath:Dc.keyPath}).createIndex(Dc.documentTargetsIndex,Dc.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Nc.store,{keyPath:Nc.keyPath}).createIndex(Nc.queryTargetsIndexName,Nc.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Mc.store)}var Ef="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",_f=function(){function e(t,n,r,i,o,a,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:12;if(T(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Sn=o,this.window=a,this.document=u,this.Dn=c,this.Cn=l,this.schemaVersion=f,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=function(e){return Promise.resolve()},!e.Vt())throw new Wo(Go.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new df(this,i),this.Bn=n+"main",this.O=new fl(s),this.Ln=new Xc(this.Bn,this.schemaVersion,new xf(this.O)),this.Un=new nf(this.referenceDelegate,this.O),this.qn=function(e){return new gf(e)}(this.O),this.Kn=new El,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===l&&Bo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return A(e,[{key:"start",value:function(){var e=this;return this.jn().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Wo(Go.FAILED_PRECONDITION,Ef);return e.Qn(),e.Wn(),e.zn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Un.getHighestSequenceNumber(t)}))})).then((function(t){e.Nn=new ta(t,e.Dn)})).then((function(){e.xn=!0})).catch((function(t){return e.Ln&&e.Ln.close(),Promise.reject(t)}))}},{key:"Hn",value:function(e){var t=this;return this.Fn=function(){var n=ee(ne().mark((function n(r){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ln.Mt(function(){var t=ee(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.jn();case 4:case"end":return e.stop()}}),e)})))))}},{key:"jn",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Tf(t).put(new Fc(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Jn(t).next((function(t){t||(e.isPrimary=!1,e.Sn.enqueueRetryable((function(){return e.Fn(!1)})))}))})).next((function(){return e.Yn(t)})).next((function(n){return e.isPrimary&&!n?e.Xn(t).next((function(){return!1})):!!n&&e.Zn(t).next((function(){return!0}))}))})).catch((function(t){if(el(t))return Fo("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Fo("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Sn.enqueueRetryable((function(){return e.Fn(t)})),e.isPrimary=t}))}},{key:"Jn",value:function(e){var t=this;return If(e).get(_c.key).next((function(e){return $c.resolve(t.ts(e))}))}},{key:"es",value:function(e){return Tf(e).delete(this.clientId)}},{key:"ns",value:function(){var e=ee(ne().mark((function e(){var t,n,r,i,o=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.ss(this.$n,18e5)){e.next=6;break}return this.$n=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=al(e,Fc.store);return t.qt().next((function(e){var n=o.rs(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return $c.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Gn){n=I(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Gn.removeItem(this.os(i.clientId))}catch(a){n.e(a)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"zn",value:function(){var e=this;this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.jn().then((function(){return e.ns()})).then((function(){return e.zn()}))}))}},{key:"ts",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Yn",value:function(e){var t=this;return this.Cn?$c.resolve(!0):If(e).get(_c.key).next((function(n){if(null!==n&&t.ss(n.leaseTimestampMs,5e3)&&!t.cs(n.ownerId)){if(t.ts(n)&&t.networkEnabled)return!0;if(!t.ts(n)){if(!n.allowTabSynchronization)throw new Wo(Go.FAILED_PRECONDITION,Ef);return!1}}return!(!t.networkEnabled||!t.inForeground)||Tf(e).qt().next((function(e){return void 0===t.rs(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Fo("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ee(ne().mark((function e(){var t=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xn=!1,this.us(),this.Mn&&(this.Mn.cancel(),this.Mn=null),this.hs(),this.ls(),e.next=7,this.Ln.runTransaction("shutdown","readwrite",[_c.store,Fc.store],(function(e){var n=new ol(e,ta.A);return t.Xn(n).next((function(){return t.es(n)}))}));case 7:this.Ln.close(),this.fs();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rs",value:function(e,t){var n=this;return e.filter((function(e){return n.ss(e.updateTimeMs,t)&&!n.cs(e.clientId)}))}},{key:"ds",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Tf(t).qt().next((function(t){return e.rs(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xn}},{key:"getMutationQueue",value:function(e,t){return Yl.Jt(e,this.O,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getIndexManager",value:function(e){return new Ul(e)}},{key:"getDocumentOverlayCache",value:function(e){return Tl.Jt(this.O,e)}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Fo("IndexedDbPersistence","Starting transaction:",e);var i,o,a="readonly"===t?"readonly":"readwrite",u=13===(i=this.schemaVersion)?Hc:12===i?Wc:11===i?Gc:void Uo();return this.Ln.runTransaction(e,a,u,(function(i){return o=new ol(i,r.Nn?r.Nn.next():ta.A),"readwrite-primary"===t?r.Jn(o).next((function(e){return!!e||r.Yn(o)})).next((function(t){if(!t)throw Bo("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Sn.enqueueRetryable((function(){return r.Fn(!1)})),new Wo(Go.FAILED_PRECONDITION,Kc);return n(o)})).next((function(e){return r.Zn(o).next((function(){return e}))})):r._s(o).next((function(){return n(o)}))})).then((function(e){return o.raiseOnCommittedEvent(),e}))}},{key:"_s",value:function(e){var t=this;return If(e).get(_c.key).next((function(e){if(null!==e&&t.ss(e.leaseTimestampMs,5e3)&&!t.cs(e.ownerId)&&!t.ts(e)&&!(t.Cn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Wo(Go.FAILED_PRECONDITION,Ef)}))}},{key:"Zn",value:function(e){var t=new _c(this.clientId,this.allowTabSynchronization,Date.now());return If(e).put(_c.key,t)}},{key:"Xn",value:function(e){var t=this,n=If(e);return n.get(_c.key).next((function(e){return t.ts(e)?(Fo("IndexedDbPersistence","Releasing primary lease."),n.delete(_c.key)):$c.resolve()}))}},{key:"ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Bo("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Qn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=function(){e.Sn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.jn()}))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}},{key:"hs",value:function(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}},{key:"Wn",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=function(){t.us(),j()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Sn.enterRestrictedMode(!0),t.Sn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.kn))}},{key:"ls",value:function(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}},{key:"cs",value:function(e){var t;try{var n=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return Fo("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Bo("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"us",value:function(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(Ot){Bo("Failed to set zombie client id.",Ot)}}},{key:"fs",value:function(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(Ot){}}},{key:"os",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Vt",value:function(){return Xc.Vt()}}]),e}();function If(e){return al(e,_c.store)}function Tf(e){return al(e,Fc.store)}function Cf(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Af=A((function e(t,n){T(this,e),this.progress=t,this.ws=n})),Rf=function(){function e(t,n,r){T(this,e),this.qn=t,this.gs=n,this.indexManager=r}return A(e,[{key:"ys",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.ps(e,t,r)}))}},{key:"ps",value:function(e,t,n){return this.qn.getEntry(e,t).next((function(e){var t,r=I(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Is",value:function(e,t){e.forEach((function(e,n){var r,i=I(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(o){i.e(o)}finally{i.f()}}))}},{key:"Es",value:function(e,t){var n=this;return this.qn.getEntries(e,t).next((function(t){return n.Ts(e,t).next((function(){return t}))}))}},{key:"Ts",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Is(t,e)}))}},{key:"As",value:function(e,t,n){return function(e){return Ra.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Rs(e,t.path):_u(t)?this.Ps(e,t,n):this.bs(e,t,n)}},{key:"Rs",value:function(e,t){return this.ys(e,new Ra(t)).next((function(e){var t=Ts();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ps",value:function(e,t,n){var r=this,i=t.collectionGroup,o=Ts();return this.indexManager.getCollectionParents(e,i).next((function(a){return $c.forEach(a,(function(a){var u=function(e,t){return new mu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.bs(e,u,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"bs",value:function(e,t,n){var r,i=this;return this.qn.getAll(e,t.path,n).next((function(n){return r=n,i.gs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var i,o=t.value,a=I(o.mutations);try{for(a.s();!(i=a.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Qa.newInvalidDocument(s),r=r.insert(s,c)),ns(u,c,o.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){a.e(l)}finally{a.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Pu(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Of=function(){function e(t,n,r,i){T(this,e),this.targetId=t,this.fromCache=n,this.vs=r,this.Vs=i}return A(e,null,[{key:"Ss",value:function(t,n){var r,i=Rs(),o=Rs(),a=I(n.docChanges);try{for(a.s();!(r=a.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}}}catch(s){a.e(s)}finally{a.f()}return new e(t,n.fromCache,i,o)}}]),e}(),Pf=function(){function e(){T(this,e)}return A(e,[{key:"Ds",value:function(e){this.Cs=e}},{key:"As",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(sa.min())?this.Ns(e,t):this.Cs.Es(e,r).next((function(o){var a=i.xs(t,o);return(ku(t)||xu(t))&&i.ks(t.limitType,a,r,n)?i.Ns(e,t):(Lo()<=se.DEBUG&&Fo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ou(t)),i.Cs.As(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"xs",value:function(e,t){var n=new ks(Nu(e));return t.forEach((function(t,r){Pu(e,r)&&(n=n.add(r))})),n}},{key:"ks",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ns",value:function(e,t){return Lo()<=se.DEBUG&&Fo("QueryEngine","Using full collection scan to execute query:",Ou(t)),this.Cs.As(e,t,sa.min())}}]),e}(),Nf=function(){function e(t,n,r,i){T(this,e),this.persistence=t,this.Os=n,this.O=i,this.Ms=new ms(ia),this.$s=new vf((function(e){return tu(e)}),nu),this.Fs=sa.min(),this.Bs=t.getRemoteDocumentCache(),this.Un=t.getTargetCache(),this.Kn=t.getBundleCache(),this.Ls(r)}return A(e,[{key:"Ls",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new Rf(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ms)}))}}]),e}();function Df(e,t,n,r){return new Nf(e,t,n,r)}function Mf(e,t){return Lf.apply(this,arguments)}function Lf(){return Lf=ee(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qo(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.gs.getAllMutationBatches(e).next((function(i){return t=i,r.Ls(n),r.gs.getAllMutationBatches(e)})).next((function(n){var i,o=[],a=[],u=Rs(),s=I(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;o.push(c.batchId);var l,f=I(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=I(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;a.push(v.batchId);var y,g=I(v.mutations);try{for(g.s();!(y=g.n()).done;){var m=y.value;u=u.add(m.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.Us.Es(e,u).next((function(e){return{qs:e,removedBatchIds:o,addedBatchIds:a}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Lf.apply(this,arguments)}function Ff(e,t){var n=qo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=$c.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);zo(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((function(){return e.gs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}function Bf(e){var t=qo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Un.getLastRemoteSnapshotVersion(e)}))}function jf(e,t){var n=qo(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;var a=[];t.targetChanges.forEach((function(o,u){var s=i.get(u);if(s){a.push(n.Un.removeMatchingKeys(e,o.removedDocuments,u).next((function(){return n.Un.addMatchingKeys(e,o.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(ga.EMPTY_BYTE_STRING,sa.min()).withLastLimboFreeSnapshotVersion(sa.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,o)&&a.push(n.Un.updateTargetData(e,c))}}));var u=_s();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Vf(e,o,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(sa.min())){var s=n.Un.getLastRemoteSnapshotVersion(e).next((function(t){return n.Un.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(s)}return $c.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Us.Ts(e,u)})).next((function(){return u}))})).then((function(e){return n.Ms=i,e}))}function Vf(e,t,n){var r=Rs();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=_s();return n.forEach((function(n,i){var o=e.get(n);i.isNoDocument()&&i.version.isEqual(sa.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!o.isValidDocument()||i.version.compareTo(o.version)>0||0===i.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Fo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",i.version)})),r}))}function Uf(e,t){var n=qo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.gs.getNextMutationBatchAfterBatchId(e,t)}))}function zf(e,t){var n=qo(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Un.getTargetData(e,t).next((function(i){return i?(r=i,$c.resolve(r)):n.Un.allocateTargetId(e).next((function(i){return r=new ll(t,i,0,e.currentSequenceNumber),n.Un.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.$s.set(t,e.targetId)),e}))}function qf(e,t,n){return Gf.apply(this,arguments)}function Gf(){return Gf=ee(ne().mark((function e(t,n,r){var i,o,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=qo(t),o=i.Ms.get(n),a=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",a,(function(e){return i.persistence.referenceDelegate.removeTarget(e,o)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),el(e.t1)){e.next=12;break}throw e.t1;case 12:Fo("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ms=i.Ms.remove(n),i.$s.delete(o.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Gf.apply(this,arguments)}function Wf(e,t,n){var r=qo(e),i=sa.min(),o=Rs();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=qo(e),i=r.$s.get(n);return void 0!==i?$c.resolve(r.Ms.get(i)):r.Un.getTargetData(t,n)}(r,e,Tu(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Os.As(e,t,n?i:sa.min(),n?o:Rs())})).next((function(e){return{documents:e,Ks:o}}))}))}function Hf(e,t){var n=qo(e),r=qo(n.Un),i=n.Ms.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Tt(e,t).next((function(e){return e?e.target:null}))}))}function Kf(e){var t=qo(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=qo(e),i=_s(),o=pl(n),a=wf(t),u=IDBKeyRange.lowerBound(o,!0);return a.Qt({index:Oc.readTimeIndex,range:u},(function(e,t){var n=hl(r.O,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{ws:i,readTime:vl(o)}}))}(t.Bs,e,t.Fs)})).then((function(e){var n=e.ws,r=e.readTime;return t.Fs=r,n}))}function Qf(e){return $f.apply(this,arguments)}function $f(){return $f=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qo(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=wf(e),n=sa.min();return t.Qt({index:Oc.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=vl(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.Fs=e})));case 2:case"end":return e.stop()}}),e)}))),$f.apply(this,arguments)}function Yf(e,t,n,r){return Xf.apply(this,arguments)}function Xf(){return Xf=ee(ne().mark((function e(t,n,r,i){var o,a,u,s,c,l,f,h,d,p;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=qo(t),a=Rs(),u=_s(),s=I(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Gs(l.metadata.name),l.document&&(a=a.add(f)),(h=n.js(l)).setReadTime(n.Qs(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=o.Bs.newChangeBuffer({trackRemovals:!0}),e.next=7,zf(o,function(e){return Tu(wu(da.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",o.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Vf(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return o.Un.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return o.Un.addMatchingKeys(e,a,p.targetId)})).next((function(){return o.Us.Ts(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function Jf(e,t){return Zf.apply(this,arguments)}function Zf(){return Zf=ee(ne().mark((function e(t,n){var r,i,o,a=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:Rs(),e.next=3,zf(t,Tu(kl(n.bundledQuery)));case 3:return i=e.sent,o=qo(t),e.abrupt("return",o.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Qs(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return o.Kn.saveNamedQuery(e,n);var a=i.withResumeToken(ga.EMPTY_BYTE_STRING,t);return o.Ms=o.Ms.insert(a.targetId,a),o.Un.updateTargetData(e,a).next((function(){return o.Un.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return o.Un.addMatchingKeys(e,r,i.targetId)})).next((function(){return o.Kn.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Zf.apply(this,arguments)}var eh=function(){function e(t){T(this,e),this.O=t,this.Ws=new Map,this.zs=new Map}return A(e,[{key:"getBundleMetadata",value:function(e,t){return $c.resolve(this.Ws.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Ws.set(t.id,{id:(n=t).id,version:n.version,createTime:Qs(n.createTime)}),$c.resolve()}},{key:"getNamedQuery",value:function(e,t){return $c.resolve(this.zs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.zs.set(t.name,function(e){return{name:e.name,query:kl(e.bundledQuery),readTime:Qs(e.readTime)}}(t)),$c.resolve()}}]),e}(),th=function(){function e(){T(this,e),this.overlays=new ms(Ra.comparator),this.Hs=new Map}return A(e,[{key:"getOverlay",value:function(e,t){return $c.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n){r.Yt(e,t,n)})),$c.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Hs.delete(n)),$c.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=new Map,i=t.length+1,o=new Ra(t.child("")),a=this.overlays.getIteratorFrom(o);a.hasNext();){var u=a.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return $c.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ms((function(e,t){return e-t})),o=this.overlays.getIterator();o.hasNext();){var a=o.getNext().value;if(a.getKey().getCollectionGroup()===t&&a.largestBatchId>n){var u=i.get(a.largestBatchId);null===u&&(u=new Map,i=i.insert(a.largestBatchId,u)),u.set(a.getKey(),a)}}for(var s=new Map,c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(t,e)})),!(s.size>=r)););return $c.resolve(s)}},{key:"Yt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);null!==r&&this.Hs.get(r.largestBatchId).delete(n.key),this.overlays=this.overlays.insert(n.key,new cl(t,n));var i=this.Hs.get(t);void 0===i&&(i=new Set,this.Hs.set(t,i)),i.add(n.key)}}}]),e}(),nh=function(){function e(){T(this,e),this.Js=new ks(rh.Ys),this.Xs=new ks(rh.Zs)}return A(e,[{key:"isEmpty",value:function(){return this.Js.isEmpty()}},{key:"addReference",value:function(e,t){var n=new rh(e,t);this.Js=this.Js.add(n),this.Xs=this.Xs.add(n)}},{key:"ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ei(new rh(e,t))}},{key:"ni",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"si",value:function(e){var t=this,n=new Ra(new da([])),r=new rh(n,e),i=new rh(n,e+1),o=[];return this.Xs.forEachInRange([r,i],(function(e){t.ei(e),o.push(e.key)})),o}},{key:"ii",value:function(){var e=this;this.Js.forEach((function(t){return e.ei(t)}))}},{key:"ei",value:function(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}},{key:"ri",value:function(e){var t=new Ra(new da([])),n=new rh(t,e),r=new rh(t,e+1),i=Rs();return this.Xs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new rh(e,0),n=this.Js.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),rh=function(){function e(t,n){T(this,e),this.key=t,this.oi=n}return A(e,null,[{key:"Ys",value:function(e,t){return Ra.comparator(e.key,t.key)||ia(e.oi,t.oi)}},{key:"Zs",value:function(e,t){return ia(e.oi,t.oi)||Ra.comparator(e.key,t.key)}}]),e}(),ih=function(){function e(t,n){T(this,e),this.indexManager=t,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new ks(rh.Ys)}return A(e,[{key:"checkEmpty",value:function(e){return $c.resolve(0===this.gs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];var o=new ul(i,t,n,r);this.gs.push(o);var a,u=I(r);try{for(u.s();!(a=u.n()).done;){var s=a.value;this.ui=this.ui.add(new rh(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return $c.resolve(o)}},{key:"lookupMutationBatch",value:function(e,t){return $c.resolve(this.ai(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.hi(n),i=r<0?0:r;return $c.resolve(this.gs.length>i?this.gs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return $c.resolve(0===this.gs.length?-1:this.ci-1)}},{key:"getAllMutationBatches",value:function(e){return $c.resolve(this.gs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new rh(t,0),i=new rh(t,Number.POSITIVE_INFINITY),o=[];return this.ui.forEachInRange([r,i],(function(e){var t=n.ai(e.oi);o.push(t)})),$c.resolve(o)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ks(ia);return t.forEach((function(e){var t=new rh(e,0),i=new rh(e,Number.POSITIVE_INFINITY);n.ui.forEachInRange([t,i],(function(e){r=r.add(e.oi)}))})),$c.resolve(this.li(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ra.isDocumentKey(i)||(i=i.child(""));var o=new rh(new Ra(i),0),a=new ks(ia);return this.ui.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.oi)),!0)}),o),$c.resolve(this.li(a))}},{key:"li",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ai(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;zo(0===this.fi(t.batchId,"removed")),this.gs.shift();var r=this.ui;return $c.forEach(t.mutations,(function(i){var o=new rh(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ui=r}))}},{key:"Qe",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new rh(t,0),r=this.ui.firstAfterOrEqual(n);return $c.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.gs.length,$c.resolve()}},{key:"fi",value:function(e,t){return this.hi(e)}},{key:"hi",value:function(e){return 0===this.gs.length?0:e-this.gs[0].batchId}},{key:"ai",value:function(e){var t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}]),e}(),oh=function(){function e(t){T(this,e),this.di=t,this.docs=new ms(Ra.comparator),this.size=0}return A(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.di(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return $c.resolve(n?n.document.mutableCopy():Qa.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=_s();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Qa.newInvalidDocument(e))})),$c.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=_s(),i=new Ra(t.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),u=a.key,s=a.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||s.readTime.compareTo(n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return $c.resolve(r)}},{key:"_i",value:function(e,t){return $c.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ah(this)}},{key:"getSize",value:function(e){return $c.resolve(this.size)}}]),e}(),ah=function(e){w(n,e);var t=_(n);function n(e){var r;return T(this,n),(r=t.call(this)).Tn=e,r}return A(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Tn.addEntry(e,i)):t.Tn.removeEntry(r)})),$c.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Tn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Tn.getEntries(e,t)}}]),n}(yf),uh=function(){function e(t){T(this,e),this.persistence=t,this.wi=new vf((function(e){return tu(e)}),nu),this.lastRemoteSnapshotVersion=sa.min(),this.highestTargetId=0,this.mi=0,this.gi=new nh,this.targetCount=0,this.yi=tf.He()}return A(e,[{key:"forEachTarget",value:function(e,t){return this.wi.forEach((function(e,n){return t(n)})),$c.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return $c.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return $c.resolve(this.mi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.yi.next(),$c.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.mi&&(this.mi=t),$c.resolve()}},{key:"Ze",value:function(e){this.wi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.yi=new tf(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ze(t),this.targetCount+=1,$c.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ze(t),$c.resolve()}},{key:"removeTargetData",value:function(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,$c.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,o=[];return this.wi.forEach((function(a,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.wi.delete(a),o.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),$c.waitFor(o).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return $c.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.wi.get(t)||null;return $c.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.gi.ti(t,n),$c.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.gi.ni(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),$c.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.gi.si(t),$c.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.gi.ri(t);return $c.resolve(n)}},{key:"containsKey",value:function(e,t){return $c.resolve(this.gi.containsKey(t))}}]),e}(),sh=function(){function e(t,n){var r=this;T(this,e),this.pi={},this.overlays={},this.Nn=new ta(0),this.xn=!1,this.xn=!0,this.referenceDelegate=t(this),this.Un=new uh(this),this.indexManager=new jl,this.qn=new oh((function(e){return r.referenceDelegate.Ii(e)})),this.O=new fl(n),this.Kn=new eh(this.O)}return A(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xn=!1,Promise.resolve()}},{key:"started",get:function(){return this.xn}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new th,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.pi[e.toKey()];return n||(n=new ih(t,this.referenceDelegate),this.pi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Fo("MemoryPersistence","Starting transaction:",e);var i=new ch(this.Nn.next());return this.referenceDelegate.Ei(),n(i).next((function(e){return r.referenceDelegate.Ti(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ai",value:function(e,t){return $c.or(Object.values(this.pi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ch=function(e){w(n,e);var t=_(n);function n(e){var r;return T(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return A(n)}(Qc),lh=function(){function e(t){T(this,e),this.persistence=t,this.Ri=new nh,this.Pi=null}return A(e,[{key:"vi",get:function(){if(this.Pi)return this.Pi;throw Uo()}},{key:"addReference",value:function(e,t,n){return this.Ri.addReference(n,t),this.vi.delete(n.toString()),$c.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ri.removeReference(n,t),this.vi.add(n.toString()),$c.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.vi.add(t.toString()),$c.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ri.si(t.targetId).forEach((function(e){return n.vi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ei",value:function(){this.Pi=new Set}},{key:"Ti",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $c.forEach(this.vi,(function(r){var i=Ra.fromPath(r);return t.Vi(e,i).next((function(e){e||n.removeEntry(i,sa.min())}))})).next((function(){return t.Pi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Vi(e,t).next((function(e){e?n.vi.delete(t.toString()):n.vi.add(t.toString())}))}},{key:"Ii",value:function(e){return 0}},{key:"Vi",value:function(e,t){var n=this;return $c.or([function(){return $c.resolve(n.Ri.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ai(e,t)}])}}],[{key:"bi",value:function(t){return new e(t)}}]),e}();function fh(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function hh(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function dh(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var ph=function(){function e(t,n,r,i){T(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return A(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&((a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Wo(o.error.code,o.error.message))),a?new e(t,n,o.state,i):(Bo("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),vh=function(){function e(t,n,r){T(this,e),this.targetId=t,this.state=n,this.error=r}return A(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&((o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Wo(i.error.code,i.error.message))),o?new e(t,i.state,r):(Bo("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),yh=function(){function e(t,n){T(this,e),this.clientId=t,this.activeTargetIds=n}return A(e,null,[{key:"Si",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ps(),a=0;i&&a<r.activeTargetIds.length;++a)i=Aa(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Bo("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),gh=function(){function e(t,n){T(this,e),this.clientId=t,this.onlineState=n}return A(e,null,[{key:"Si",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Bo("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),mh=function(){function e(){T(this,e),this.activeTargetIds=Ps()}return A(e,[{key:"Ci",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ni",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Di",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),bh=function(){function e(t,n,r,i,o){T(this,e),this.window=t,this.Sn=n,this.persistenceKey=r,this.xi=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new ms(ia),this.started=!1,this.$i=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Fi=fh(this.persistenceKey,this.xi),this.Bi=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Mi=this.Mi.insert(this.xi,new mh),this.Li=new RegExp("^firestore_clients_".concat(a,"_([^_]*)$")),this.Ui=new RegExp("^firestore_mutations_".concat(a,"_(\\d+)(?:_(.*))?$")),this.qi=new RegExp("^firestore_targets_".concat(a,"_(\\d+)$")),this.Ki=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Gi=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}return A(e,[{key:"start",value:function(){var e=ee(ne().mark((function e(){var t,n,r,i,o,a,u,s,c,l,f,h=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.ds();case 2:t=e.sent,n=I(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.xi){e.next=10;break}return e.abrupt("continue",12);case 10:(o=this.getItem(fh(this.persistenceKey,i)))&&(a=yh.Si(i,o))&&(this.Mi=this.Mi.insert(a.clientId,a));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.ji(),(u=this.storage.getItem(this.Ki))&&(s=this.Qi(u))&&this.Wi(s),c=I(this.$i);try{for(c.s();!(l=c.n()).done;)f=l.value,this.Oi(f)}catch(d){c.e(d)}finally{c.f()}this.$i=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Bi,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.zi(this.Mi)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Mi.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Hi(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Hi(e,t,n),this.Ji(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(dh(this.persistenceKey,e));if(n){var r=vh.Si(e,n);r&&(t=r.state)}}return this.Yi.Ci(e),this.ji(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Yi.Ni(e),this.ji()}},{key:"isLocalQueryTarget",value:function(e){return this.Yi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(dh(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Xi(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ji(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Zi(e)}},{key:"notifyBundleLoaded",value:function(){this.tr()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Fo("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Fo("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Fo("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Oi",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Fo("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Fi)return void Bo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable(ee(ne().mark((function e(){var r,i,o,a,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Li.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.er(n.key),e.abrupt("return",t.nr(r,null));case 6:if(!(i=t.sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.nr(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.Ui.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(o=t.ir(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.rr(o));case 16:e.next=39;break;case 18:if(!t.qi.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(a=t.cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.ur(a));case 23:e.next=39;break;case 25:if(n.key!==t.Ki){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Qi(n.newValue))){e.next=30;break}return e.abrupt("return",t.Wi(u));case 30:e.next=39;break;case 32:if(n.key!==t.Bi){e.next=37;break}s=function(e){var t=ta.A;if(null!=e)try{var n=JSON.parse(e);zo("number"==typeof n),t=n}catch(e){Bo("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==ta.A&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Gi){e.next=39;break}return e.abrupt("return",t.syncEngine.ar());case 39:e.next=42;break;case 41:t.$i.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"Yi",get:function(){return this.Mi.get(this.xi)}},{key:"ji",value:function(){this.setItem(this.Fi,this.Yi.Di())}},{key:"Hi",value:function(e,t,n){var r=new ph(this.currentUser,e,t,n),i=hh(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Di())}},{key:"Ji",value:function(e){var t=hh(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Zi",value:function(e){var t={clientId:this.xi,onlineState:e};this.storage.setItem(this.Ki,JSON.stringify(t))}},{key:"Xi",value:function(e,t,n){var r=dh(this.persistenceKey,e),i=new vh(e,t,n);this.setItem(r,i.Di())}},{key:"tr",value:function(){this.setItem(this.Gi,"value-not-used")}},{key:"er",value:function(e){var t=this.Li.exec(e);return t?t[1]:null}},{key:"sr",value:function(e,t){var n=this.er(e);return yh.Si(n,t)}},{key:"ir",value:function(e,t){var n=this.Ui.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ph.Si(new No(i),r,t)}},{key:"cr",value:function(e,t){var n=this.qi.exec(e),r=Number(n[1]);return vh.Si(r,t)}},{key:"Qi",value:function(e){return gh.Si(e)}},{key:"rr",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.hr(t.batchId,t.state,t.error));case 2:Fo("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ur",value:function(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}},{key:"nr",value:function(e,t){var n=this,r=t?this.Mi.insert(e,t):this.Mi.remove(e),i=this.zi(this.Mi),o=this.zi(r),a=[],u=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||u.push(e)})),this.syncEngine.dr(a,u).then((function(){n.Mi=r}))}},{key:"Wi",value:function(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"zi",value:function(e){var t=Ps();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),wh=function(){function e(){T(this,e),this._r=new mh,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return A(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this._r.Ci(e),this.wr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.wr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this._r.Ni(e)}},{key:"isLocalQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.wr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this._r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"start",value:function(){return this._r=new mh,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),kh=function(){function e(){T(this,e)}return A(e,[{key:"mr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),xh=function(){function e(){var t=this;T(this,e),this.gr=function(){return t.yr()},this.pr=function(){return t.Ir()},this.Er=[],this.Tr()}return A(e,[{key:"mr",value:function(e){this.Er.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}},{key:"Tr",value:function(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}},{key:"yr",value:function(){Fo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=I(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ir",value:function(){Fo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=I(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Sh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Eh=function(){function e(t){T(this,e),this.Ar=t.Ar,this.Rr=t.Rr}return A(e,[{key:"Pr",value:function(e){this.br=e}},{key:"vr",value:function(e){this.Vr=e}},{key:"onMessage",value:function(e){this.Sr=e}},{key:"close",value:function(){this.Rr()}},{key:"send",value:function(e){this.Ar(e)}},{key:"Dr",value:function(){this.br()}},{key:"Cr",value:function(e){this.Vr(e)}},{key:"Nr",value:function(e){this.Sr(e)}}]),e}(),_h=function(e){w(n,e);var t=_(n);function n(e){var r;return T(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return A(n,[{key:"Br",value:function(e,t,n,r){return new Promise((function(i,o){var a=new Oo;a.listenOnce(Io.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case _o.NO_ERROR:var t=a.getResponseJson();Fo("Connection","XHR received:",JSON.stringify(t)),i(t);break;case _o.TIMEOUT:Fo("Connection",'RPC "'+e+'" timed out'),o(new Wo(Go.DEADLINE_EXCEEDED,"Request time out"));break;case _o.HTTP_ERROR:var n=a.getStatus();if(Fo("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Go).indexOf(t)>=0?t:Go.UNKNOWN}(r.status);o(new Wo(u,r.message))}else o(new Wo(Go.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Wo(Go.UNAVAILABLE,"Connection failed."));break;default:Uo()}}finally{Fo("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);a.send(t,"POST",u,n,15)}))}},{key:"Ur",value:function(e,t,n){var r=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=So(),o=Eo(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Ao({})),this.Fr(a.initMessageHeaders,t,n),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(B())||"object"===typeof navigator&&"ReactNative"===navigator.product||B().indexOf("Electron/")>=0||function(){var e=B();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||B().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(a.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Fo("Connection","Creating WebChannel: "+u,a);var s=i.createWebChannel(u,a),c=!1,l=!1,f=new Eh({Ar:function(e){l?Fo("Connection","Not sending because WebChannel is closed:",e):(c||(Fo("Connection","Opening WebChannel transport."),s.open(),c=!0),Fo("Connection","WebChannel sending:",e),s.send(e))},Rr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Ro.EventType.OPEN,(function(){l||Fo("Connection","WebChannel transport opened.")})),h(s,Ro.EventType.CLOSE,(function(){l||(l=!0,Fo("Connection","WebChannel transport closed"),f.Cr())})),h(s,Ro.EventType.ERROR,(function(e){l||(l=!0,jo("Connection","WebChannel transport errored:",e),f.Cr(new Wo(Go.UNAVAILABLE,"The operation could not be completed")))})),h(s,Ro.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];zo(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Fo("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=fs[e];if(void 0!==t)return gs(t)}(o),u=i.message;void 0===a&&(a=Go.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),l=!0,f.Cr(new Wo(a,u)),s.close()}else Fo("Connection","WebChannel received:",n),f.Nr(n)}})),h(o,To.STAT_EVENT,(function(e){e.stat===Co.PROXY?Fo("Connection","Detected buffering proxy"):e.stat===Co.NOPROXY&&Fo("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Dr()}),0),f}}]),n}(function(){function e(t){T(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.kr=n+"://"+t.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return A(e,[{key:"Mr",value:function(e,t,n,r,i){var o=this.$r(e,t);Fo("RestConnection","Sending: ",o,n);var a={};return this.Fr(a,r,i),this.Br(e,o,a,n).then((function(e){return Fo("RestConnection","Received: ",e),e}),(function(t){throw jo("RestConnection","".concat(e," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Lr",value:function(e,t,n,r,i){return this.Mr(e,t,n,r,i)}},{key:"Fr",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Do,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"$r",value:function(e,t){var n=Sh[e];return"".concat(this.kr,"/v1/").concat(t,":").concat(n)}}]),e}());function Ih(){return"undefined"!=typeof window?window:null}function Th(){return"undefined"!=typeof document?document:null}function Ch(e){return new Gs(e,!0)}var Ah=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;T(this,e),this.Sn=t,this.timerId=n,this.qr=r,this.Kr=i,this.Gr=o,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}return A(e,[{key:"reset",value:function(){this.jr=0}},{key:"zr",value:function(){this.jr=this.Gr}},{key:"Hr",value:function(e){var t=this;this.cancel();var n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,n-r);i>0&&Fo("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.jr," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,(function(){return t.Wr=Date.now(),e()})),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}},{key:"Yr",value:function(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}},{key:"cancel",value:function(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}},{key:"Jr",value:function(){return(Math.random()-.5)*this.jr}}]),e}(),Rh=function(){function e(t,n,r,i,o,a,u,s){T(this,e),this.Sn=t,this.Xr=r,this.Zr=i,this.eo=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new Ah(t,n)}return A(e,[{key:"oo",value:function(){return 1===this.state||5===this.state||this.co()}},{key:"co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.uo()}},{key:"stop",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ao",value:function(){this.state=0,this.ro.reset()}},{key:"ho",value:function(){var e=this;this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,(function(){return e.lo()})))}},{key:"fo",value:function(e){this._o(),this.stream.send(e)}},{key:"lo",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_o",value:function(){this.so&&(this.so.cancel(),this.so=null)}},{key:"wo",value:function(){this.io&&(this.io.cancel(),this.io=null)}},{key:"close",value:function(){var e=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._o(),this.wo(),this.ro.cancel(),this.no++,4!==t?this.ro.reset():n&&n.code===Go.RESOURCE_EXHAUSTED?(Bo(n.toString()),Bo("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):n&&n.code===Go.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.mo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.vr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],o=r[1];e.no===n&&e.po(i,o)}),(function(n){t((function(){var t=new Wo(Go.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Io(t)}))}))}},{key:"po",value:function(e,t){var n=this,r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr((function(){r((function(){return n.state=2,n.io=n.Sn.enqueueAfterDelay(n.Zr,1e4,(function(){return n.co()&&(n.state=3),Promise.resolve()})),n.listener.Pr()}))})),this.stream.vr((function(e){r((function(){return n.Io(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"uo",value:function(){var e=this;this.state=5,this.ro.Hr(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Io",value:function(e){return Fo("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"yo",value:function(e){var t=this;return function(n){t.Sn.enqueueAndForget((function(){return t.no===e?n():(Fo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Oh=function(e){w(n,e);var t=_(n);function n(e,r,i,o,a,u){var s;return T(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,o,u)).O=a,s}return A(n,[{key:"Eo",value:function(e,t){return this.eo.Ur("Listen",e,t)}},{key:"onMessage",value:function(e){this.ro.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Uo()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.N?(zo(void 0===t||"string"==typeof t),ga.fromBase64String(t||"")):(zo(void 0===t||t instanceof Uint8Array),ga.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,u=a&&function(e){var t=void 0===e.code?Go.UNKNOWN:gs(e.code);return new Wo(t,e.message||"")}(a);n=new Fs(r,i,o,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Js(e,s.document.name),l=Qs(s.document.updateTime),f=new Ha({mapValue:{fields:s.document.fields}}),h=Qa.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Ms(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=Js(e,v.document),g=v.readTime?Qs(v.readTime):sa.min(),m=Qa.newNoDocument(y,g),b=v.removedTargetIds||[];n=new Ms([],b,m.key,m)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var k=Js(e,w.document),x=w.removedTargetIds||[];n=new Ms([],x,k,null)}else{if(!("filter"in t))return Uo();t.filter;var S=t.filter;S.targetId;var E=S.count||0,_=new vs(E),I=S.targetId;n=new Ls(I,_)}return n}(this.O,e),n=function(e){if(!("targetChange"in e))return sa.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?sa.min():t.readTime?Qs(t.readTime):sa.min()}(e);return this.listener.To(t,n)}},{key:"Ao",value:function(e){var t={};t.database=tc(this.O),t.addTarget=function(e,t){var n,r=t.target;return(n=ru(r)?{documents:sc(e,r)}:{query:cc(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Hs(e,t.resumeToken):t.snapshotVersion.compareTo(sa.min())>0&&(n.readTime=Ws(e,t.snapshotVersion.toTimestamp())),n}(this.O,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Uo()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.O,e);n&&(t.labels=n),this.fo(t)}},{key:"Ro",value:function(e){var t={};t.database=tc(this.O),t.removeTarget=e,this.fo(t)}}]),n}(Rh),Ph=function(e){w(n,e);var t=_(n);function n(e,r,i,o,a,u){var s;return T(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,o,u)).O=a,s.Po=!1,s}return A(n,[{key:"bo",get:function(){return this.Po}},{key:"start",value:function(){this.Po=!1,this.lastStreamToken=void 0,yt(k(n.prototype),"start",this).call(this)}},{key:"mo",value:function(){this.Po&&this.vo([])}},{key:"Eo",value:function(e,t){return this.eo.Ur("Write",e,t)}},{key:"onMessage",value:function(e){if(zo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();var t=function(e,t){return e&&e.length>0?(zo(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Qs(e.updateTime):Qs(t);return n.isEqual(sa.min())&&(n=Qs(t)),new Xu(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Qs(e.commitTime);return this.listener.Vo(n,t)}return zo(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}},{key:"Do",value:function(){var e={};e.database=tc(this.O),this.fo(e)}},{key:"vo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ac(t.O,e)}))};this.fo(n)}}]),n}(Rh),Nh=function(e){w(n,e);var t=_(n);function n(e,r,i,o){var a;return T(this,n),(a=t.call(this)).authCredentials=e,a.appCheckCredentials=r,a.eo=i,a.O=o,a.Co=!1,a}return A(n,[{key:"No",value:function(){if(this.Co)throw new Wo(Go.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Mr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=u(i,2),a=o[0],s=o[1];return r.eo.Mr(e,t,n,a,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Go.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Wo(Go.UNKNOWN,e.toString())}))}},{key:"Lr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=u(i,2),a=o[0],s=o[1];return r.eo.Lr(e,t,n,a,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Go.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Wo(Go.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Co=!0}}]),n}(function(){return A((function e(){T(this,e)}))}()),Dh=function(){function e(t,n){T(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}return A(e,[{key:"Mo",value:function(){var e=this;0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ko=null,e.Fo("Backend didn't respond within 10 seconds."),e.$o("Offline"),Promise.resolve()})))}},{key:"Bo",value:function(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.$o("Offline")))}},{key:"set",value:function(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}},{key:"$o",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Fo",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Oo?(Bo(t),this.Oo=!1):Fo("OnlineStateTracker",t)}},{key:"Lo",value:function(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}]),e}(),Mh=A((function e(t,n,r,i,o){var a=this;T(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=o,this.jo.mr((function(e){r.enqueueAndForget(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Hh(a),!e.t0){e.next=5;break}return Fo("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=qo(t)).Ko.add(4),e.next=4,Bh(n);case 4:return n.Qo.set("Unknown"),n.Ko.delete(4),e.next=8,Lh(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(a);case 5:case"end":return e.stop()}}),e)}))))})),this.Qo=new Dh(r,i)}));function Lh(e){return Fh.apply(this,arguments)}function Fh(){return Fh=ee(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Hh(t)){e.next=18;break}n=I(t.Go),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Fh.apply(this,arguments)}function Bh(e){return jh.apply(this,arguments)}function jh(){return jh=ee(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=I(t.Go),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),jh.apply(this,arguments)}function Vh(e,t){var n=qo(e);n.qo.has(t.targetId)||(n.qo.set(t.targetId,t),Wh(n)?Gh(n):kd(n).co()&&zh(n,t))}function Uh(e,t){var n=qo(e),r=kd(n);n.qo.delete(t),r.co()&&qh(n,t),0===n.qo.size&&(r.co()?r.ho():Hh(n)&&n.Qo.set("Unknown"))}function zh(e,t){e.Wo.Z(t.targetId),kd(e).Ao(t)}function qh(e,t){e.Wo.Z(t),kd(e).Ro(t)}function Gh(e){e.Wo=new js({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.qo.get(t)||null}}),kd(e).start(),e.Qo.Mo()}function Wh(e){return Hh(e)&&!kd(e).oo()&&e.qo.size>0}function Hh(e){return 0===qo(e).Ko.size}function Kh(e){e.Wo=void 0}function Qh(e){return $h.apply(this,arguments)}function $h(){return $h=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.qo.forEach((function(e,n){zh(t,e)}));case 1:case"end":return e.stop()}}),e)}))),$h.apply(this,arguments)}function Yh(e,t){return Xh.apply(this,arguments)}function Xh(){return Xh=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Kh(t),Wh(t)?(t.Qo.Bo(n),Gh(t)):t.Qo.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Xh.apply(this,arguments)}function Jh(e,t,n){return Zh.apply(this,arguments)}function Zh(){return Zh=ee(ne().mark((function e(t,n,r){var i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Qo.set("Online"),!(n instanceof Fs&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ee(ne().mark((function e(t,n){var r,i,o,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=I(n.targetIds),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=14;break}if(a=o.value,e.t0=t.qo.has(a),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(a,r);case 10:t.qo.delete(a),t.Wo.removeTarget(a);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Fo("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,ed(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ms?t.Wo.ct(n):n instanceof Ls?t.Wo._t(n):t.Wo.ht(n),r.isEqual(sa.min())){e.next=29;break}return e.prev=14,e.next=17,Bf(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Wo.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.qo.get(r);i&&e.qo.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.qo.get(t);if(n){e.qo.set(t,n.withResumeToken(ga.EMPTY_BYTE_STRING,n.snapshotVersion)),qh(e,t);var r=new ll(n.target,t,1,n.sequenceNumber);zh(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Fo("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,ed(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Zh.apply(this,arguments)}function ed(e,t,n){return td.apply(this,arguments)}function td(){return td=ee(ne().mark((function e(t,n,r){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(el(n)){e.next=2;break}throw n;case 2:return t.Ko.add(1),e.next=5,Bh(t);case 5:t.Qo.set("Offline"),r||(r=function(){return Bf(t.localStore)}),t.asyncQueue.enqueueRetryable(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fo("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Ko.delete(1),e.next=6,Lh(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(e,t){return t().catch((function(n){return ed(e,n,t)}))}function rd(e){return id.apply(this,arguments)}function id(){return id=ee(ne().mark((function e(t){var n,r,i,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qo(t),r=xd(n),i=n.Uo.length>0?n.Uo[n.Uo.length-1].batchId:-1;case 2:if(!od(n)){e.next=19;break}return e.prev=3,e.next=6,Uf(n.localStore,i);case 6:if(null!==(o=e.sent)){e.next=10;break}return 0===n.Uo.length&&r.ho(),e.abrupt("break",19);case 10:i=o.batchId,ad(n,o),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,ed(n,e.t0);case 17:e.next=2;break;case 19:ud(n)&&sd(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),id.apply(this,arguments)}function od(e){return Hh(e)&&e.Uo.length<10}function ad(e,t){e.Uo.push(t);var n=xd(e);n.co()&&n.bo&&n.vo(t.mutations)}function ud(e){return Hh(e)&&!xd(e).oo()&&e.Uo.length>0}function sd(e){xd(e).start()}function cd(e){return ld.apply(this,arguments)}function ld(){return ld=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xd(t).Do();case 1:case"end":return e.stop()}}),e)}))),ld.apply(this,arguments)}function fd(e){return hd.apply(this,arguments)}function hd(){return hd=ee(ne().mark((function e(t){var n,r,i,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xd(t),r=I(t.Uo);try{for(r.s();!(i=r.n()).done;)o=i.value,n.vo(o.mutations)}catch(a){r.e(a)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),hd.apply(this,arguments)}function dd(e,t,n){return pd.apply(this,arguments)}function pd(){return pd=ee(ne().mark((function e(t,n,r){var i,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Uo.shift(),o=sl.from(i,n,r),e.next=3,nd(t,(function(){return t.remoteSyncer.applySuccessfulWrite(o)}));case 3:return e.next=5,rd(t);case 5:case"end":return e.stop()}}),e)}))),pd.apply(this,arguments)}function vd(e,t){return yd.apply(this,arguments)}function yd(){return yd=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&xd(t).bo,!e.t0){e.next=4;break}return e.next=4,function(){var e=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ys(i=n.code)||i===Go.ABORTED){e.next=7;break}return r=t.Uo.shift(),xd(t).ao(),e.next=5,nd(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,rd(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ud(t)&&sd(t);case 5:case"end":return e.stop()}}),e)}))),yd.apply(this,arguments)}function gd(e,t){return md.apply(this,arguments)}function md(){return md=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=qo(t)).asyncQueue.verifyOperationInProgress(),Fo("RemoteStore","RemoteStore received new credentials"),i=Hh(r),r.Ko.add(3),e.next=6,Bh(r);case 6:return i&&r.Qo.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Ko.delete(3),e.next=12,Lh(r);case 12:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}function bd(e,t){return wd.apply(this,arguments)}function wd(){return wd=ee(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qo(t),!n){e.next=7;break}return r.Ko.delete(2),e.next=5,Lh(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Ko.add(2),e.next=12,Bh(r);case 12:r.Qo.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),wd.apply(this,arguments)}function kd(e){return e.zo||(e.zo=function(e,t,n){var r=qo(e);return r.No(),new Oh(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:Qh.bind(null,e),vr:Yh.bind(null,e),To:Jh.bind(null,e)}),e.Go.push(function(){var t=ee(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.zo.ao(),Wh(e)?Gh(e):e.Qo.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.zo.stop();case 6:Kh(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.zo}function xd(e){return e.Ho||(e.Ho=function(e,t,n){var r=qo(e);return r.No(),new Ph(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:cd.bind(null,e),vr:vd.bind(null,e),So:fd.bind(null,e),Vo:dd.bind(null,e)}),e.Go.push(function(){var t=ee(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Ho.ao(),t.next=4,rd(e);case 4:t.next=9;break;case 6:return t.next=8,e.Ho.stop();case 8:e.Uo.length>0&&(Fo("RemoteStore","Stopping write stream with ".concat(e.Uo.length," pending writes")),e.Uo=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Ho}var Sd=function(){function e(t,n,r,i,o){T(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ho,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return A(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wo(Go.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a}}]),e}();function Ed(e,t){if(Bo("AsyncQueue","".concat(t,": ").concat(e)),el(e))return new Wo(Go.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var _d=function(){function e(t){T(this,e),this.comparator=t?function(e,n){return t(e,n)||Ra.comparator(e.key,n.key)}:function(e,t){return Ra.comparator(e.key,t.key)},this.keyedMap=Ts(),this.sortedSet=new ms(this.comparator)}return A(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Id=function(){function e(){T(this,e),this.Jo=new ms(Ra.comparator)}return A(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Jo.get(t);n?0!==e.type&&3===n.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==n.type?this.Jo=this.Jo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jo=this.Jo.remove(t):1===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):Uo():this.Jo=this.Jo.insert(t,e)}},{key:"Yo",value:function(){var e=[];return this.Jo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Td=function(){function e(t,n,r,i,o,a,u,s){T(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=s}return A(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,_d.emptySet(n),o,r,i,!0,!1)}}]),e}(),Cd=A((function e(){T(this,e),this.Xo=void 0,this.listeners=[]})),Ad=A((function e(){T(this,e),this.queries=new vf((function(e){return Ru(e)}),Au),this.onlineState="Unknown",this.Zo=new Set}));function Rd(e,t){return Od.apply(this,arguments)}function Od(){return Od=ee(ne().mark((function e(t,n){var r,i,o,a,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qo(t),i=n.query,o=!1,(a=r.queries.get(i))||(o=!0,a=new Cd),!o){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:a.Xo=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Ed(e.t0,"Initialization of query '".concat(Ou(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,a),a.listeners.push(n),n.tc(r.onlineState),a.Xo&&n.ec(a.Xo)&&Ld(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Od.apply(this,arguments)}function Pd(e,t){return Nd.apply(this,arguments)}function Nd(){return Nd=ee(ne().mark((function e(t,n){var r,i,o,a,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qo(t),i=n.query,o=!1,(a=r.queries.get(i))&&(u=a.listeners.indexOf(n))>=0&&(a.listeners.splice(u,1),o=0===a.listeners.length),!o){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Nd.apply(this,arguments)}function Dd(e,t){var n,r=qo(e),i=!1,o=I(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,u=a.query,s=r.queries.get(u);if(s){var c,l=I(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.ec(a)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Xo=a}}}catch(f){o.e(f)}finally{o.f()}i&&Ld(r)}function Md(e,t,n){var r=qo(e),i=r.queries.get(t);if(i){var o,a=I(i.listeners);try{for(a.s();!(o=a.n()).done;){o.value.onError(n)}}catch(u){a.e(u)}finally{a.f()}}r.queries.delete(t)}function Ld(e){e.Zo.forEach((function(e){e.next()}))}var Fd=function(){function e(t,n,r){T(this,e),this.query=t,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}return A(e,[{key:"ec",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=I(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}e=new Td(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.sc?this.rc(e)&&(this.nc.next(e),o=!0):this.oc(e,this.onlineState)&&(this.cc(e),o=!0),this.ic=e,o}},{key:"onError",value:function(e){this.nc.error(e)}},{key:"tc",value:function(e){this.onlineState=e;var t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}},{key:"oc",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.uc||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"rc",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"cc",value:function(e){e=Td.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}]),e}(),Bd=function(){function e(t,n){T(this,e),this.payload=t,this.byteLength=n}return A(e,[{key:"ac",value:function(){return"metadata"in this.payload}}]),e}(),jd=function(){function e(t){T(this,e),this.O=t}return A(e,[{key:"Gs",value:function(e){return Js(this.O,e)}},{key:"js",value:function(e){return e.metadata.exists?ic(this.O,e.document,!1):Qa.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}},{key:"Qs",value:function(e){return Qs(e)}}]),e}(),Vd=function(){function e(t,n,r){T(this,e),this.hc=t,this.localStore=n,this.O=r,this.queries=[],this.documents=[],this.progress=Ud(t)}return A(e,[{key:"lc",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"fc",value:function(e){var t,n=new Map,r=new jd(this.O),i=I(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.metadata.queries){var a,u=r.Gs(o.metadata.name),s=I(o.metadata.queries);try{for(s.s();!(a=s.n()).done;){var c=a.value,l=(n.get(c)||Rs()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ee(ne().mark((function e(){var t,n,r,i,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yf(this.localStore,new jd(this.O),this.documents,this.hc.id);case 2:t=e.sent,n=this.fc(this.documents),r=I(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return o=i.value,e.next=11,Jf(this.localStore,o,n.get(o.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Af(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ud(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var zd=A((function e(t){T(this,e),this.key=t})),qd=A((function e(t){T(this,e),this.key=t})),Gd=function(){function e(t,n){T(this,e),this.query=t,this.dc=n,this._c=null,this.current=!1,this.wc=Rs(),this.mutatedKeys=Rs(),this.mc=Nu(t),this.gc=new _d(this.mc)}return A(e,[{key:"yc",get:function(){return this.dc}},{key:"Ic",value:function(e,t){var n=this,r=t?t.Ec:new Id,i=t?t.gc:this.gc,o=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1,s=ku(this.query)&&i.size===this.query.limit?i.last():null,c=xu(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Pu(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Tc(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.mc(f,s)>0||c&&n.mc(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),ku(this.query)||xu(this.query))for(;a.size>this.query.limit;){var l=ku(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{gc:a,Ec:r,ks:u,mutatedKeys:o}}},{key:"Tc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;var o=e.Ec.Yo();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Uo()}};return n(e)-n(t)}(e.type,t.type)||r.mc(e.doc,t.doc)})),this.Ac(n);var a=t?this.Rc():[],u=0===this.wc.size&&this.current?1:0,s=u!==this._c;return this._c=u,0!==o.length||s?{snapshot:new Td(this.query,e.gc,i,o,e.mutatedKeys,0===u,s,!1),Pc:a}:{Pc:a}}},{key:"tc",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new Id,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}},{key:"bc",value:function(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}},{key:"Ac",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.dc=t.dc.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.dc=t.dc.delete(e)})),this.current=e.current)}},{key:"Rc",value:function(){var e=this;if(!this.current)return[];var t=this.wc;this.wc=Rs(),this.gc.forEach((function(t){e.bc(t.key)&&(e.wc=e.wc.add(t.key))}));var n=[];return t.forEach((function(t){e.wc.has(t)||n.push(new qd(t))})),this.wc.forEach((function(e){t.has(e)||n.push(new zd(e))})),n}},{key:"vc",value:function(e){this.dc=e.Ks,this.wc=Rs();var t=this.Ic(e.documents);return this.applyChanges(t,!0)}},{key:"Vc",value:function(){return Td.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}]),e}(),Wd=A((function e(t,n,r){T(this,e),this.query=t,this.targetId=n,this.view=r})),Hd=A((function e(t){T(this,e),this.key=t,this.Sc=!1})),Kd=function(){function e(t,n,r,i,o,a){T(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Dc={},this.Cc=new vf((function(e){return Ru(e)}),Au),this.Nc=new Map,this.xc=new Set,this.kc=new ms(Ra.comparator),this.Oc=new Map,this.Mc=new nh,this.$c={},this.Fc=new Map,this.Bc=tf.Je(),this.onlineState="Unknown",this.Lc=void 0}return A(e,[{key:"isPrimaryClient",get:function(){return!0===this.Lc}}]),e}();function Qd(e,t){return $d.apply(this,arguments)}function $d(){return $d=ee(ne().mark((function e(t,n){var r,i,o,a,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Up(t),!(a=r.Cc.get(n))){e.next=6;break}i=a.targetId,r.sharedClientState.addLocalQueryTarget(i),o=a.view.Vc(),e.next=15;break;case 6:return e.next=8,zf(r.localStore,Tu(n));case 8:return u=e.sent,r.isPrimaryClient&&Vh(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Yd(r,n,i,"current"===s);case 14:o=e.sent;case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)}))),$d.apply(this,arguments)}function Yd(e,t,n,r){return Xd.apply(this,arguments)}function Xd(){return Xd=ee(ne().mark((function e(t,n,r,i){var o,a,u,s,c,l;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Uc=function(e,n,r){return function(){var e=ee(ne().mark((function e(t,n,r,i){var o,a,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.view.Ic(r),e.t0=o.ks,!e.t0){e.next=6;break}return e.next=5,Wf(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ic(t,o)}));case 5:o=e.sent;case 6:return a=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(o,t.isPrimaryClient,a),e.abrupt("return",(gp(t,n.targetId,u.Pc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Wf(t.localStore,n,!0);case 3:return o=e.sent,a=new Gd(n,o.Ks),u=a.Ic(o.documents),s=Ds.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=a.applyChanges(u,t.isPrimaryClient,s),gp(t,r,c.Pc),l=new Wd(n,r,a),e.abrupt("return",(t.Cc.set(n,l),t.Nc.has(r)?t.Nc.get(r).push(n):t.Nc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Xd.apply(this,arguments)}function Jd(e,t){return Zd.apply(this,arguments)}function Zd(){return Zd=ee(ne().mark((function e(t,n){var r,i,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qo(t),i=r.Cc.get(n),!((o=r.Nc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Nc.set(i.targetId,o.filter((function(e){return!Au(e,n)}))),void r.Cc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,qf(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Uh(r.remoteStore,i.targetId),vp(r,i.targetId)})).catch(uf);case 9:e.next=14;break;case 11:return vp(r,i.targetId),e.next=14,qf(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Zd.apply(this,arguments)}function ep(e,t,n){return tp.apply(this,arguments)}function tp(){return tp=ee(ne().mark((function e(t,n,r){var i,o,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zp(t),e.prev=1,e.next=4,function(e,t){var n,r=qo(e),i=ua.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Rs());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Us.Es(e,o).next((function(o){n=o;var a,u=[],s=I(t);try{for(s.s();!(a=s.n()).done;){var c=a.value,l=rs(c,n.get(c.key));null!=l&&u.push(new us(c.key,l,Ka(l.value.mapValue),Ju.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.gs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return o=e.sent,i.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.$c[e.currentUser.toKey()];r||(r=new ms(ia)),r=r.insert(t,n),e.$c[e.currentUser.toKey()]=r}(i,o.batchId,r),e.next=9,wp(i,o.changes);case 9:return e.next=11,rd(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),a=Ed(e.t0,"Failed to persist write"),r.reject(a);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),tp.apply(this,arguments)}function np(e,t){return rp.apply(this,arguments)}function rp(){return rp=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qo(t),e.prev=1,e.next=4,jf(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Oc.get(t);n&&(zo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Sc=!0:e.modifiedDocuments.size>0?zo(n.Sc):e.removedDocuments.size>0&&(zo(n.Sc),n.Sc=!1))})),e.next=8,wp(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,uf(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),rp.apply(this,arguments)}function ip(e,t,n){var r=qo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Cc.forEach((function(e,n){var r=n.view.tc(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=qo(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,o=I(n.listeners);try{for(o.s();!(i=o.n()).done;){i.value.tc(t)&&(r=!0)}}catch(a){o.e(a)}finally{o.f()}})),r&&Ld(n)}(r.eventManager,t),i.length&&r.Dc.To(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function op(e,t,n){return ap.apply(this,arguments)}function ap(){return ap=ee(ne().mark((function e(t,n,r){var i,o,a,u,s,c;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=qo(t)).sharedClientState.updateQueryState(n,"rejected",r),o=i.Oc.get(n),!(a=o&&o.key)){e.next=14;break}return u=(u=new ms(Ra.comparator)).insert(a,Qa.newNoDocument(a,sa.min())),s=Rs().add(a),c=new Ns(sa.min(),new Map,new ks(ia),u,s),e.next=9,np(i,c);case 9:i.kc=i.kc.remove(a),i.Oc.delete(n),bp(i),e.next=16;break;case 14:return e.next=16,qf(i.localStore,n,!1).then((function(){return vp(i,n,r)})).catch(uf);case 16:case"end":return e.stop()}}),e)}))),ap.apply(this,arguments)}function up(e,t){return sp.apply(this,arguments)}function sp(){return sp=ee(ne().mark((function e(t,n){var r,i,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qo(t),i=n.batch.batchId,e.prev=1,e.next=4,Ff(r.localStore,n);case 4:return o=e.sent,pp(r,i,null),dp(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,wp(r,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,uf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),sp.apply(this,arguments)}function cp(e,t,n){return lp.apply(this,arguments)}function lp(){return lp=ee(ne().mark((function e(t,n,r){var i,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qo(t),e.prev=1,e.next=4,function(e,t){var n=qo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.gs.lookupMutationBatch(e,t).next((function(t){return zo(null!==t),r=t.keys(),n.gs.removeMutationBatch(e,t)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}(i.localStore,n);case 4:return o=e.sent,pp(i,n,r),dp(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,wp(i,o);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,uf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),lp.apply(this,arguments)}function fp(e,t){return hp.apply(this,arguments)}function hp(){return hp=ee(ne().mark((function e(t,n){var r,i,o,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hh((r=qo(t)).remoteStore)||Fo("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=qo(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.gs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(o=r.Fc.get(i)||[]).push(n),r.Fc.set(i,o),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),a=Ed(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(a);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),hp.apply(this,arguments)}function dp(e,t){(e.Fc.get(t)||[]).forEach((function(e){e.resolve()})),e.Fc.delete(t)}function pp(e,t,n){var r=qo(e),i=r.$c[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.$c[r.currentUser.toKey()]=i}}function vp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=I(e.Nc.get(t));try{for(i.s();!(r=i.n()).done;){var o=r.value;e.Cc.delete(o),n&&e.Dc.qc(o,n)}}catch(a){i.e(a)}finally{i.f()}e.Nc.delete(t),e.isPrimaryClient&&e.Mc.si(t).forEach((function(t){e.Mc.containsKey(t)||yp(e,t)}))}function yp(e,t){e.xc.delete(t.path.canonicalString());var n=e.kc.get(t);null!==n&&(Uh(e.remoteStore,n),e.kc=e.kc.remove(t),e.Oc.delete(n),bp(e))}function gp(e,t,n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;o instanceof zd?(e.Mc.addReference(o.key,t),mp(e,o)):o instanceof qd?(Fo("SyncEngine","Document no longer in limbo: "+o.key),e.Mc.removeReference(o.key,t),e.Mc.containsKey(o.key)||yp(e,o.key)):Uo()}}catch(a){i.e(a)}finally{i.f()}}function mp(e,t){var n=t.key,r=n.path.canonicalString();e.kc.get(n)||e.xc.has(r)||(Fo("SyncEngine","New document in limbo: "+n),e.xc.add(r),bp(e))}function bp(e){for(;e.xc.size>0&&e.kc.size<e.maxConcurrentLimboResolutions;){var t=e.xc.values().next().value;e.xc.delete(t);var n=new Ra(da.fromString(t)),r=e.Bc.next();e.Oc.set(r,new Hd(n)),e.kc=e.kc.insert(n,r),Vh(e.remoteStore,new ll(Tu(wu(n.path)),r,2,ta.A))}}function wp(e,t,n){return kp.apply(this,arguments)}function kp(){return kp=ee(ne().mark((function e(t,n,r){var i,o,a,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=qo(t),o=[],a=[],u=[],e.t0=i.Cc.isEmpty(),e.t0){e.next=9;break}return i.Cc.forEach((function(e,t){u.push(i.Uc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),o.push(e);var n=Of.Ss(t.targetId,e);a.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Dc.To(o),e.next=9,function(){var e=ee(ne().mark((function e(t,n){var r,i,o,a,u,s,c,l;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qo(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return $c.forEach(n,(function(t){return $c.forEach(t.vs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return $c.forEach(t.Vs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),el(e.t0)){e.next=10;break}throw e.t0;case 10:Fo("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=I(n);try{for(i.s();!(o=i.n()).done;)a=o.value,u=a.targetId,a.fromCache||(s=r.Ms.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ms=r.Ms.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,a);case 9:case"end":return e.stop()}}),e)}))),kp.apply(this,arguments)}function xp(e,t){return Sp.apply(this,arguments)}function Sp(){return Sp=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=qo(t)).currentUser.isEqual(n)){e.next=11;break}return Fo("SyncEngine","User change. New user:",n.toKey()),e.next=5,Mf(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Fc.forEach((function(e){e.forEach((function(e){e.reject(new Wo(Go.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,wp(r,i.qs);case 11:case"end":return e.stop()}}),e)}))),Sp.apply(this,arguments)}function Ep(e,t){var n=qo(e),r=n.Oc.get(t);if(r&&r.Sc)return Rs().add(r.key);var i=Rs(),o=n.Nc.get(t);if(!o)return i;var a,u=I(o);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=n.Cc.get(s);i=i.unionWith(c.view.yc)}}catch(l){u.e(l)}finally{u.f()}return i}function _p(e,t){return Ip.apply(this,arguments)}function Ip(){return Ip=ee(ne().mark((function e(t,n){var r,i,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qo(t),e.next=3,Wf(r.localStore,n.query,!0);case 3:return i=e.sent,o=n.view.vc(i),e.abrupt("return",(r.isPrimaryClient&&gp(r,n.targetId,o.Pc),o));case 6:case"end":return e.stop()}}),e)}))),Ip.apply(this,arguments)}function Tp(e){return Cp.apply(this,arguments)}function Cp(){return Cp=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qo(t),e.abrupt("return",Kf(n.localStore).then((function(e){return wp(n,e)})));case 2:case"end":return e.stop()}}),e)}))),Cp.apply(this,arguments)}function Ap(e,t,n,r){return Rp.apply(this,arguments)}function Rp(){return Rp=ee(ne().mark((function e(t,n,r,i){var o,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=qo(t),e.next=3,function(e,t){var n=qo(e),r=qo(n.gs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Ge(e,t).next((function(t){return t?n.Us.Es(e,t):$c.resolve(null)}))}))}(o.localStore,n);case 3:if(null===(a=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,rd(o.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(pp(o,n,i||null),dp(o,n),function(e,t){qo(qo(e).gs).Qe(t)}(o.localStore,n)):Uo();case 11:return e.next=13,wp(o,a);case 13:e.next=16;break;case 15:Fo("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Rp.apply(this,arguments)}function Op(e,t){return Pp.apply(this,arguments)}function Pp(){return Pp=ee(ne().mark((function e(t,n){var r,i,o,a,u,s,c,l;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Up(r=qo(t)),zp(r),!0!==n||!0===r.Lc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Np(r,i.toArray());case 5:return o=e.sent,r.Lc=!0,e.next=9,bd(r.remoteStore,!0);case 9:a=I(o);try{for(a.s();!(u=a.n()).done;)s=u.value,Vh(r.remoteStore,s)}catch(f){a.e(f)}finally{a.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Lc){e.next=25;break}return c=[],l=Promise.resolve(),r.Nc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return vp(r,t),qf(r.localStore,t,!0)})),Uh(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Np(r,c);case 21:return function(e){var t=qo(e);t.Oc.forEach((function(e,n){Uh(t.remoteStore,n)})),t.Mc.ii(),t.Oc=new Map,t.kc=new ms(Ra.comparator)}(r),r.Lc=!1,e.next=25,bd(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Pp.apply(this,arguments)}function Np(e,t,n){return Dp.apply(this,arguments)}function Dp(){return Dp=ee(ne().mark((function e(t,n,r){var i,o,a,u,s,c,l,f,h,d,p,v,y,g;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=qo(t),o=[],a=[],u=I(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Nc.get(c))||0===f.length){e.next=34;break}return e.next=11,zf(i.localStore,Tu(f[0]));case 11:l=e.sent,h=I(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Cc.get(p),e.next=20,_p(i,v);case 20:(y=e.sent).snapshot&&a.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Hf(i.localStore,c);case 36:return g=e.sent,e.next=39,zf(i.localStore,g);case 39:return l=e.sent,e.next=42,Yd(i,Mp(g),c,!1);case 42:o.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Dc.To(a),o));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Dp.apply(this,arguments)}function Mp(e){return bu(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Lp(e){var t=qo(e);return qo(qo(t.localStore).persistence).ds()}function Fp(e,t,n,r){return Bp.apply(this,arguments)}function Bp(){return Bp=ee(ne().mark((function e(t,n,r,i){var o,a,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=qo(t)).Lc){e.next=5;break}Fo("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!o.Nc.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Kf(o.localStore);case 11:return a=e.sent,u=Ns.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,wp(o,a,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,qf(o.localStore,n,!0);case 18:return vp(o,n,i),e.abrupt("break",21);case 20:Uo();case 21:case"end":return e.stop()}}),e)}))),Bp.apply(this,arguments)}function jp(e,t,n){return Vp.apply(this,arguments)}function Vp(){return Vp=ee(ne().mark((function e(t,n,r){var i,o,a,u,s,c,l,f,h;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Up(t)).Lc){e.next=45;break}o=I(n),e.prev=3,o.s();case 5:if((a=o.n()).done){e.next=21;break}if(u=a.value,!i.Nc.has(u)){e.next=10;break}return Fo("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Hf(i.localStore,u);case 12:return s=e.sent,e.next=15,zf(i.localStore,s);case 15:return c=e.sent,e.next=18,Yd(i,Mp(s),c.targetId,!1);case 18:Vh(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),o.e(e.t0);case 26:return e.prev=26,o.f(),e.finish(26);case 29:l=I(r),e.prev=30,h=ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Nc.has(t),!e.t0){e.next=5;break}return e.next=5,qf(i.localStore,t,!1).then((function(){Uh(i.remoteStore,t),vp(i,t)})).catch(uf);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Vp.apply(this,arguments)}function Up(e){var t=qo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=np.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ep.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=op.bind(null,t),t.Dc.To=Dd.bind(null,t.eventManager),t.Dc.qc=Md.bind(null,t.eventManager),t}function zp(e){var t=qo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=up.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cp.bind(null,t),t}function qp(e,t,n){var r=qo(e);(function(){var e=ee(ne().mark((function e(t,n,r){var i,o,a,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=qo(e),r=Qs(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kn.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(Ud(i)),o=new Vd(i,t.localStore,n.O),e.next=14,n.Kc();case 14:a=e.sent;case 15:if(!a){e.next=25;break}return e.next=18,o.lc(a);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Kc();case 22:a=e.sent;case 23:e.next=15;break;case 25:return e.next=27,o.complete();case 27:return s=e.sent,e.next=30,wp(t,s.ws,void 0);case 30:return e.next=32,function(e,t){var n=qo(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kn.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),jo("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Gp=function(){function e(){T(this,e),this.synchronizeTabs=!1}return A(e,[{key:"initialize",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.O=Ch(t.databaseInfo.databaseId),this.sharedClientState=this.Gc(t),this.persistence=this.jc(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Qc(t),this.localStore=this.Wc(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){return null}},{key:"Wc",value:function(e){return Df(this.persistence,new Pf,e.initialUser,this.O)}},{key:"jc",value:function(e){return new sh(lh.bi,this.O)}},{key:"Gc",value:function(e){return new wh}},{key:"terminate",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Wp=function(e){w(n,e);var t=_(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this)).zc=e,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return A(n,[{key:"initialize",value:function(){var e=ee(ne().mark((function e(t){var r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt(k(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,Qf(this.localStore);case 4:return e.next=6,this.zc.initialize(this,t);case 6:return e.next=8,zp(this.zc.syncEngine);case 8:return e.next=10,rd(this.zc.remoteStore);case 10:return e.next=12,this.persistence.Hn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Wc",value:function(e){return Df(this.persistence,new Pf,e.initialUser,this.O)}},{key:"Qc",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new ff(t,e.asyncQueue)}},{key:"jc",value:function(e){var t=Cf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Kl.withCacheSize(this.cacheSizeBytes):Kl.DEFAULT;return new _f(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ih(),Th(),this.O,this.sharedClientState,!!this.forceOwnership)}},{key:"Gc",value:function(e){return new wh}}]),n}(Gp),Hp=function(e){w(n,e);var t=_(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e,r,!1)).zc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return A(n,[{key:"initialize",value:function(){var e=ee(ne().mark((function e(t){var r,i=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt(k(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.zc.syncEngine,e.t0=this.sharedClientState instanceof bh,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={hr:Ap.bind(null,r),lr:Fp.bind(null,r),dr:jp.bind(null,r),ds:Lp.bind(null,r),ar:Tp.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Hn(function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Op(i.zc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Gc",value:function(e){var t=Ih();if(!bh.Vt(t))throw new Wo(Go.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Cf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bh(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Wp),Kp=function(){function e(){T(this,e)}return A(e,[{key:"initialize",value:function(){var e=ee(ne().mark((function e(t,n){var r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ip(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=xp.bind(null,this.syncEngine),e.next=12,bd(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Ad}},{key:"createDatastore",value:function(e){var t,n=Ch(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new _h(t));return function(e,t,n,r){return new Nh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return ip(a.syncEngine,e,0)},o=xh.Vt()?new xh:new kh,new Mh(t,n,r,i,o)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,o,a){var u=new Kd(e,t,n,r,i,o);return a&&(u.Lc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qo(t),Fo("RemoteStore","RemoteStore shutting down."),n.Ko.add(5),e.next=5,Bh(n);case 5:n.jo.shutdown(),n.Qo.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Qp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ee(ne().mark((function r(){var i;return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var $p=function(){function e(t){T(this,e),this.observer=t,this.muted=!1}return A(e,[{key:"next",value:function(e){this.observer.next&&this.Hc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Jc",value:function(){this.muted=!0}},{key:"Hc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Yp=function(){function e(t,n){var r=this;T(this,e),this.Yc=t,this.O=n,this.metadata=new Ho,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then((function(e){e&&e.ac()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return A(e,[{key:"close",value:function(){return this.Yc.cancel()}},{key:"getMetadata",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Zc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(){var e=ee(ne().mark((function e(){var t,n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tu();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Xc.decode(t),r=Number(n),isNaN(r)&&this.eu("length string (".concat(n,") is not valid number")),e.next=9,this.nu(r);case 9:return i=e.sent,e.abrupt("return",new Bd(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"su",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"tu",value:function(){var e=ee(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.su()<0)){e.next=7;break}return e.next=3,this.iu();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.su())<0&&this.eu("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nu",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.iu();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.eu("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"eu",value:function(e){throw this.Yc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"iu",value:function(){var e=ee(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Yc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Xp=function(){function e(t){T(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return A(e,[{key:"lookup",value:function(){var e=ee(ne().mark((function e(t){var n,r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Wo(Go.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ee(ne().mark((function e(t,n){var r,i,o,a,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qo(t),i=tc(r.O)+"/documents",o={documents:n.map((function(e){return Xs(r.O,e)}))},e.next=5,r.Lr("BatchGetDocuments",i,o);case 5:return a=e.sent,u=new Map,a.forEach((function(e){var t=oc(r.O,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());zo(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new ds(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ee(ne().mark((function e(){var t,n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Ra.fromPath(t);n.mutations.push(new ps(r,n.precondition(r)))})),e.next=7,function(){var e=ee(ne().mark((function e(t,n){var r,i,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qo(t),i=tc(r.O)+"/documents",o={writes:n.map((function(e){return ac(r.O,e)}))},e.next=3,r.Mr("Commit",i,o);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Uo();t=sa.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Wo(Go.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ju.updateTime(t):Ju.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(sa.min()))throw new Wo(Go.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ju.updateTime(t)}return Ju.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Jp=function(){function e(t,n,r,i){T(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ru=5,this.ro=new Ah(this.asyncQueue,"transaction_retry")}return A(e,[{key:"run",value:function(){this.ru-=1,this.ou()}},{key:"ou",value:function(){var e=this;this.ro.Hr(ee(ne().mark((function t(){var n,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Xp(e.datastore),(r=e.cu(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.uu(t)}))}))})).catch((function(t){e.uu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"cu",value:function(e){try{var t=this.updateFunction(e);return!Ta(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"uu",value:function(e){var t=this;this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget((function(){return t.ou(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"au",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!ys(t)}return!1}}]),e}(),Zp=function(){function e(t,n,r,i){var o=this;T(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=No.UNAUTHENTICATED,this.clientId=ra.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fo("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Fo("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return A(e,[{key:"getConfiguration",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Wo(Go.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ho;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ee(ne().mark((function n(){var r;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Ed(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function ev(e,t){return tv.apply(this,arguments)}function tv(){return tv=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Fo("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Mf(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),tv.apply(this,arguments)}function nv(e,t){return rv.apply(this,arguments)}function rv(){return rv=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,iv(t);case 3:return r=e.sent,Fo("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return gd(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return gd(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),rv.apply(this,arguments)}function iv(e){return ov.apply(this,arguments)}function ov(){return ov=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Fo("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,ev(t,new Gp);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),ov.apply(this,arguments)}function av(e){return uv.apply(this,arguments)}function uv(){return uv=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Fo("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,nv(t,new Kp);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),uv.apply(this,arguments)}function sv(e){return iv(e).then((function(e){return e.persistence}))}function cv(e){return iv(e).then((function(e){return e.localStore}))}function lv(e){return av(e).then((function(e){return e.remoteStore}))}function fv(e){return av(e).then((function(e){return e.syncEngine}))}function hv(e){return dv.apply(this,arguments)}function dv(){return dv=ee(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,av(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Qd.bind(null,n.syncEngine),r.onUnlisten=Jd.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),dv.apply(this,arguments)}function pv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ho;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function i(){return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var o=new $p({next:function(o){t.enqueueAndForget((function(){return Pd(e,a)}));var u=o.docs.has(n);!u&&o.fromCache?i.reject(new Wo(Go.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new Wo(Go.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Fd(wu(n.path),o,{includeMetadataChanges:!0,uc:!0});return Rd(e,a)},i.next=3,hv(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function vv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ho;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function i(){return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var o=new $p({next:function(n){t.enqueueAndForget((function(){return Pd(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Wo(Go.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Fd(n,o,{includeMetadataChanges:!0,uc:!0});return Rd(e,a)},i.next=3,hv(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var yv=new Map;function gv(e,t,n){if(!n)throw new Wo(Go.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function mv(e,t,n,r){if(!0===t&&!0===r)throw new Wo(Go.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function bv(e){if(!Ra.isDocumentKey(e))throw new Wo(Go.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function wv(e){if(Ra.isDocumentKey(e))throw new Wo(Go.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function kv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Uo()}function xv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Wo(Go.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=kv(e);throw new Wo(Go.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Sv(e,t){if(t<=0)throw new Wo(Go.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Ev=function(){function e(t){var n;if(T(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Wo(Go.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Wo(Go.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,mv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return A(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),_v=function(){function e(t,n,r){T(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ev({}),this._settingsFrozen=!1,t instanceof Ia?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Wo(Go.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(e.options.projectId)}(t))}return A(e,[{key:"app",get:function(){if(!this._app)throw new Wo(Go.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Wo(Go.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ev(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Qo;switch(e.type){case"gapi":var t=e.client;return zo(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Jo(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Wo(Go.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=yv.get(e);t&&(Fo("ComponentProvider","Removing Datastore"),yv.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Iv(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(e=xv(e,_v))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&jo("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var a,u;if("string"==typeof i.mockUserToken)a=i.mockUserToken,u=No.MOCK_USER;else{a=F(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Wo(Go.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new No(s)}e._authCredentials=new $o(new Ko(a,u))}}var Tv=function(){function e(t,n,r){T(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return A(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Av(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Cv=function(){function e(t,n,r){T(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return A(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Av=function(e){w(n,e);var t=_(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this,e,r,wu(i)))._path=i,o.type="collection",o}return A(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Tv(this.firestore,null,new Ra(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Cv);function Rv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=X(e),gv("collection","path",t),e instanceof _v){var o=da.fromString.apply(da,[t].concat(r));return wv(o),new Av(e,null,o)}if(!(e instanceof Tv||e instanceof Av))throw new Wo(Go.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(da.fromString.apply(da,[t].concat(r)));return wv(a),new Av(e.firestore,null,a)}function Ov(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=X(e),1===arguments.length&&(t=ra.R()),gv("doc","path",t),e instanceof _v){var o=da.fromString.apply(da,[t].concat(r));return bv(o),new Tv(e,null,new Ra(o))}if(!(e instanceof Tv||e instanceof Av))throw new Wo(Go.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(da.fromString.apply(da,[t].concat(r)));return bv(a),new Tv(e.firestore,e instanceof Av?e.converter:null,new Ra(a))}function Pv(e,t){return e=X(e),t=X(t),(e instanceof Tv||e instanceof Av)&&(t instanceof Tv||t instanceof Av)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Nv(e,t){return e=X(e),t=X(t),e instanceof Cv&&t instanceof Cv&&e.firestore===t.firestore&&Au(e._query,t._query)&&e.converter===t.converter}var Dv=function(){function e(){var t=this;T(this,e),this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new Ah(this,"async_queue_retry"),this.yu=function(){var e=Th();e&&Fo("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ro.Yr()};var n=Th();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.yu)}return A(e,[{key:"isShuttingDown",get:function(){return this.fu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.pu(),this.Iu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.fu){this.fu=!0,this.mu=e||!1;var t=Th();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}},{key:"enqueue",value:function(e){var t=this;if(this.pu(),this.fu)return new Promise((function(){}));var n=new Ho;return this.Iu((function(){return t.fu&&t.mu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.lu.push(e),t.Eu()}))}},{key:"Eu",value:function(){var e=ee(ne().mark((function e(){var t=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.lu.length){e.next=14;break}return e.prev=1,e.next=4,this.lu[0]();case 4:this.lu.shift(),this.ro.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),el(e.t0)){e.next=12;break}throw e.t0;case 12:Fo("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.lu.length>0&&this.ro.Hr((function(){return t.Eu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Iu",value:function(e){var t=this,n=this.hu.then((function(){return t.wu=!0,e().catch((function(e){t._u=e,t.wu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Bo("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.wu=!1,e}))}));return this.hu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.pu(),this.gu.indexOf(e)>-1&&(t=0);var i=Sd.createAndSchedule(this,e,t,n,(function(e){return r.Tu(e)}));return this.du.push(i),i}},{key:"pu",value:function(){this._u&&Uo()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Au",value:function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.hu,e.next=3,t;case 3:if(t!==this.hu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ru",value:function(e){var t,n=I(this.du);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.Au().then((function(){t.du.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=I(t.du);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(o){r.e(o)}finally{r.f()}return t.Au()}))}},{key:"bu",value:function(e){this.gu.push(e)}},{key:"Tu",value:function(e){var t=this.du.indexOf(e);this.du.splice(t,1)}}]),e}();function Mv(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=I(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o in r&&"function"==typeof r[o])return!0}}catch(a){i.e(a)}finally{i.f()}return!1}(e)}var Lv=function(){function e(){T(this,e),this._progressObserver={},this._taskCompletionResolver=new Ho,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return A(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Fv=function(e){w(n,e);var t=_(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this,e,r,i)).type="firestore",o._queue=new Dv,o._persistenceKey="name"in e?e.name:"[DEFAULT]",o}return A(n,[{key:"_terminate",value:function(){return this._firestoreClient||jv(this),this._firestoreClient.terminate()}}]),n}(_v);function Bv(e){return e._firestoreClient||jv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function jv(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new _a(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Zp(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Vv(e,t,n){var r=new Ho;return e.asyncQueue.enqueue(ee(ne().mark((function i(){return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,ev(e,n);case 3:return i.next=5,nv(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Go.FAILED_PRECONDITION||e.code===Go.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Uv(e){return function(e){return e.asyncQueue.enqueue(ee(ne().mark((function t(){var n,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sv(e);case 2:return n=t.sent,t.next=5,lv(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=qo(e);return t.Ko.delete(0),Lh(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Bv(e=xv(e,Fv)))}function zv(e){return function(e){return e.asyncQueue.enqueue(ee(ne().mark((function t(){var n,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sv(e);case 2:return n=t.sent,t.next=5,lv(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=qo(t)).Ko.add(0),e.next=4,Bh(n);case 4:n.Qo.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Bv(e=xv(e,Fv)))}function qv(e,t){var n=Bv(e=xv(e,Fv)),r=new Lv;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Yp(e,t)}(function(e,t){if(e instanceof Uint8Array)return Qp(e,t);if(e instanceof ArrayBuffer)return Qp(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Ch(t));e.asyncQueue.enqueueAndForget(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=qp,t.next=3,fv(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Gv(e,t){return function(e,t){return e.asyncQueue.enqueue(ee(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=qo(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kn.getNamedQuery(e,t)}))},n.next=3,cv(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Bv(e=xv(e,Fv)),t).then((function(t){return t?new Cv(e,null,t.query):null}))}function Wv(e){if(e._initialized||e._terminated)throw new Wo(Go.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Hv=function(){function e(){T(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Wo(Go.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new va(n)}return A(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Kv=function(){function e(t){T(this,e),this._byteString=t}return A(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ga.fromBase64String(t))}catch(t){throw new Wo(Go.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ga.fromUint8Array(t))}}]),e}(),Qv=A((function e(t){T(this,e),this._methodName=t})),$v=function(){function e(t,n){if(T(this,e),!isFinite(t)||t<-90||t>90)throw new Wo(Go.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Wo(Go.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return A(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ia(this._lat,e._lat)||ia(this._long,e._long)}}]),e}(),Yv=/^__.*__$/,Xv=function(){function e(t,n,r){T(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return A(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new us(e,this.data,this.fieldMask,t,this.fieldTransforms):new as(e,this.data,t,this.fieldTransforms)}}]),e}(),Jv=function(){function e(t,n,r){T(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return A(e,[{key:"toMutation",value:function(e,t){return new us(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Zv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Uo()}}var ey=function(){function e(t,n,r,i,o,a){T(this,e),this.settings=t,this.databaseId=n,this.O=r,this.ignoreUndefinedProperties=i,void 0===o&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return A(e,[{key:"path",get:function(){return this.settings.path}},{key:"Vu",get:function(){return this.settings.Vu}},{key:"Su",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.Nu(e),r}},{key:"xu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.vu(),r}},{key:"ku",value:function(e){return this.Su({path:void 0,Cu:!0})}},{key:"Ou",value:function(e){return wy(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"vu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}},{key:"Nu",value:function(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(Zv(this.Vu)&&Yv.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}]),e}(),ty=function(){function e(t,n,r){T(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.O=r||Ch(t)}return A(e,[{key:"Fu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ey({Vu:e,methodName:t,$u:n,path:va.emptyPath(),Cu:!1,Mu:r},this.databaseId,this.O,this.ignoreUndefinedProperties)}}]),e}();function ny(e){var t=e._freezeSettings(),n=Ch(e._databaseId);return new ty(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ry(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=e.Fu(o.merge||o.mergeFields?2:0,t,n,i);yy("Data must be an object, but it was:",a,r);var u,s,c=py(r,a);if(o.merge)u=new ya(a.fieldMask),s=a.fieldTransforms;else if(o.mergeFields){var l,f=[],h=I(o.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=gy(t,d,n);if(!a.contains(p))throw new Wo(Go.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));ky(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new ya(f),s=a.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=a.fieldTransforms;return new Xv(new Ha(c),u,s)}var iy=function(e){w(n,e);var t=_(n);function n(){return T(this,n),t.apply(this,arguments)}return A(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Vu)throw 1===e.Vu?e.Ou("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ou("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Qv);function oy(e,t,n){return new ey({Vu:3,$u:t.settings.$u,methodName:e._methodName,Cu:n},t.databaseId,t.O,t.ignoreUndefinedProperties)}var ay=function(e){w(n,e);var t=_(n);function n(){return T(this,n),t.apply(this,arguments)}return A(n,[{key:"_toFieldTransform",value:function(e){return new Yu(e.path,new zu)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Qv),uy=function(e){w(n,e);var t=_(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e)).Bu=r,i}return A(n,[{key:"_toFieldTransform",value:function(e){var t=oy(this,e,!0),n=this.Bu.map((function(e){return dy(e,t)})),r=new qu(n);return new Yu(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Qv),sy=function(e){w(n,e);var t=_(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e)).Bu=r,i}return A(n,[{key:"_toFieldTransform",value:function(e){var t=oy(this,e,!0),n=this.Bu.map((function(e){return dy(e,t)})),r=new Wu(n);return new Yu(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Qv),cy=function(e){w(n,e);var t=_(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e)).Lu=r,i}return A(n,[{key:"_toFieldTransform",value:function(e){var t=new Ku(e.O,Fu(e.O,this.Lu));return new Yu(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Qv);function ly(e,t,n,r){var i=e.Fu(1,t,n);yy("Data must be an object, but it was:",i,r);var o=[],a=Ha.empty();la(r,(function(e,r){var u=by(t,e,n);r=X(r);var s=i.xu(u);if(r instanceof iy)o.push(u);else{var c=dy(r,s);null!=c&&(o.push(u),a.set(u,c))}}));var u=new ya(o);return new Jv(a,u,i.fieldTransforms)}function fy(e,t,n,r,i,o){var a=e.Fu(1,t,n),u=[gy(t,r,n)],s=[i];if(o.length%2!=0)throw new Wo(Go.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<o.length;c+=2)u.push(gy(t,o[c])),s.push(o[c+1]);for(var l=[],f=Ha.empty(),h=u.length-1;h>=0;--h)if(!ky(l,u[h])){var d=u[h],p=s[h];p=X(p);var v=a.xu(d);if(p instanceof iy)l.push(d);else{var y=dy(p,v);null!=y&&(l.push(d),f.set(d,y))}}var g=new ya(l);return new Jv(f,g,a.fieldTransforms)}function hy(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return dy(n,e.Fu(r?4:3,t))}function dy(e,t){if(vy(e=X(e)))return yy("Unsupported field value:",t,e),py(e,t);if(e instanceof Qv)return function(e,t){if(!Zv(t.Vu))throw t.Ou("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ou("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Cu&&4!==t.Vu)throw t.Ou("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,o=I(e);try{for(o.s();!(n=o.n()).done;){var a=dy(n.value,t.ku(i));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}}catch(u){o.e(u)}finally{o.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=X(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Fu(t.O,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ua.fromDate(e);return{timestampValue:Ws(t.O,n)}}if(e instanceof ua){var r=new ua(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ws(t.O,r)}}if(e instanceof $v)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Kv)return{bytesValue:Hs(t.O,e._byteString)};if(e instanceof Tv){var i=t.databaseId,o=e.firestore._databaseId;if(!o.isEqual(i))throw t.Ou("Document reference is for database ".concat(o.projectId,"/").concat(o.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:$s(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ou("Unsupported field value: ".concat(kv(e)))}(e,t)}function py(e,t){var n={};return fa(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):la(e,(function(e,r){var i=dy(r,t.Du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function vy(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ua||e instanceof $v||e instanceof Kv||e instanceof Tv||e instanceof Qv)}function yy(e,t,n){if(!vy(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=kv(n);throw"an object"===r?t.Ou(e+" a custom object"):t.Ou(e+" "+r)}}function gy(e,t,n){if((t=X(t))instanceof Hv)return t._internalPath;if("string"==typeof t)return by(e,t);throw wy("Field path arguments must be of type string or ",e,!1,void 0,n)}var my=new RegExp("[~\\*/\\[\\]]");function by(e,t,n){if(t.search(my)>=0)throw wy("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return b(Hv,J(t.split(".")))._internalPath}catch(r){throw wy("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function wy(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(o||a)&&(s+=" (found",o&&(s+=" in field ".concat(r)),a&&(s+=" in document ".concat(i)),s+=")"),new Wo(Go.INVALID_ARGUMENT,u+e+s)}function ky(e,t){return e.some((function(e){return e.isEqual(t)}))}var xy=function(){function e(t,n,r,i,o){T(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return A(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Tv(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Sy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Ey("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Sy=function(e){w(n,e);var t=_(n);function n(){return T(this,n),t.apply(this,arguments)}return A(n,[{key:"data",value:function(){return yt(k(n.prototype),"data",this).call(this)}}]),n}(xy);function Ey(e,t){return"string"==typeof t?by(e,t):t instanceof Hv?t._internalPath:t._delegate._internalPath}var _y=function(){function e(t,n){T(this,e),this.hasPendingWrites=t,this.fromCache=n}return A(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Iy=function(e){w(n,e);var t=_(n);function n(e,r,i,o,a,u){var s;return T(this,n),(s=t.call(this,e,r,i,o,u))._firestore=e,s._firestoreImpl=e,s.metadata=a,s}return A(n,[{key:"exists",value:function(){return yt(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Ty(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Ey("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(xy),Ty=function(e){w(n,e);var t=_(n);function n(){return T(this,n),t.apply(this,arguments)}return A(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return yt(k(n.prototype),"data",this).call(this,e)}}]),n}(Iy),Cy=function(){function e(t,n,r,i){T(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new _y(i.hasPendingWrites,i.fromCache),this.query=r}return A(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Ty(n._firestore,n._userDataWriter,r.key,r,new _y(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Wo(Go.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Ty(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _y(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Ty(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _y(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Ay(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Ay(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Uo()}}function Ry(e,t){return e instanceof Iy&&t instanceof Iy?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Cy&&t instanceof Cy&&e._firestore===t._firestore&&Nv(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Oy(e){if(xu(e)&&0===e.explicitOrderBy.length)throw new Wo(Go.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Py=A((function e(){T(this,e)}));function Ny(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=a._apply(e)}return e}var Dy=function(e){w(n,e);var t=_(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this)).Uu=e,o.qu=r,o.Ku=i,o.type="where",o}return A(n,[{key:"_apply",value:function(e){var t=ny(e.firestore),n=function(e,t,n,r,i,o,a){var u;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Wo(Go.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Wy(a,o);var s,c=[],l=I(a);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Gy(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=Gy(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Wy(a,o),u=hy(n,"where",a,"in"===o||"not-in"===o);var h=iu.create(i,o,u);return function(e,t){if(t.S()){var n=Eu(e);if(null!==n&&!n.isEqual(t.field))throw new Wo(Go.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Su(e);null!==r&&Hy(e,t.field,r)}var i=function(e,t){var n,r=I(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Wo(Go.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Wo(Go.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new Cv(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new mu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Py);var My=function(e){w(n,e);var t=_(n);function n(e,r){var i;return T(this,n),(i=t.call(this)).Uu=e,i.Gu=r,i.type="orderBy",i}return A(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Wo(Go.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Wo(Go.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new pu(t,n);return function(e,t){if(null===Su(e)){var n=Eu(e);null!==n&&Hy(e,n,t.field)}}(e,r),r}(e._query,this.Uu,this.Gu);return new Cv(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new mu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Py);var Ly=function(e){w(n,e);var t=_(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this)).type=e,o.ju=r,o.Qu=i,o}return A(n,[{key:"_apply",value:function(e){return new Cv(e.firestore,e.converter,Cu(e._query,this.ju,this.Qu))}}]),n}(Py);var Fy=function(e){w(n,e);var t=_(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this)).type=e,o.Wu=r,o.zu=i,o}return A(n,[{key:"_apply",value:function(e){var t=qy(e,this.type,this.Wu,this.zu);return new Cv(e.firestore,e.converter,function(e,t){return new mu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Py);function By(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Fy("startAt",t,!0)}function jy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Fy("startAfter",t,!1)}var Vy=function(e){w(n,e);var t=_(n);function n(e,r,i){var o;return T(this,n),(o=t.call(this)).type=e,o.Wu=r,o.zu=i,o}return A(n,[{key:"_apply",value:function(e){var t=qy(e,this.type,this.Wu,this.zu);return new Cv(e.firestore,e.converter,function(e,t){return new mu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Py);function Uy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Vy("endBefore",t,!1)}function zy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Vy("endAt",t,!0)}function qy(e,t,n,r){if(n[0]=X(n[0]),n[0]instanceof xy)return function(e,t,n,r,i){if(!r)throw new Wo(Go.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var o,a=[],u=I(Iu(e));try{for(u.s();!(o=u.n()).done;){var s=o.value;if(s.field.isKeyField())a.push(ja(t,r.key));else{var c=r.data.field(s.field);if(xa(c))throw new Wo(Go.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Wo(Go.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}a.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new du(a,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=ny(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Wo(Go.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(a[s].field.isKeyField()){if("string"!=typeof c)throw new Wo(Go.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!_u(e)&&-1!==c.indexOf("/"))throw new Wo(Go.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(da.fromString(c));if(!Ra.isDocumentKey(l))throw new Wo(Go.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Ra(l);u.push(ja(t,f))}else{var h=hy(n,r,c);u.push(h)}}return new du(u,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Gy(e,t,n){if("string"==typeof(n=X(n))){if(""===n)throw new Wo(Go.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_u(t)&&-1!==n.indexOf("/"))throw new Wo(Go.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(da.fromString(n));if(!Ra.isDocumentKey(r))throw new Wo(Go.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ja(e,new Ra(r))}if(n instanceof Tv)return ja(e,n._key);throw new Wo(Go.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(kv(n),"."))}function Wy(e,t){if(!Array.isArray(e)||0===e.length)throw new Wo(Go.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Wo(Go.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Hy(e,t,n){if(!n.isEqual(t))throw new Wo(Go.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Ky=function(){function e(){T(this,e)}return A(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wa(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Uo()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return la(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new $v(wa(e.latitude),wa(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Sa(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ea(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ba(e);return new ua(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=da.fromString(e);zo(bc(n));var r=new Ia(n.get(1),n.get(3)),i=new Ra(n.popFirst(5));return r.isEqual(t)||Bo("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Qy(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var $y=function(e){w(n,e);var t=_(n);function n(e){var r;return T(this,n),(r=t.call(this)).firestore=e,r}return A(n,[{key:"convertBytes",value:function(e){return new Kv(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tv(this.firestore,null,t)}}]),n}(Ky),Yy=function(){function e(t,n){T(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ny(t)}return A(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Xy(e,this._firestore),i=Qy(r.converter,t,n),o=ry(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Ju.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Xy(e,this._firestore),o=arguments.length,a=new Array(o>3?o-3:0),u=3;u<o;u++)a[u-3]=arguments[u];return r="string"==typeof(t=X(t))||t instanceof Hv?fy(this._dataReader,"WriteBatch.update",i._key,t,n,a):ly(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Ju.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Xy(e,this._firestore);return this._mutations=this._mutations.concat(new ds(t._key,Ju.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Wo(Go.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Xy(e,t){if((e=X(e)).firestore!==t)throw new Wo(Go.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Jy=function(e){w(n,e);var t=_(n);function n(e){var r;return T(this,n),(r=t.call(this)).firestore=e,r}return A(n,[{key:"convertBytes",value:function(e){return new Kv(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tv(this.firestore,null,t)}}]),n}(Ky);function Zy(e){e=xv(e,Tv);var t=xv(e.firestore,Fv),n=Bv(t),r=new Jy(t);return function(e,t){var n=new Ho;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function r(){return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ee(ne().mark((function e(t,n,r){var i,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=qo(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Us.ys(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Wo(Go.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o=Ed(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(o);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,cv(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Iy(t,r,e._key,n,new _y(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function eg(e){e=xv(e,Cv);var t=xv(e.firestore,Fv),n=Bv(t),r=new Jy(t);return function(e,t){var n=new Ho;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function r(){return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ee(ne().mark((function e(t,n,r){var i,o,a,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wf(t,n,!0);case 3:i=e.sent,o=new Gd(n,i.Ks),a=o.Ic(i.documents),u=o.applyChanges(a,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Ed(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,cv(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Cy(t,r,e,n)}))}function tg(e,t,n){e=xv(e,Tv);var r=xv(e.firestore,Fv),i=Qy(e.converter,t,n);return og(r,[ry(ny(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ju.none())])}function ng(e,t,n){e=xv(e,Tv);for(var r=xv(e.firestore,Fv),i=ny(r),o=arguments.length,a=new Array(o>3?o-3:0),u=3;u<o;u++)a[u-3]=arguments[u];return og(r,[("string"==typeof(t=X(t))||t instanceof Hv?fy(i,"updateDoc",e._key,t,n,a):ly(i,"updateDoc",e._key,t)).toMutation(e._key,Ju.exists(!0))])}function rg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=X(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||Mv(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(Mv(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(o=d.error)||void 0===o?void 0:o.bind(d),n[s+2]=null===(a=d.complete)||void 0===a?void 0:a.bind(d)}if(e instanceof Tv)l=xv(e.firestore,Fv),f=wu(e._key.path),c={next:function(t){n[s]&&n[s](ag(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=xv(e,Cv);l=xv(p.firestore,Fv),f=p._query;var v=new Jy(l);c={next:function(e){n[s]&&n[s](new Cy(l,v,p,e))},error:n[s+1],complete:n[s+2]},Oy(e._query)}return function(e,t,n,r){var i=new $p(r),o=new Fd(t,i,n);return e.asyncQueue.enqueueAndForget(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Rd,t.next=3,hv(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Jc(),e.asyncQueue.enqueueAndForget(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Pd,t.next=3,hv(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Bv(l),f,h,c)}function ig(e,t){return function(e,t){var n=new $p(t);return e.asyncQueue.enqueueAndForget(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){qo(e).Zo.add(t),t.next()},t.next=3,hv(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Jc(),e.asyncQueue.enqueueAndForget(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){qo(e).Zo.delete(t)},t.next=3,hv(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Bv(e=xv(e,Fv)),Mv(t)?t:{next:t})}function og(e,t){return function(e,t){var n=new Ho;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function r(){return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ep,r.next=3,fv(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Bv(e),t)}function ag(e,t,n){var r=n.docs.get(t._key),i=new Jy(e);return new Iy(e,i,t._key,r,new _y(n.hasPendingWrites,n.fromCache),t.converter)}var ug=function(e){w(n,e);var t=_(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e,r))._firestore=e,i}return A(n,[{key:"get",value:function(e){var t=this,r=Xy(e,this._firestore),i=new Jy(this._firestore);return yt(k(n.prototype),"get",this).call(this,e).then((function(e){return new Iy(t._firestore,i,r._key,e._document,new _y(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){T(this,e),this._firestore=t,this._transaction=n,this._dataReader=ny(t)}return A(e,[{key:"get",value:function(e){var t=this,n=Xy(e,this._firestore),r=new $y(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Uo();var i=e[0];if(i.isFoundDocument())return new xy(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new xy(t._firestore,r,n._key,null,n.converter);throw Uo()}))}},{key:"set",value:function(e,t,n){var r=Xy(e,this._firestore),i=Qy(r.converter,t,n),o=ry(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}},{key:"update",value:function(e,t,n){for(var r,i=Xy(e,this._firestore),o=arguments.length,a=new Array(o>3?o-3:0),u=3;u<o;u++)a[u-3]=arguments[u];return r="string"==typeof(t=X(t))||t instanceof Hv?fy(this._dataReader,"Transaction.update",i._key,t,n,a):ly(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Xy(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function sg(e,t){return function(e,t){var n=new Ho;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function r(){var i;return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return av(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new Jp(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(Bv(e=xv(e,Fv)),(function(n){return t(new ug(e,n))}))}function cg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uy("arrayUnion",t)}function lg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sy("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Do=e}(Le),Ae(new re("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),o=new Fv(i,new Yo(e.getProvider("auth-internal")),new ea(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC")),ze(Po,"3.4.5",e),ze(Po,"3.4.5","esm2017")}();function fg(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Wo("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function hg(){if("undefined"===typeof Uint8Array)throw new Wo("unimplemented","Uint8Arrays are not available in this environment.")}function dg(){if("undefined"==typeof atob)throw new Wo("unimplemented","Blobs are unavailable in Firestore in this environment.")}var pg=function(){function e(t){T(this,e),this._delegate=t}return A(e,[{key:"toBase64",value:function(){return dg(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return hg(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return dg(),new e(Kv.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return hg(),new e(Kv.fromUint8Array(t))}}]),e}();function vg(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=I(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o in r&&"function"===typeof r[o])return!0}}catch(a){i.e(a)}finally{i.f()}return!1}(e,["next","error","complete"])}var yg=function(){function e(){T(this,e)}return A(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Wv(e=xv(e,Fv));var n=Bv(e),r=e._freezeSettings(),i=new Kp;return Vv(n,i,new Wp(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Wv(e=xv(e,Fv));var t=Bv(e),n=e._freezeSettings(),r=new Kp;return Vv(t,r,new Hp(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Wo(Go.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Ho;return e._queue.enqueueAndForgetEvenWhileRestricted(ee(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xc.Vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Xc.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Cf(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),gg=function(){function e(t,n,r){var i=this;T(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Ia||(this._appCompat=t)}return A(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||jo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Iv(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Uv(this._delegate)}},{key:"disableNetwork",value:function(){return zv(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&mv("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Ho;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=fp,n.next=3,fv(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Bv(e=xv(e,Fv)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return ig(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Wo("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Og(this,Rv(this._delegate,e))}catch(t){throw Sg(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new xg(this,Ov(this._delegate,e))}catch(t){throw Sg(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Cg(this,function(e,t){if(e=xv(e,_v),gv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Wo(Go.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Cv(e,null,function(e){return new mu(da.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Sg(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return sg(this._delegate,(function(n){return e(new bg(t,n))}))}},{key:"batch",value:function(){var e=this;return Bv(this._delegate),new wg(new Yy(this._delegate,(function(t){return og(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return qv(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Gv(this._delegate,e).then((function(e){return e?new Cg(t,e):null}))}}]),e}(),mg=function(e){w(n,e);var t=_(n);function n(e){var r;return T(this,n),(r=t.call(this)).firestore=e,r}return A(n,[{key:"convertBytes",value:function(e){return new pg(new Kv(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return xg.forKey(t,this.firestore,null)}}]),n}(Ky);var bg=function(){function e(t,n){T(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new mg(t)}return A(e,[{key:"get",value:function(e){var t=this,n=Pg(e);return this._delegate.get(n).then((function(e){return new Ig(t._firestore,new Iy(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Pg(e);return n?(fg("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a,u=Pg(e);2===arguments.length?this._delegate.update(u,t):(a=this._delegate).update.apply(a,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Pg(e);return this._delegate.delete(t),this}}]),e}(),wg=function(){function e(t){T(this,e),this._delegate=t}return A(e,[{key:"set",value:function(e,t,n){var r=Pg(e);return n?(fg("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a,u=Pg(e);2===arguments.length?this._delegate.update(u,t):(a=this._delegate).update.apply(a,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Pg(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),kg=function(){function e(t,n,r){T(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return A(e,[{key:"fromFirestore",value:function(e,t){var n=new Ty(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Tg(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new mg(t),n),i.set(n,o)),o}}]),e}();kg.INSTANCES=new WeakMap;var xg=function(){function e(t,n){T(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new mg(t)}return A(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Og(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Og(this.firestore,Rv(this._delegate,e))}catch(t){throw Sg(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=X(e))instanceof Tv&&Pv(this._delegate,e)}},{key:"set",value:function(e,t){t=fg("DocumentReference.set",t);try{return t?tg(this._delegate,e,t):tg(this._delegate,e)}catch(n){throw Sg(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?ng(this._delegate,e):ng.apply(void 0,[this._delegate,e,t].concat(r))}catch(o){throw Sg(o,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return og(xv(e.firestore,Fv),[new ds(e._key,Ju.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Eg(n),o=_g(n,(function(t){return new Ig(e.firestore,new Iy(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return rg(this._delegate,i,o)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Zy(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=xv(e,Tv);var t=xv(e.firestore,Fv);return pv(Bv(t),e._key,{source:"server"}).then((function(n){return ag(t,e,n)}))}(this._delegate):function(e){e=xv(e,Tv);var t=xv(e.firestore,Fv);return pv(Bv(t),e._key).then((function(n){return ag(t,e,n)}))}(this._delegate),t.then((function(e){return new Ig(n.firestore,new Iy(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(kg.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Wo("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Tv(n._delegate,r,new Ra(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Tv(n._delegate,r,t))}}]),e}();function Sg(e,t,n){return e.message=e.message.replace(t,n),e}function Eg(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!vg(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function _g(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=vg(e[0])?e[0]:vg(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ig=function(){function e(t,n){T(this,e),this._firestore=t,this._delegate=n}return A(e,[{key:"ref",get:function(){return new xg(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Ry(this._delegate,e._delegate)}}]),e}(),Tg=function(e){w(n,e);var t=_(n);function n(){return T(this,n),t.apply(this,arguments)}return A(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Uo()}(void 0!==t),t}}]),n}(Ig),Cg=function(){function e(t,n){T(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new mg(t)}return A(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Ny(this._delegate,function(e,t,n){var r=t,i=Ey("where",e);return new Dy(i,r,n)}(t,n,r)))}catch(i){throw Sg(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Ny(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Ey("orderBy",e);return new My(n,t)}(t,n)))}catch(r){throw Sg(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Ny(this._delegate,function(e){return Sv("limit",e),new Ly("limit",e,"F")}(t)))}catch(n){throw Sg(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Ny(this._delegate,function(e){return Sv("limitToLast",e),new Ly("limitToLast",e,"L")}(t)))}catch(n){throw Sg(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Ny(this._delegate,By.apply(void 0,arguments)))}catch(t){throw Sg(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Ny(this._delegate,jy.apply(void 0,arguments)))}catch(t){throw Sg(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Ny(this._delegate,Uy.apply(void 0,arguments)))}catch(t){throw Sg(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Ny(this._delegate,zy.apply(void 0,arguments)))}catch(t){throw Sg(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Nv(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?eg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=xv(e,Cv);var t=xv(e.firestore,Fv),n=Bv(t),r=new Jy(t);return vv(n,e._query,{source:"server"}).then((function(n){return new Cy(t,r,e,n)}))}(this._delegate):function(e){e=xv(e,Cv);var t=xv(e.firestore,Fv),n=Bv(t),r=new Jy(t);return Oy(e._query),vv(n,e._query).then((function(n){return new Cy(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Rg(n.firestore,new Cy(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Eg(n),o=_g(n,(function(t){return new Rg(e.firestore,new Cy(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return rg(this._delegate,i,o)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(kg.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Ag=function(){function e(t,n){T(this,e),this._firestore=t,this._delegate=n}return A(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Tg(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Rg=function(){function e(t,n){T(this,e),this._firestore=t,this._delegate=n}return A(e,[{key:"query",get:function(){return new Cg(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Tg(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Ag(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Tg(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Ry(this._delegate,e._delegate)}}]),e}(),Og=function(e){w(n,e);var t=_(n);function n(e,r){var i;return T(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return A(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new xg(this.firestore,e):null}},{key:"doc",value:function(e){try{return new xg(this.firestore,void 0===e?Ov(this._delegate):Ov(this._delegate,e))}catch(t){throw Sg(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=xv(e.firestore,Fv),r=Ov(e),i=Qy(e.converter,t);return og(n,[ry(ny(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ju.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new xg(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Pv(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(kg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Cg);function Pg(e){return xv(e,Tv)}var Ng,Dg=function(){function e(){T(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=b(Hv,n)}return A(e,[{key:"isEqual",value:function(e){return(e=X(e))instanceof Hv&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(va.keyField().canonicalString())}}]),e}(),Mg=function(){function e(t){T(this,e),this._delegate=t}return A(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new ay("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new iy("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=cg.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=lg.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new cy("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Lg={Firestore:gg,GeoPoint:$v,Timestamp:ua,Blob:pg,Transaction:bg,WriteBatch:wg,DocumentReference:xg,DocumentSnapshot:Ig,Query:Cg,QueryDocumentSnapshot:Tg,QuerySnapshot:Rg,CollectionReference:Og,FieldPath:Dg,FieldValue:Mg,setLogLevel:function(e){!function(e){Mo.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new re("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Lg)))})(Ng=pt,(function(e,t){return new gg(e,t,new yg)})),Ng.registerVersion("@firebase/firestore-compat","0.1.14");pt.registerVersion("firebase","9.6.8","app-compat");var Fg=function(e){return"checkbox"===e.type},Bg=function(e){return e instanceof Date},jg=function(e){return null==e},Vg=function(e){return"object"===typeof e},Ug=function(e){return!jg(e)&&!Array.isArray(e)&&Vg(e)&&!Bg(e)},zg=function(e){return Ug(e)&&e.target?Fg(e.target)?e.target.checked:e.target.value:e},qg=function(e,t){return J(e).some((function(e){return function(e){return e.substring(0,e.search(/.\d/))||e}(t)===e}))},Gg=function(e){return e.filter(Boolean)},Wg=function(e){return void 0===e},Hg=function(e,t,n){if(!t||!Ug(e))return n;var r=Gg(t.split(/[,[\].]+?/)).reduce((function(e,t){return jg(e)?e:e[t]}),e);return Wg(r)||r===e?Wg(e[t])?n:e[t]:r},Kg="blur",Qg="focusout",$g="onBlur",Yg="onChange",Xg="onSubmit",Jg="onTouched",Zg="all",em="max",tm="min",nm="maxLength",rm="minLength",im="pattern",om="required",am="validate",um=function(e,t){var n=Object.assign({},e);return delete n[t],n},sm=(t.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={},o=function(o){Object.defineProperty(i,o,{get:function(){var i=o;return t[i]!==Zg&&(t[i]=!r||Zg),n&&(n[i]=!0),e[i]}})};for(var a in e)o(a);return i}),cm=function(e){return Ug(e)&&!Object.keys(e).length},lm=function(e,t,n){var r=um(e,"name");return cm(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((function(e){return t[e]===(!n||Zg)}))},fm=function(e){return Array.isArray(e)?e:[e]};function hm(e){var n=t.useRef(e);n.current=e,t.useEffect((function(){var t=!e.disabled&&n.current.subject.subscribe({next:n.current.callback});return function(){return function(e){e&&e.unsubscribe()}(t)}}),[e.disabled])}var dm=function(e){return"string"===typeof e},pm=function(e,t,n,r){var i=Array.isArray(e);return dm(e)?(r&&t.watch.add(e),Hg(n,e)):i?e.map((function(e){return r&&t.watch.add(e),Hg(n,e)})):(r&&(t.watchAll=!0),n)},vm=function(e){return"function"===typeof e},ym=function(e){for(var t in e)if(vm(e[t]))return!0;return!1};var gm=function(e,t,n,r,i){return t?Object.assign(Object.assign({},n[e]),{types:Object.assign(Object.assign({},n[e]&&n[e].types?n[e].types:{}),l({},r,i||!0))}):{}},mm=function(e){return/^\w*$/.test(e)},bm=function(e){return Gg(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function wm(e,t,n){for(var r=-1,i=mm(t)?[t]:bm(t),o=i.length,a=o-1;++r<o;){var u=i[r],s=n;if(r!==a){var c=e[u];s=Ug(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[u]=s,e=e[u]}return e}var km=function e(t,n,r){var i,o=I(r||Object.keys(t));try{for(o.s();!(i=o.n()).done;){var a=i.value,u=Hg(t,a);if(u){var s=u._f,c=um(u,"_f");if(s&&n(s.name)){if(s.ref.focus&&Wg(s.ref.focus()))break;if(s.refs){s.refs[0].focus();break}}else Ug(c)&&e(c,n)}}}catch(l){o.e(l)}finally{o.f()}},xm=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||J(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))};function Sm(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(!n&&!Ug(e))return e;for(var r in t=n?[]:{},e){if(vm(e[r])){t=e;break}t[r]=Sm(e[r])}}return t}function Em(){var e=[];return{get observers(){return e},next:function(t){var n,r=I(e);try{for(r.s();!(n=r.n()).done;){n.value.next(t)}}catch(i){r.e(i)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var _m=function(e){return jg(e)||!Vg(e)};function Im(e,t){if(_m(e)||_m(t))return e===t;if(Bg(e)&&Bg(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,o=n;i<o.length;i++){var a=o[i],u=e[a];if(!r.includes(a))return!1;if("ref"!==a){var s=t[a];if(Bg(u)&&Bg(s)||Ug(u)&&Ug(s)||Array.isArray(u)&&Array.isArray(s)?!Im(u,s):u!==s)return!1}}return!0}var Tm=function(e){return{isOnSubmit:!e||e===Xg,isOnBlur:e===$g,isOnChange:e===Yg,isOnAll:e===Zg,isOnTouch:e===Jg}},Cm=function(e){return"boolean"===typeof e},Am=function(e){return"file"===e.type},Rm=function(e){return e instanceof HTMLElement},Om=function(e){return"select-multiple"===e.type},Pm=function(e){return"radio"===e.type},Nm=function(e){return Pm(e)||Fg(e)},Dm="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document,Mm=function(e){return Rm(e)&&e.isConnected};function Lm(e,t){var n,r=mm(t)?[t]:bm(t),i=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=Wg(e)?r++:e[t[r++]];return e}(e,r),o=r[r.length-1];i&&delete i[o];for(var a=0;a<r.slice(0,-1).length;a++){var u=-1,s=void 0,c=r.slice(0,-(a+1)),l=c.length-1;for(a>0&&(n=e);++u<c.length;){var f=c[u];s=s?s[f]:e[f],l===u&&(Ug(s)&&cm(s)||Array.isArray(s)&&!s.filter((function(e){return!Wg(e)})).length)&&(n?delete n[f]:delete e[f]),n=s}}return e}function Fm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(Ug(e)||n)for(var r in e)Array.isArray(e[r])||Ug(e[r])&&!ym(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Fm(e[r],t[r])):jg(e[r])||(t[r]=!0);return t}function Bm(e,t,n){var r=Array.isArray(e);if(Ug(e)||r)for(var i in e)Array.isArray(e[i])||Ug(e[i])&&!ym(e[i])?Wg(t)||_m(n[i])?n[i]=Array.isArray(e[i])?Fm(e[i],[]):Object.assign({},Fm(e[i])):Bm(e[i],jg(t)?{}:t[i],n[i]):n[i]=!Im(e[i],t[i]);return n}var jm=function(e,t){return Bm(e,t,Fm(t))},Vm={value:!1,isValid:!1},Um={value:!0,isValid:!0},zm=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Wg(e[0].attributes.value)?Wg(e[0].value)||""===e[0].value?Um:{value:e[0].value,isValid:!0}:Um:Vm}return Vm},qm=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return Wg(e)?e:n?""===e?NaN:+e:r&&dm(e)?new Date(e):i?i(e):e},Gm={isValid:!1,value:null},Wm=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),Gm):Gm};function Hm(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return Am(t)?t.files:Pm(t)?Wm(e.refs).value:Om(t)?J(t.selectedOptions).map((function(e){return e.value})):Fg(t)?zm(e.refs).value:qm(Wg(t.value)?e.ref.value:t.value,e)}var Km=function(e,t,n,r){var i,o={},a=I(e);try{for(a.s();!(i=a.n()).done;){var u=i.value,s=Hg(t,u);s&&wm(o,u,s._f)}}catch(c){a.e(c)}finally{a.f()}return{criteriaMode:n,names:J(e),fields:o,shouldUseNativeValidation:r}},Qm=function(e){return e instanceof RegExp},$m=function(e){return Wg(e)?void 0:Qm(e)?e.source:Ug(e)?Qm(e.value)?e.value.source:e.value:e},Ym=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function Xm(e,t,n){var r=Hg(e,n);if(r||mm(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var o=i.join("."),a=Hg(t,o),u=Hg(e,o);if(a&&!Array.isArray(a)&&n!==o)return{name:n};if(u&&u.type)return{name:o,error:u};i.pop()}return{name:n}}var Jm=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},Zm=function(e,t){return!Gg(Hg(e,t)).length&&Lm(e,t)},eb=function(e){return dm(e)||t.isValidElement(e)};function tb(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(eb(e)||Array.isArray(e)&&e.every(eb)||Cm(e)&&!e)return{type:n,message:eb(e)?e:"",ref:t}}var nb=function(e){return Ug(e)&&!Qm(e)?e:{value:e,message:""}},rb=function(){var e=ee(te.mark((function e(t,n,r,i){var o,a,u,s,c,l,f,h,d,p,v,y,g,m,b,w,k,x,S,E,_,I,T,C,A,R,O,P,N,D,M,L,F,B,j,V,U,z,q,G,W,H,K,Q;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,a=o.ref,u=o.refs,s=o.required,c=o.maxLength,l=o.minLength,f=o.min,h=o.max,d=o.pattern,p=o.validate,v=o.name,y=o.valueAsNumber,g=o.mount,m=o.disabled,g&&!m){e.next=3;break}return e.abrupt("return",{});case 3:if(b=u?u[0]:a,w=function(e){i&&b.reportValidity&&(b.setCustomValidity(Cm(e)?"":e||" "),b.reportValidity())},k={},x=Pm(a),S=Fg(a),E=x||S,_=(y||Am(a))&&!a.value||""===n||Array.isArray(n)&&!n.length,I=gm.bind(null,v,r,k),T=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:nm,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rm,o=e?t:n;k[v]=Object.assign({type:e?r:i,message:o,ref:a},I(e?r:i,o))},!s||!(!E&&(_||jg(n))||Cm(n)&&!n||S&&!zm(u).isValid||x&&!Wm(u).isValid)){e.next=19;break}if(C=eb(s)?{value:!!s,message:s}:nb(s),A=C.value,R=C.message,!A){e.next=19;break}if(k[v]=Object.assign({type:om,message:R,ref:b},I(om,R)),r){e.next=19;break}return w(R),e.abrupt("return",k);case 19:if(_||jg(f)&&jg(h)){e.next=28;break}if(N=nb(h),D=nb(f),isNaN(n)?(L=a.valueAsDate||new Date(n),dm(N.value)&&(O=L>new Date(N.value)),dm(D.value)&&(P=L<new Date(D.value))):(M=a.valueAsNumber||+n,jg(N.value)||(O=M>N.value),jg(D.value)||(P=M<D.value)),!O&&!P){e.next=28;break}if(T(!!O,N.message,D.message,em,tm),r){e.next=28;break}return w(k[v].message),e.abrupt("return",k);case 28:if(!c&&!l||_||!dm(n)){e.next=38;break}if(F=nb(c),B=nb(l),j=!jg(F.value)&&n.length>F.value,V=!jg(B.value)&&n.length<B.value,!j&&!V){e.next=38;break}if(T(j,F.message,B.message),r){e.next=38;break}return w(k[v].message),e.abrupt("return",k);case 38:if(!d||_||!dm(n)){e.next=45;break}if(U=nb(d),z=U.value,q=U.message,!Qm(z)||n.match(z)){e.next=45;break}if(k[v]=Object.assign({type:im,message:q,ref:a},I(im,q)),r){e.next=45;break}return w(q),e.abrupt("return",k);case 45:if(!p){e.next=79;break}if(!vm(p)){e.next=58;break}return e.next=49,p(n);case 49:if(G=e.sent,!(W=tb(G,b))){e.next=56;break}if(k[v]=Object.assign(Object.assign({},W),I(am,W.message)),r){e.next=56;break}return w(W.message),e.abrupt("return",k);case 56:e.next=79;break;case 58:if(!Ug(p)){e.next=79;break}H={},e.t0=te.keys(p);case 61:if((e.t1=e.t0()).done){e.next=75;break}if(K=e.t1.value,cm(H)||r){e.next=65;break}return e.abrupt("break",75);case 65:return e.t2=tb,e.next=68,p[K](n);case 68:e.t3=e.sent,e.t4=b,e.t5=K,(Q=(0,e.t2)(e.t3,e.t4,e.t5))&&(H=Object.assign(Object.assign({},Q),I(K,Q.message)),w(Q.message),r&&(k[v]=H)),e.next=61;break;case 75:if(cm(H)){e.next=79;break}if(k[v]=Object.assign({ref:b},H),r){e.next=79;break}return e.abrupt("return",k);case 79:return w(!0),e.abrupt("return",k);case 81:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),ib={mode:Xg,reValidateMode:Yg,shouldFocusError:!0};function ob(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign(Object.assign({},ib),t),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},o=n.defaultValues||{},a=n.shouldUnregister?{}:Sm(o),s={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},f=0,h={},d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={watch:Em(),array:Em(),state:Em()},v=Tm(n.mode),y=Tm(n.reValidateMode),g=n.criteriaMode===Zg,m=function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];clearTimeout(f),f=window.setTimeout((function(){return e.apply(void 0,r)}),t)}},b=function(){var e=ee(te.mark((function e(t){var o;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!1,!d.isValid){e.next=15;break}if(!n.resolver){e.next=10;break}return e.t1=cm,e.next=6,_();case 6:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=13;break;case 10:return e.next=12,C(i,!0);case 12:e.t0=e.sent;case 13:o=e.t0,t||o===r.isValid||(r.isValid=o,p.state.next({isValid:o}));case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(u&&n){if(s.action=!0,l&&Array.isArray(Hg(i,e))){var f=n(Hg(i,e),u.argA,u.argB);c&&wm(i,e,f)}if(d.errors&&l&&Array.isArray(Hg(r.errors,e))){var h=n(Hg(r.errors,e),u.argA,u.argB);c&&wm(r.errors,e,h),Zm(r.errors,e)}if(d.touchedFields&&l&&Array.isArray(Hg(r.touchedFields,e))){var v=n(Hg(r.touchedFields,e),u.argA,u.argB);c&&wm(r.touchedFields,e,v)}d.dirtyFields&&(r.dirtyFields=jm(o,a)),p.state.next({isDirty:R(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else wm(a,e,t)},k=function(e,t){return wm(r.errors,e,t),p.state.next({errors:r.errors})},x=function(e,t,n,r){var u=Hg(i,e);if(u){var c=Hg(a,e,Wg(n)?Hg(o,e):n);Wg(c)||r&&r.defaultChecked||t?wm(a,e,t?c:Hm(u._f)):N(e,c),s.mount&&b()}},S=function(e,t,n,i,a){var u=!1,s={name:e},c=Hg(r.touchedFields,e);if(d.isDirty){var l=r.isDirty;r.isDirty=s.isDirty=R(),u=l!==s.isDirty}if(d.dirtyFields&&(!n||i)){var f=Hg(r.dirtyFields,e);Im(Hg(o,e),t)?Lm(r.dirtyFields,e):wm(r.dirtyFields,e,!0),s.dirtyFields=r.dirtyFields,u=u||f!==Hg(r.dirtyFields,e)}return n&&!c&&(wm(r.touchedFields,e,n),s.touchedFields=r.touchedFields,u=u||d.touchedFields&&c!==n),u&&a&&p.state.next(s),u?s:{}},E=function(){var n=ee(te.mark((function n(i,o,a,u,s){var c,l,v;return te.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c=Hg(r.errors,o),l=d.isValid&&r.isValid!==a,t.delayError&&u?(e=e||m(k,t.delayError))(o,u):(clearTimeout(f),u?wm(r.errors,o,u):Lm(r.errors,o)),(u?Im(c,u):!c)&&cm(s)&&!l||i||(v=Object.assign(Object.assign(Object.assign({},s),l?{isValid:a}:{}),{errors:r.errors,name:o}),r=Object.assign(Object.assign({},r),v),p.state.next(v)),h[o]--,d.isValidating&&!Object.values(h).some((function(e){return e}))&&(p.state.next({isValidating:!1}),h={});case 6:case"end":return n.stop()}}),n)})));return function(e,t,r,i,o){return n.apply(this,arguments)}}(),_=function(){var e=ee(te.mark((function e(t){return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.resolver){e.next=6;break}return e.next=3,n.resolver(Object.assign({},a),n.context,Km(t||c.mount,i,n.criteriaMode,n.shouldUseNativeValidation));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=ee(te.mark((function e(t){var n,i,o,a,u,s;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:if(n=e.sent,i=n.errors,t){o=I(t);try{for(o.s();!(a=o.n()).done;)u=a.value,(s=Hg(i,u))?wm(r.errors,u,s):Lm(r.errors,u)}catch(c){o.e(c)}finally{o.f()}}else r.errors=i;return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=ee(te.mark((function e(t,i){var o,u,s,c,l,f,h=arguments;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=h.length>2&&void 0!==h[2]?h[2]:{valid:!0},e.t0=te.keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(u=e.t1.value,!(s=t[u])){e.next=21;break}if(c=s._f,l=um(s,"_f"),!c){e.next=17;break}return e.next=11,rb(s,Hg(a,c.name),g,n.shouldUseNativeValidation);case 11:if(!(f=e.sent)[c.name]){e.next=16;break}if(o.valid=!1,!i){e.next=16;break}return e.abrupt("break",23);case 16:i||(f[c.name]?wm(r.errors,c.name,f[c.name]):Lm(r.errors,c.name));case 17:if(e.t2=l,!e.t2){e.next=21;break}return e.next=21,C(l,i,o);case 21:e.next=2;break;case 23:return e.abrupt("return",o.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e,t=I(c.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=Hg(i,n);r&&(r._f.refs?r._f.refs.every((function(e){return!Mm(e)})):!Mm(r._f.ref))&&q(n)}}catch(o){t.e(o)}finally{t.f()}c.unMount=new Set},R=function(e,t){return e&&t&&wm(a,e,t),!Im(B(),o)},O=function(e,t,n){var r=Object.assign({},s.mount?a:Wg(t)?o:dm(e)?l({},e,t):t);return pm(e,c,r,n)},P=function(e){return Gg(Hg(s.mount?a:o,e,t.shouldUnregister?Hg(o,e,[]):[]))},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Hg(i,e),o=t;if(r){var u=r._f;u&&(!u.disabled&&wm(a,e,qm(t,u)),o=Dm&&Rm(u.ref)&&jg(t)?"":t,Om(u.ref)?J(u.ref.options).forEach((function(e){return e.selected=o.includes(e.value)})):u.refs?Fg(u.ref)?u.refs.length>1?u.refs.forEach((function(e){return!e.disabled&&(e.checked=Array.isArray(o)?!!o.find((function(t){return t===e.value})):o===e.value)})):u.refs[0]&&(u.refs[0].checked=!!o):u.refs.forEach((function(e){return e.checked=e.value===o})):Am(u.ref)?u.ref.value="":(u.ref.value=o,u.ref.type||p.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&S(e,o,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&F(e)},D=function e(t,n,r){for(var o in n){var a=n[o],u="".concat(t,".").concat(o),s=Hg(i,u);!c.array.has(t)&&_m(a)&&(!s||s._f)||Bg(a)?N(u,a,r):e(u,a,r)}},M=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=Hg(i,e),s=c.array.has(e),l=Sm(t);wm(a,e,l),s?(p.array.next({name:e,values:a}),(d.isDirty||d.dirtyFields)&&n.shouldDirty&&(r.dirtyFields=jm(o,a),p.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:R(e,l)}))):!u||u._f||jg(l)?N(e,l,n):D(e,l,n),xm(e,c)&&p.state.next({}),p.watch.next({name:e})},L=function(){var e=ee(te.mark((function e(t){var o,u,s,l,f,d,m,w,k,x,I,T,C,A,R;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.target,u=o.name,!(s=Hg(i,u))){e.next=39;break}if(d=o.type?Hm(s._f):zg(t),m=t.type===Kg||t.type===Qg,w=!Ym(s._f)&&!n.resolver&&!Hg(r.errors,u)&&!s._f.deps||Jm(m,Hg(r.touchedFields,u),r.isSubmitted,y,v),k=xm(u,c,m),wm(a,u,d),m?s._f.onBlur&&s._f.onBlur(t):s._f.onChange&&s._f.onChange(t),x=S(u,d,m,!1),I=!cm(x)||k,!m&&p.watch.next({name:u,type:t.type}),!w){e.next=15;break}return e.abrupt("return",I&&p.state.next(Object.assign({name:u},k?{}:x)));case 15:if(!m&&k&&p.state.next({}),h[u]=(h[u],1),p.state.next({isValidating:!0}),!n.resolver){e.next=30;break}return e.next=21,_([u]);case 21:T=e.sent,C=T.errors,A=Xm(r.errors,i,u),R=Xm(C,i,A.name||u),l=R.error,u=R.name,f=cm(C),e.next=37;break;case 30:return e.next=32,rb(s,Hg(a,u),g,n.shouldUseNativeValidation);case 32:return e.t0=u,l=e.sent[e.t0],e.next=36,b(!0);case 36:f=e.sent;case 37:s._f.deps&&F(s._f.deps),E(!1,u,f,l,x);case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=ee(te.mark((function e(t){var o,a,u,s,f,h=arguments;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=h.length>1&&void 0!==h[1]?h[1]:{},s=fm(t),p.state.next({isValidating:!0}),!n.resolver){e.next=11;break}return e.next=6,T(Wg(t)?t:s);case 6:f=e.sent,a=cm(f),u=t?!s.some((function(e){return Hg(f,e)})):a,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(s.map(function(){var e=ee(te.mark((function e(t){var n;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hg(i,t),e.next=3,C(n&&n._f?l({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((u=e.sent.every(Boolean))||r.isValid)&&b(),e.next=21;break;case 18:return e.next=20,C(i);case 20:u=a=e.sent;case 21:return p.state.next(Object.assign(Object.assign(Object.assign({},!dm(t)||d.isValid&&a!==r.isValid?{}:{name:t}),n.resolver?{isValid:a}:{}),{errors:r.errors,isValidating:!1})),o.shouldFocus&&!u&&km(i,(function(e){return Hg(r.errors,e)}),t?s:c.mount),e.abrupt("return",u);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){var t=Object.assign(Object.assign({},o),s.mount?a:{});return Wg(e)?t:dm(e)?Hg(t,e):e.map((function(e){return Hg(t,e)}))},j=function(e,t){return{invalid:!!Hg((t||r).errors,e),isDirty:!!Hg((t||r).dirtyFields,e),isTouched:!!Hg((t||r).touchedFields,e),error:Hg((t||r).errors,e)}},V=function(e){e?fm(e).forEach((function(e){return Lm(r.errors,e)})):r.errors={},p.state.next({errors:r.errors})},U=function(e,t,n){var o=(Hg(i,e,{_f:{}})._f||{}).ref;wm(r.errors,e,Object.assign(Object.assign({},t),{ref:o})),p.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&o&&o.focus&&o.focus()},z=function(e,t){return vm(e)?p.watch.subscribe({next:function(n){return e(O(void 0,t),n)}}):O(e,t,!0)},q=function(e){var t,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=I(e?fm(e):c.mount);try{for(s.s();!(t=s.n()).done;){var l=t.value;c.mount.delete(l),c.array.delete(l),Hg(i,l)&&(u.keepValue||(Lm(i,l),Lm(a,l)),!u.keepError&&Lm(r.errors,l),!u.keepDirty&&Lm(r.dirtyFields,l),!u.keepTouched&&Lm(r.touchedFields,l),!n.shouldUnregister&&!u.keepDefaultValue&&Lm(o,l))}}catch(f){s.e(f)}finally{s.f()}p.watch.next({}),p.state.next(Object.assign(Object.assign({},r),u.keepDirty?{isDirty:R()}:{})),!u.keepIsValid&&b()},G=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Hg(i,t),u=Cm(r.disabled);return wm(i,t,{_f:Object.assign(Object.assign(Object.assign({},o&&o._f?o._f:{ref:{name:t}}),{name:t,mount:!0}),r)}),c.mount.add(t),o?u&&wm(a,t,r.disabled?void 0:Hg(a,t,Hm(o._f))):x(t,!0,r.value),Object.assign(Object.assign(Object.assign({},u?{disabled:r.disabled}:{}),n.shouldUseNativeValidation?{required:!!r.required,min:$m(r.min),max:$m(r.max),minLength:$m(r.minLength),maxLength:$m(r.maxLength),pattern:$m(r.pattern)}:{}),{name:t,onChange:L,onBlur:L,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(a){if(a){e(t,r),o=Hg(i,t);var u=Wg(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,l=Nm(u),f=o._f.refs||[];if(l?f.find((function(e){return e===u})):u===o._f.ref)return;wm(i,t,{_f:Object.assign(Object.assign({},o._f),l?{refs:[].concat(J(f.filter(Mm)),[u]),ref:{type:u.type,name:t}}:{ref:u})}),x(t,!1,void 0,u)}else(o=Hg(i,t,{}))._f&&(o._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!qg(c.array,t)||!s.action)&&c.unMount.add(t)}))})},W=function(e,t){return function(){var o=ee(te.mark((function o(u){var s,l,f,h,d;return te.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist()),s=!0,l=Sm(a),p.state.next({isSubmitting:!0}),o.prev=4,!n.resolver){o.next=15;break}return o.next=8,_();case 8:f=o.sent,h=f.errors,d=f.values,r.errors=h,l=d,o.next=17;break;case 15:return o.next=17,C(i);case 17:if(!cm(r.errors)||!Object.keys(r.errors).every((function(e){return Hg(l,e)}))){o.next=23;break}return p.state.next({errors:{},isSubmitting:!0}),o.next=21,e(l,u);case 21:o.next=27;break;case 23:if(!t){o.next=26;break}return o.next=26,t(Object.assign({},r.errors),u);case 26:n.shouldFocusError&&km(i,(function(e){return Hg(r.errors,e)}),c.mount);case 27:o.next=33;break;case 29:throw o.prev=29,o.t0=o.catch(4),s=!1,o.t0;case 33:return o.prev=33,r.isSubmitted=!0,p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:cm(r.errors)&&s,submitCount:r.submitCount+1,errors:r.errors}),o.finish(33);case 37:case"end":return o.stop()}}),o,null,[[4,29,33,37]])})));return function(e){return o.apply(this,arguments)}}()},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Hg(i,e)&&(Wg(t.defaultValue)?M(e,Hg(o,e)):(M(e,t.defaultValue),wm(o,e,t.defaultValue)),t.keepTouched||Lm(r.touchedFields,e),t.keepDirty||(Lm(r.dirtyFields,e),r.isDirty=t.defaultValue?R(e,Hg(o,e)):R()),t.keepError||(Lm(r.errors,e),d.isValid&&b()),p.state.next(Object.assign({},r)))},K=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=e||o,h=Sm(f),v=e&&!cm(e)?h:o;if(n.keepDefaultValues||(o=f),!n.keepValues){if(Dm&&Wg(e)){var y,g=I(c.mount);try{for(g.s();!(y=g.n()).done;){var m=y.value,b=Hg(i,m);if(b&&b._f){var w=Array.isArray(b._f.refs)?b._f.refs[0]:b._f.ref;try{Rm(w)&&w.closest("form").reset();break}catch(Bv){}}}}catch(k){g.e(k)}finally{g.f()}}a=t.shouldUnregister?n.keepDefaultValues?Sm(o):{}:h,i={},p.array.next({values:v}),p.watch.next({values:v})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!n.keepIsValid,s.watch=!!t.shouldUnregister,p.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty?r.isDirty:!!n.keepDefaultValues&&!Im(e,o),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:n.keepDirty?r.dirtyFields:n.keepDefaultValues&&e?Object.entries(e).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return Object.assign(Object.assign({},e),l({},r,i!==Hg(o,r)))}),{}):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Hg(i,e)._f,r=n.refs?n.refs[0]:n.ref;t.shouldSelect?r.select():r.focus()};return{control:{register:G,unregister:q,getFieldState:j,_executeSchema:_,_getWatch:O,_getDirty:R,_updateValid:b,_removeUnmounted:A,_updateFieldArray:w,_getFieldArray:P,_subjects:p,_proxyFormState:d,get _fields(){return i},get _formValues(){return a},get _stateFlags(){return s},set _stateFlags(e){s=e},get _defaultValues(){return o},get _names(){return c},set _names(e){c=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n=Object.assign(Object.assign({},n),e)}},trigger:F,register:G,handleSubmit:W,watch:z,setValue:M,getValues:B,reset:K,resetField:H,clearErrors:V,unregister:q,setError:U,setFocus:Q,getFieldState:j}}var ab=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.useRef(),r=u(t.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}}),2),i=r[0],o=r[1];n.current?n.current.control._options=e:n.current=Object.assign(Object.assign({},ob(e)),{formState:i});var a=n.current.control,s=t.useCallback((function(e){lm(e,a._proxyFormState,!0)&&(a._formState=Object.assign(Object.assign({},a._formState),e),o(Object.assign({},a._formState)))}),[a]);return hm({subject:a._subjects.state,callback:s}),t.useEffect((function(){a._stateFlags.mount||(a._proxyFormState.isValid&&a._updateValid(),a._stateFlags.mount=!0),a._stateFlags.watch&&(a._stateFlags.watch=!1,a._subjects.state.next({})),a._removeUnmounted()})),n.current.formState=sm(i,a._proxyFormState),n.current}(),n=e.register,r=e.handleSubmit,i=e.watch,o=e.formState.errors;return console.log("watch:",i("category")),(0,s.jsxs)("form",{onSubmit:r((function(e){pt.firestore().collection("product").add(e).then((function(e){console.log("success")})).catch((function(e){console.log("err")})),console.log("onSubmit:",e)})),children:[(0,s.jsx)("input",h({type:"text",placeholder:"\u30ab\u30c6\u30b4\u30ea"},n("category",{required:!0,maxLength:80}))),o.category&&"\u30ab\u30c6\u30b4\u30ea\u304c\u5165\u529b\u3055\u308c\u3066\u3044\u307e\u305b\u3093",(0,s.jsx)("input",h({type:"text",placeholder:"\u5546\u54c1\u540d"},n("name",{required:!0,maxLength:100}))),(0,s.jsx)("input",h({type:"number",placeholder:"\u4fa1\u683c"},n("price",{required:!0,min:0,max:1e10}))),(0,s.jsxs)("select",h(h({},n("stocked")),{},{children:[(0,s.jsx)("option",{value:"true",children:"\u3042\u308a"}),(0,s.jsx)("option",{value:"false",children:"\u306a\u3057"})]})),(0,s.jsx)("input",{type:"submit"})]})};function ub(){return ub=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ub.apply(this,arguments)}function sb(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function cb(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=cb(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function lb(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=cb(e))&&(r&&(r+=" "),r+=t);return r}function fb(){return fb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fb.apply(this,arguments)}var hb=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},db=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,pb=hb((function(e){return db.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var vb=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),yb=Math.abs,gb=String.fromCharCode,mb=Object.assign;function bb(e){return e.trim()}function wb(e,t,n){return e.replace(t,n)}function kb(e,t){return e.indexOf(t)}function xb(e,t){return 0|e.charCodeAt(t)}function Sb(e,t,n){return e.slice(t,n)}function Eb(e){return e.length}function _b(e){return e.length}function Ib(e,t){return t.push(e),e}var Tb=1,Cb=1,Ab=0,Rb=0,Ob=0,Pb="";function Nb(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Tb,column:Cb,length:a,return:""}}function Db(e,t){return mb(Nb("",null,null,"",null,null,0),e,{length:-e.length},t)}function Mb(){return Ob=Rb>0?xb(Pb,--Rb):0,Cb--,10===Ob&&(Cb=1,Tb--),Ob}function Lb(){return Ob=Rb<Ab?xb(Pb,Rb++):0,Cb++,10===Ob&&(Cb=1,Tb++),Ob}function Fb(){return xb(Pb,Rb)}function Bb(){return Rb}function jb(e,t){return Sb(Pb,e,t)}function Vb(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ub(e){return Tb=Cb=1,Ab=Eb(Pb=e),Rb=0,[]}function zb(e){return Pb="",e}function qb(e){return bb(jb(Rb-1,Hb(91===e?e+2:40===e?e+1:e)))}function Gb(e){for(;(Ob=Fb())&&Ob<33;)Lb();return Vb(e)>2||Vb(Ob)>3?"":" "}function Wb(e,t){for(;--t&&Lb()&&!(Ob<48||Ob>102||Ob>57&&Ob<65||Ob>70&&Ob<97););return jb(e,Bb()+(t<6&&32==Fb()&&32==Lb()))}function Hb(e){for(;Lb();)switch(Ob){case e:return Rb;case 34:case 39:34!==e&&39!==e&&Hb(Ob);break;case 40:41===e&&Hb(e);break;case 92:Lb()}return Rb}function Kb(e,t){for(;Lb()&&e+Ob!==57&&(e+Ob!==84||47!==Fb()););return"/*"+jb(t,Rb-1)+"*"+gb(47===e?e:Lb())}function Qb(e){for(;!Vb(Fb());)Lb();return jb(e,Rb)}var $b="-ms-",Yb="-moz-",Xb="-webkit-",Jb="comm",Zb="rule",ew="decl",tw="@keyframes";function nw(e,t){for(var n="",r=_b(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function rw(e,t,n,r){switch(e.type){case"@import":case ew:return e.return=e.return||e.value;case Jb:return"";case tw:return e.return=e.value+"{"+nw(e.children,r)+"}";case Zb:e.value=e.props.join(",")}return Eb(n=nw(e.children,r))?e.return=e.value+"{"+n+"}":""}function iw(e,t){switch(function(e,t){return(((t<<2^xb(e,0))<<2^xb(e,1))<<2^xb(e,2))<<2^xb(e,3)}(e,t)){case 5103:return Xb+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Xb+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Xb+e+Yb+e+$b+e+e;case 6828:case 4268:return Xb+e+$b+e+e;case 6165:return Xb+e+$b+"flex-"+e+e;case 5187:return Xb+e+wb(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return Xb+e+$b+"flex-item-"+wb(e,/flex-|-self/,"")+e;case 4675:return Xb+e+$b+"flex-line-pack"+wb(e,/align-content|flex-|-self/,"")+e;case 5548:return Xb+e+$b+wb(e,"shrink","negative")+e;case 5292:return Xb+e+$b+wb(e,"basis","preferred-size")+e;case 6060:return Xb+"box-"+wb(e,"-grow","")+Xb+e+$b+wb(e,"grow","positive")+e;case 4554:return Xb+wb(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return wb(wb(wb(e,/(zoom-|grab)/,Xb+"$1"),/(image-set)/,Xb+"$1"),e,"")+e;case 5495:case 3959:return wb(e,/(image-set\([^]*)/,Xb+"$1$`$1");case 4968:return wb(wb(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Xb+e+e;case 4095:case 3583:case 4068:case 2532:return wb(e,/(.+)-inline(.+)/,Xb+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Eb(e)-1-t>6)switch(xb(e,t+1)){case 109:if(45!==xb(e,t+4))break;case 102:return wb(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+Yb+(108==xb(e,t+3)?"$3":"$2-$3"))+e;case 115:return~kb(e,"stretch")?iw(wb(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==xb(e,t+1))break;case 6444:switch(xb(e,Eb(e)-3-(~kb(e,"!important")&&10))){case 107:return wb(e,":",":"+Xb)+e;case 101:return wb(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Xb+(45===xb(e,14)?"inline-":"")+"box$3$1"+Xb+"$2$3$1"+$b+"$2box$3")+e}break;case 5936:switch(xb(e,t+11)){case 114:return Xb+e+$b+wb(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Xb+e+$b+wb(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Xb+e+$b+wb(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Xb+e+$b+e+e}return e}function ow(e){return zb(aw("",null,null,null,[""],e=Ub(e),0,[0],e))}function aw(e,t,n,r,i,o,a,u,s){for(var c=0,l=0,f=a,h=0,d=0,p=0,v=1,y=1,g=1,m=0,b="",w=i,k=o,x=r,S=b;y;)switch(p=m,m=Lb()){case 40:if(108!=p&&58==S.charCodeAt(f-1)){-1!=kb(S+=wb(qb(m),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:S+=qb(m);break;case 9:case 10:case 13:case 32:S+=Gb(p);break;case 92:S+=Wb(Bb()-1,7);continue;case 47:switch(Fb()){case 42:case 47:Ib(sw(Kb(Lb(),Bb()),t,n),s);break;default:S+="/"}break;case 123*v:u[c++]=Eb(S)*g;case 125*v:case 59:case 0:switch(m){case 0:case 125:y=0;case 59+l:d>0&&Eb(S)-f&&Ib(d>32?cw(S+";",r,n,f-1):cw(wb(S," ","")+";",r,n,f-2),s);break;case 59:S+=";";default:if(Ib(x=uw(S,t,n,c,l,i,u,b,w=[],k=[],f),o),123===m)if(0===l)aw(S,t,x,x,w,o,f,u,k);else switch(h){case 100:case 109:case 115:aw(e,x,x,r&&Ib(uw(e,x,x,0,0,i,u,b,i,w=[],f),k),i,k,f,u,r?w:k);break;default:aw(S,x,x,x,[""],k,0,u,k)}}c=l=d=0,v=g=1,b=S="",f=a;break;case 58:f=1+Eb(S),d=p;default:if(v<1)if(123==m)--v;else if(125==m&&0==v++&&125==Mb())continue;switch(S+=gb(m),m*v){case 38:g=l>0?1:(S+="\f",-1);break;case 44:u[c++]=(Eb(S)-1)*g,g=1;break;case 64:45===Fb()&&(S+=qb(Lb())),h=Fb(),l=f=Eb(b=S+=Qb(Bb())),m++;break;case 45:45===p&&2==Eb(S)&&(v=0)}}return o}function uw(e,t,n,r,i,o,a,u,s,c,l){for(var f=i-1,h=0===i?o:[""],d=_b(h),p=0,v=0,y=0;p<r;++p)for(var g=0,m=Sb(e,f+1,f=yb(v=a[p])),b=e;g<d;++g)(b=bb(v>0?h[g]+" "+m:wb(m,/&\f/g,h[g])))&&(s[y++]=b);return Nb(e,t,n,0===i?Zb:u,s,c,l)}function sw(e,t,n){return Nb(e,t,n,Jb,gb(Ob),Sb(e,2,-2),0)}function cw(e,t,n,r){return Nb(e,t,n,ew,Sb(e,0,r),Sb(e,r+1,-1),r)}var lw=function(e,t,n){for(var r=0,i=0;r=i,i=Fb(),38===r&&12===i&&(t[n]=1),!Vb(i);)Lb();return jb(e,Rb)},fw=function(e,t){return zb(function(e,t){var n=-1,r=44;do{switch(Vb(r)){case 0:38===r&&12===Fb()&&(t[n]=1),e[n]+=lw(Rb-1,t,n);break;case 2:e[n]+=qb(r);break;case 4:if(44===r){e[++n]=58===Fb()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=gb(r)}}while(r=Lb());return e}(Ub(e),t))},hw=new WeakMap,dw=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||hw.get(n))&&!r){hw.set(e,!0);for(var i=[],o=fw(t,i),a=n.props,u=0,s=0;u<o.length;u++)for(var c=0;c<a.length;c++,s++)e.props[s]=i[u]?o[u].replace(/&\f/g,a[c]):a[c]+" "+o[u]}}},pw=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},vw=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ew:e.return=iw(e.value,e.length);break;case tw:return nw([Db(e,{value:wb(e.value,"@","@"+Xb)})],r);case Zb:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return nw([Db(e,{props:[wb(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return nw([Db(e,{props:[wb(t,/:(plac\w+)/,":-webkit-input-$1")]}),Db(e,{props:[wb(t,/:(plac\w+)/,":-moz-$1")]}),Db(e,{props:[wb(t,/:(plac\w+)/,$b+"input-$1")]})],r)}return""}))}}],yw=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||vw;var i,o,a={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;u.push(e)}));var s,c,l=[rw,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=_b(e);return function(n,r,i,o){for(var a="",u=0;u<t;u++)a+=e[u](n,r,i,o)||"";return a}}([dw,pw].concat(r,l));o=function(e,t,n,r){s=n,function(e){nw(ow(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new vb({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return h.sheet.hydrate(u),h};var gw=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},mw={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bw=/[A-Z]|^ms/g,ww=/_EMO_([^_]+?)_([^]*?)_EMO_/g,kw=function(e){return 45===e.charCodeAt(1)},xw=function(e){return null!=e&&"boolean"!==typeof e},Sw=hb((function(e){return kw(e)?e:e.replace(bw,"-$&").toLowerCase()})),Ew=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(ww,(function(e,t,n){return Iw={name:t,styles:n,next:Iw},t}))}return 1===mw[e]||kw(e)||"number"!==typeof t||0===t?t:t+"px"};function _w(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Iw={name:n.name,styles:n.styles,next:Iw},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Iw={name:r.name,styles:r.styles,next:Iw},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=_w(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":xw(a)&&(r+=Sw(o)+":"+Ew(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var u=_w(e,t,a);switch(o){case"animation":case"animationName":r+=Sw(o)+":"+u+";";break;default:r+=o+"{"+u+"}"}}else for(var s=0;s<a.length;s++)xw(a[s])&&(r+=Sw(o)+":"+Ew(o,a[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Iw,o=n(e);return Iw=i,_w(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var Iw,Tw=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Cw=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Iw=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=_w(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=_w(n,t,e[a]),r&&(i+=o[a]);Tw.lastIndex=0;for(var u,s="";null!==(u=Tw.exec(i));)s+="-"+u[1];return{name:gw(i)+s,styles:i,next:Iw}},Aw=(0,t.createContext)("undefined"!==typeof HTMLElement?yw({key:"css"}):null);Aw.Provider;var Rw=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Aw);return e(n,i,r)}))},Ow=(0,t.createContext)({});r.useInsertionEffect&&r.useInsertionEffect;function Pw(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Nw=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Dw=pb,Mw=function(e){return"theme"!==e},Lw=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Dw:Mw},Fw=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Bw=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};var jw=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Nw(t,n,r);var i;i=function(){return function(e,t,n){Nw(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)},Bw(i);return null},Vw=function e(n,r){var i,o,a=n.__emotion_real===n,u=a&&n.__emotion_base||n;void 0!==r&&(i=r.label,o=r.target);var s=Fw(n,r,a),c=s||Lw(u),l=!c("as");return function(){var f=arguments,h=a&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var d=f.length,p=1;p<d;p++)h.push(f[p],f[0][p])}var v=Rw((function(e,n,r){var i=l&&e.as||u,a="",f=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=(0,t.useContext)(Ow)}"string"===typeof e.className?a=Pw(n.registered,f,e.className):null!=e.className&&(a=e.className+" ");var v=Cw(h.concat(f),n.registered,d);a+=n.key+"-"+v.name,void 0!==o&&(a+=" "+o);var y=l&&void 0===s?Lw(i):c,g={};for(var m in e)l&&"as"===m||y(m)&&(g[m]=e[m]);return g.className=a,g.ref=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(jw,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,t.createElement)(i,g))}));return v.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",v.defaultProps=n.defaultProps,v.__emotion_real=v,v.__emotion_base=u,v.__emotion_styles=h,v.__emotion_forwardProp=s,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(t,n){return e(t,fb({},r,n,{shouldForwardProp:Fw(v,n,!0)})).apply(void 0,h)},v}},Uw=Vw.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Uw[e]=Uw(e)}));var zw=Uw;function qw(e,t){return zw(e,t)}function Gw(){return Gw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gw.apply(this,arguments)}function Ww(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function Hw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?Gw({},e):e;return Ww(e)&&Ww(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Ww(t[i])&&i in e&&Ww(e[i])?r[i]=Hw(e[i],t[i],n):r[i]=t[i])})),r}var Kw=function(e,t){return t?Hw(e,t,{clone:!1}):e};function Qw(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function $w(e){if("string"!==typeof e)throw new Error(Qw(7));return e.charAt(0).toUpperCase()+e.slice(1)}var Yw={xs:0,sm:600,md:900,lg:1200,xl:1536},Xw={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Yw[e],"px)")}};function Jw(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||Xw;return t.reduce((function(e,r,o){return e[i.up(i.keys[o])]=n(t[o]),e}),{})}if("object"===typeof t){var o=r.breakpoints||Xw;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(o.values||Yw).indexOf(r)){e[o.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function Zw(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function ek(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function tk(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function nk(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:tk(e,n)||i,t&&(r=t(r)),r}var rk=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,o=e.transform,a=function(e){if(null==e[t])return null;var n=e[t],a=tk(e.theme,i)||{};return Jw(e,n,(function(e){var n=nk(a,o,e);return e===n&&"string"===typeof e&&(n=nk(a,o,"".concat(t).concat("default"===e?"":$w(e)),e)),!1===r?n:l({},r,n)}))};return a.propTypes={},a.filterProps=[t],a};var ik=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?Kw(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};var ok={m:"margin",p:"padding"},ak={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},uk={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},sk=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!uk[e])return[e];e=uk[e]}var t=u(e.split(""),2),n=t[0],r=t[1],i=ok[n],o=ak[r]||"";return Array.isArray(o)?o.map((function(e){return i+e})):[i+o]})),ck=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],lk=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],fk=[].concat(ck,lk);function hk(e,t,n,r){var i=tk(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function dk(e){return hk(e,"spacing",8)}function pk(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function vk(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=pk(t,n),e}),{})}}(sk(n),r);return Jw(e,e[n],i)}function yk(e,t){var n=dk(e.theme);return Object.keys(e).map((function(r){return vk(e,t,r,n)})).reduce(Kw,{})}function gk(e){return yk(e,ck)}function mk(e){return yk(e,lk)}function bk(e){return yk(e,fk)}gk.propTypes={},gk.filterProps=ck,mk.propTypes={},mk.filterProps=lk,bk.propTypes={},bk.filterProps=fk;var wk=bk;function kk(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var xk=rk({prop:"border",themeKey:"borders",transform:kk}),Sk=rk({prop:"borderTop",themeKey:"borders",transform:kk}),Ek=rk({prop:"borderRight",themeKey:"borders",transform:kk}),_k=rk({prop:"borderBottom",themeKey:"borders",transform:kk}),Ik=rk({prop:"borderLeft",themeKey:"borders",transform:kk}),Tk=rk({prop:"borderColor",themeKey:"palette"}),Ck=rk({prop:"borderTopColor",themeKey:"palette"}),Ak=rk({prop:"borderRightColor",themeKey:"palette"}),Rk=rk({prop:"borderBottomColor",themeKey:"palette"}),Ok=rk({prop:"borderLeftColor",themeKey:"palette"}),Pk=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=hk(e.theme,"shape.borderRadius",4);return Jw(e,e.borderRadius,(function(e){return{borderRadius:pk(t,e)}}))}return null};Pk.propTypes={},Pk.filterProps=["borderRadius"];var Nk=ik(xk,Sk,Ek,_k,Ik,Tk,Ck,Ak,Rk,Ok,Pk),Dk=ik(rk({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),rk({prop:"display"}),rk({prop:"overflow"}),rk({prop:"textOverflow"}),rk({prop:"visibility"}),rk({prop:"whiteSpace"})),Mk=ik(rk({prop:"flexBasis"}),rk({prop:"flexDirection"}),rk({prop:"flexWrap"}),rk({prop:"justifyContent"}),rk({prop:"alignItems"}),rk({prop:"alignContent"}),rk({prop:"order"}),rk({prop:"flex"}),rk({prop:"flexGrow"}),rk({prop:"flexShrink"}),rk({prop:"alignSelf"}),rk({prop:"justifyItems"}),rk({prop:"justifySelf"})),Lk=function(e){if(void 0!==e.gap&&null!==e.gap){var t=hk(e.theme,"spacing",8);return Jw(e,e.gap,(function(e){return{gap:pk(t,e)}}))}return null};Lk.propTypes={},Lk.filterProps=["gap"];var Fk=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=hk(e.theme,"spacing",8);return Jw(e,e.columnGap,(function(e){return{columnGap:pk(t,e)}}))}return null};Fk.propTypes={},Fk.filterProps=["columnGap"];var Bk=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=hk(e.theme,"spacing",8);return Jw(e,e.rowGap,(function(e){return{rowGap:pk(t,e)}}))}return null};Bk.propTypes={},Bk.filterProps=["rowGap"];var jk=ik(Lk,Fk,Bk,rk({prop:"gridColumn"}),rk({prop:"gridRow"}),rk({prop:"gridAutoFlow"}),rk({prop:"gridAutoColumns"}),rk({prop:"gridAutoRows"}),rk({prop:"gridTemplateColumns"}),rk({prop:"gridTemplateRows"}),rk({prop:"gridTemplateAreas"}),rk({prop:"gridArea"})),Vk=ik(rk({prop:"position"}),rk({prop:"zIndex",themeKey:"zIndex"}),rk({prop:"top"}),rk({prop:"right"}),rk({prop:"bottom"}),rk({prop:"left"})),Uk=ik(rk({prop:"color",themeKey:"palette"}),rk({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),rk({prop:"backgroundColor",themeKey:"palette"})),zk=rk({prop:"boxShadow",themeKey:"shadows"});function qk(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var Gk=rk({prop:"width",transform:qk}),Wk=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return Jw(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||Yw[t]||qk(t)}}))}return null};Wk.filterProps=["maxWidth"];var Hk=rk({prop:"minWidth",transform:qk}),Kk=rk({prop:"height",transform:qk}),Qk=rk({prop:"maxHeight",transform:qk}),$k=rk({prop:"minHeight",transform:qk}),Yk=(rk({prop:"size",cssProperty:"width",transform:qk}),rk({prop:"size",cssProperty:"height",transform:qk}),ik(Gk,Wk,Hk,Kk,Qk,$k,rk({prop:"boxSizing"}))),Xk=rk({prop:"fontFamily",themeKey:"typography"}),Jk=rk({prop:"fontSize",themeKey:"typography"}),Zk=rk({prop:"fontStyle",themeKey:"typography"}),ex=rk({prop:"fontWeight",themeKey:"typography"}),tx=rk({prop:"letterSpacing"}),nx=rk({prop:"textTransform"}),rx=rk({prop:"lineHeight"}),ix=rk({prop:"textAlign"}),ox=ik(rk({prop:"typography",cssProperty:!1,themeKey:"typography"}),Xk,Jk,Zk,ex,tx,rx,ix,nx),ax={borders:Nk.filterProps,display:Dk.filterProps,flexbox:Mk.filterProps,grid:jk.filterProps,positions:Vk.filterProps,palette:Uk.filterProps,shadows:zk.filterProps,sizing:Yk.filterProps,spacing:wk.filterProps,typography:ox.filterProps},ux={borders:Nk,display:Dk,flexbox:Mk,grid:jk,positions:Vk,palette:Uk,shadows:zk,sizing:Yk,spacing:wk,typography:ox},sx=Object.keys(ax).reduce((function(e,t){return ax[t].forEach((function(n){e[n]=ux[t]})),e}),{});function cx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function lx(e,t){return"function"===typeof e?e(t):e}var fx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ux,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,o=(l(i={},e,n),l(i,"theme",r),i),a=t[e];return a?a(o):l({},e,n)}function r(e){var i=e||{},o=i.sx,a=i.theme,u=void 0===a?{}:a;if(!o)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var o=Zw(u.breakpoints),a=Object.keys(o),s=o;return Object.keys(i).forEach((function(e){var o=lx(i[e],u);if(null!==o&&void 0!==o)if("object"===typeof o)if(t[e])s=Kw(s,n(e,o,u));else{var a=Jw({theme:u},o,(function(t){return l({},e,t)}));cx(a,o)?s[e]=r({sx:o,theme:u}):s=Kw(s,a)}else s=Kw(s,n(e,o,u))})),ek(a,s)}return Array.isArray(o)?o.map(s):s(o)}return r}();fx.filterProps=["sx"];var hx=fx,dx=["sx"];function px(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){sx[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}(sb(e,dx)),i=r.systemProps,o=r.otherProps;return t=Array.isArray(n)?[i].concat(J(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return Ww(e)?ub({},i,e):i}:ub({},i,n),ub({},o,{sx:t})}var vx=["values","unit","step"];function yx(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,o=e.step,a=void 0===o?5:o,u=sb(e,vx),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return ub({},e,l({},t.key,t.val))}),{})}(n),c=Object.keys(s);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-a/100).concat(i,")")}function d(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-a/100).concat(i,")")}return ub({keys:c,values:s,up:f,down:h,between:d,only:function(e){return c.indexOf(e)+1<c.length?d(e,c[c.indexOf(e)+1]):f(e)},not:function(e){var t=c.indexOf(e);return 0===t?f(c[1]):t===c.length-1?h(c[t]):d(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var gx={borderRadius:4};function mx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=dk({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var bx=["breakpoints","palette","spacing","shape"];var wx=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.spacing,a=e.shape,u=void 0===a?{}:a,s=sb(e,bx),c=yx(n),l=mx(o),f=Hw({breakpoints:c,direction:"ltr",components:{},palette:ub({mode:"light"},i),spacing:l,shape:ub({},gx,u)},s),h=arguments.length,d=new Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];return f=d.reduce((function(e,t){return Hw(e,t)}),f)};var kx=t.createContext(null);function xx(){return t.useContext(kx)}function Sx(e){return 0===Object.keys(e).length}var Ex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=xx();return!t||Sx(t)?e:t},_x=wx();var Ix=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_x;return Ex(e)},Tx=["className","component"];var Cx=function(e){return e},Ax=function(){var e=Cx;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=Cx}}}();function Rx(){return Rx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rx.apply(this,arguments)}function Ox(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Px(e,t,n){var r;return Rx({toolbar:(r={minHeight:56},l(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),l(r,e.up("sm"),{minHeight:64}),r)},n)}function Nx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Dx(e){if(e.type)return e;if("#"===e.charAt(0))return Dx(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Qw(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(Qw(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function Mx(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Lx(e){var t="hsl"===(e=Dx(e)).type?Dx(function(e){var t=(e=Dx(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Mx({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Fx(e,t){if(e=Dx(e),t=Nx(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Mx(e)}function Bx(e,t){if(e=Dx(e),t=Nx(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Mx(e)}var jx={black:"#000",white:"#fff"},Vx={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ux={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},zx={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},qx={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Gx={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Wx={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Hx={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Kx=["mode","contrastThreshold","tonalOffset"],Qx={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:jx.white,default:jx.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},$x={text:{primary:jx.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:jx.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Yx(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Bx(e.main,i):"dark"===t&&(e.dark=Fx(e.main,o)))}function Xx(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,o=e.tonalOffset,a=void 0===o?.2:o,u=Ox(e,Kx),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Gx[200],light:Gx[50],dark:Gx[400]}:{main:Gx[700],light:Gx[400],dark:Gx[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ux[200],light:Ux[50],dark:Ux[400]}:{main:Ux[500],light:Ux[300],dark:Ux[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:zx[500],light:zx[300],dark:zx[700]}:{main:zx[700],light:zx[400],dark:zx[800]}}(n),f=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Wx[400],light:Wx[300],dark:Wx[700]}:{main:Wx[700],light:Wx[500],dark:Wx[900]}}(n),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Hx[400],light:Hx[300],dark:Hx[700]}:{main:Hx[800],light:Hx[500],dark:Hx[900]}}(n),d=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:qx[400],light:qx[300],dark:qx[700]}:{main:"#ed6c02",light:qx[500],dark:qx[900]}}(n);function p(e){var t=function(e,t){var n=Lx(e),r=Lx(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,$x.text.primary)>=i?$x.text.primary:Qx.text.primary;return t}var v=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,u=void 0===o?300:o,s=e.darkShade,c=void 0===s?700:s;if(!(t=Rx({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Qw(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(Qw(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Yx(t,"light",u,a),Yx(t,"dark",c,a),t.contrastText||(t.contrastText=p(t.main)),t},y={dark:$x,light:Qx};return Hw(Rx({common:jx,mode:n,primary:v({color:s,name:"primary"}),secondary:v({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:d,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:h,name:"success"}),grey:Vx,contrastThreshold:i,getContrastText:p,augmentColor:v,tonalOffset:a},y[n]),u)}var Jx=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var Zx={textTransform:"uppercase"},eS='"Roboto", "Helvetica", "Arial", sans-serif';function tS(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?eS:r,o=n.fontSize,a=void 0===o?14:o,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,h=void 0===f?500:f,d=n.fontWeightBold,p=void 0===d?700:d,v=n.htmlFontSize,y=void 0===v?16:v,g=n.allVariants,m=n.pxToRem,b=Ox(n,Jx);var w=a/14,k=m||function(e){return"".concat(e/y*w,"rem")},x=function(e,t,n,r,o){return Rx({fontFamily:i,fontWeight:e,fontSize:k(t),lineHeight:n},i===eS?{letterSpacing:"".concat((a=r/t,Math.round(1e5*a)/1e5),"em")}:{},o,g);var a},S={h1:x(s,96,1.167,-1.5),h2:x(s,60,1.2,-.5),h3:x(l,48,1.167,0),h4:x(l,34,1.235,.25),h5:x(l,24,1.334,0),h6:x(h,20,1.6,.15),subtitle1:x(l,16,1.75,.15),subtitle2:x(h,14,1.57,.1),body1:x(l,16,1.5,.15),body2:x(l,14,1.43,.15),button:x(h,14,1.75,.4,Zx),caption:x(l,12,1.66,.4),overline:x(l,12,2.66,1,Zx)};return Hw(Rx({htmlFontSize:y,pxToRem:k,fontFamily:i,fontSize:a,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:p},S),b,{clone:!1})}function nS(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var rS=["none",nS(0,2,1,-1,0,1,1,0,0,1,3,0),nS(0,3,1,-2,0,2,2,0,0,1,5,0),nS(0,3,3,-2,0,3,4,0,0,1,8,0),nS(0,2,4,-1,0,4,5,0,0,1,10,0),nS(0,3,5,-1,0,5,8,0,0,1,14,0),nS(0,3,5,-1,0,6,10,0,0,1,18,0),nS(0,4,5,-2,0,7,10,1,0,2,16,1),nS(0,5,5,-3,0,8,10,1,0,3,14,2),nS(0,5,6,-3,0,9,12,1,0,3,16,2),nS(0,6,6,-3,0,10,14,1,0,4,18,3),nS(0,6,7,-4,0,11,15,1,0,4,20,3),nS(0,7,8,-4,0,12,17,2,0,5,22,4),nS(0,7,8,-4,0,13,19,2,0,5,24,4),nS(0,7,9,-4,0,14,21,2,0,5,26,4),nS(0,8,9,-5,0,15,22,2,0,6,28,5),nS(0,8,10,-5,0,16,24,2,0,6,30,5),nS(0,8,11,-5,0,17,26,2,0,6,32,5),nS(0,9,11,-5,0,18,28,2,0,7,34,6),nS(0,9,12,-6,0,19,29,2,0,7,36,6),nS(0,10,13,-6,0,20,31,3,0,8,38,7),nS(0,10,13,-6,0,21,33,3,0,8,40,7),nS(0,10,14,-6,0,22,35,3,0,8,42,7),nS(0,11,14,-7,0,23,36,3,0,9,44,8),nS(0,11,15,-7,0,24,38,3,0,9,46,8)],iS=["duration","easing","delay"],oS={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},aS={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function uS(e){return"".concat(Math.round(e),"ms")}function sS(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function cS(e){var t=Rx({},oS,e.easing),n=Rx({},aS,e.duration);return Rx({getAutoHeightDuration:sS,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,o=void 0===i?n.standard:i,a=r.easing,u=void 0===a?t.easeInOut:a,s=r.delay,c=void 0===s?0:s;Ox(r,iS);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:uS(o)," ").concat(u," ").concat("string"===typeof c?c:uS(c))})).join(",")}},e,{easing:t,duration:n})}var lS={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},fS=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function hS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.transitions,a=void 0===o?{}:o,u=e.typography,s=void 0===u?{}:u,c=Ox(e,fS),l=Xx(i),f=wx(e),h=Hw(f,{mixins:Px(f.breakpoints,f.spacing,n),palette:l,shadows:rS.slice(),typography:tS(l,s),transitions:cS(a),zIndex:Rx({},lS)});h=Hw(h,c);for(var d=arguments.length,p=new Array(d>1?d-1:0),v=1;v<d;v++)p[v-1]=arguments[v];return h=p.reduce((function(e,t){return Hw(e,t)}),h)}var dS=hS,pS=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.defaultTheme,r=e.defaultClassName,i=void 0===r?"MuiBox-root":r,o=e.generateClassName,a=e.styleFunctionSx,u=void 0===a?hx:a,c=qw("div")(u),l=t.forwardRef((function(e,t){var r=Ix(n),a=px(e),u=a.className,l=a.component,f=void 0===l?"div":l,h=sb(a,Tx);return(0,s.jsx)(c,ub({as:f,ref:t,className:lb(u,o?o(i):i),theme:r},h))}));return l}({defaultTheme:dS(),defaultClassName:"MuiBox-root",generateClassName:Ax.generate}),vS=pS;function yS(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}var gS=["variant"];function mS(e){return 0===e.length}function bS(e){var t=e.variant,n=sb(e,gS),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?mS(r)?e[t]:$w(e[t]):"".concat(mS(r)?t:$w(t)).concat($w(e[t].toString()))})),r}var wS=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],kS=["theme"],xS=["theme"];function SS(e){return 0===Object.keys(e).length}var ES=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},_S=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=bS(e.props);r[t]=e.style})),r},IS=function(e,t,n,r){var i,o,a=e.ownerState,u=void 0===a?{}:a,s=[],c=null==n||null==(i=n.components)||null==(o=i[r])?void 0:o.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[bS(n.props)])})),s};function TS(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var CS=wx();var AS=dS(),RS=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?CS:t,r=e.rootShouldForwardProp,i=void 0===r?TS:r,o=e.slotShouldForwardProp,a=void 0===o?TS:o,s=e.styleFunctionSx,c=void 0===s?hx:s;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.name,s=r.slot,l=r.skipVariantsResolver,f=r.skipSx,h=r.overridesResolver,d=sb(r,wS),p=void 0!==l?l:s&&"Root"!==s||!1,v=f||!1;var y=TS;"Root"===s?y=i:s&&(y=a);var g=qw(e,ub({shouldForwardProp:y,label:t},d)),m=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var a=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=sb(t,kS);return e(ub({theme:SS(r)?n:r},i))}:e})):[],s=e;o&&h&&a.push((function(e){var t=SS(e.theme)?n:e.theme,r=ES(o,t);if(r){var i={};return Object.entries(r).forEach((function(t){var n=u(t,2),r=n[0],o=n[1];i[r]="function"===typeof o?o(e):o})),h(e,i)}return null})),o&&!p&&a.push((function(e){var t=SS(e.theme)?n:e.theme;return IS(e,_S(o,t),t,o)})),v||a.push((function(e){var t=SS(e.theme)?n:e.theme;return c(ub({},e,{theme:t}))}));var l=a.length-r.length;if(Array.isArray(e)&&l>0){var f=new Array(l).fill("");(s=[].concat(J(e),J(f))).raw=[].concat(J(e.raw),J(f))}else"function"===typeof e&&e.__emotion_real!==e&&(s=function(t){var r=t.theme,i=sb(t,xS);return e(ub({theme:SS(r)?n:r},i))});var d=g.apply(void 0,[s].concat(J(a)));return d};return g.withConfig&&(m.withConfig=g.withConfig),m}}({defaultTheme:AS,rootShouldForwardProp:function(e){return TS(e)&&"classes"!==e}}),OS=RS;function PS(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?function(e,t){var n=Gw({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}(t.components[n].defaultProps,r):r}function NS(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return PS({theme:Ix(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:AS})}function DS(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var MS=function(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){DS(e,t),DS(n,t)}}),[e,n])},LS="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;var FS,BS=function(e){var n=t.useRef(e);return LS((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])},jS=!0,VS=!1,US={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function zS(e){e.metaKey||e.altKey||e.ctrlKey||(jS=!0)}function qS(){jS=!1}function GS(){"hidden"===this.visibilityState&&VS&&(jS=!0)}function WS(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return jS||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!US[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var HS=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",zS,!0),t.addEventListener("mousedown",qS,!0),t.addEventListener("pointerdown",qS,!0),t.addEventListener("touchstart",qS,!0),t.addEventListener("visibilitychange",GS,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!WS(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(VS=!0,window.clearTimeout(FS),FS=window.setTimeout((function(){VS=!1}),100),n.current=!1,!0)},ref:e}};function KS(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function QS(){return QS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QS.apply(this,arguments)}function $S(e,t){return $S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$S(e,t)}var YS=t.createContext(null);function XS(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function JS(e,t,n){return null!=n[t]?n[t]:e.props[t]}function ZS(e,n,r){var i=XS(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<o.length;r++)u[o[r]]=n(o[r]);return u}(n,i);return Object.keys(o).forEach((function(a){var u=o[a];if((0,t.isValidElement)(u)){var s=a in n,c=a in i,l=n[a],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(o[a]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:JS(u,"exit",e),enter:JS(u,"enter",e)})):o[a]=(0,t.cloneElement)(u,{in:!1}):o[a]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:JS(u,"exit",e),enter:JS(u,"enter",e)})}})),o}var eE=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},tE=function(e){var n,r;function i(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,$S(n,r);var o=i.prototype;return o.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},o.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,n){var r,i,o=n.children,a=n.handleExited;return{children:n.firstRender?(r=e,i=a,XS(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:JS(e,"appear",r),enter:JS(e,"enter",r),exit:JS(e,"exit",r)})}))):ZS(e,o,a),firstRender:!1}},o.handleExited=function(e,t){var n=XS(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=QS({},t.children);return delete n[e.key],{children:n}})))},o.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["component","childFactory"]),o=this.state.contextValue,a=eE(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(YS.Provider,{value:o},a):t.createElement(YS.Provider,{value:o},t.createElement(n,i,a))},i}(t.Component);tE.propTypes={},tE.defaultProps={component:"div",childFactory:function(e){return e}};var nE=tE;n(110),r.useInsertionEffect?r.useInsertionEffect:t.useLayoutEffect;function rE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Cw(t)}var iE=function(){var e=rE.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var oE=function(e){var n=e.className,r=e.classes,i=e.pulsate,o=void 0!==i&&i,a=e.rippleX,c=e.rippleY,l=e.rippleSize,f=e.in,h=e.onExited,d=e.timeout,p=u(t.useState(!1),2),v=p[0],y=p[1],g=lb(n,r.ripple,r.rippleVisible,o&&r.ripplePulsate),m={width:l,height:l,top:-l/2+c,left:-l/2+a},b=lb(r.child,v&&r.childLeaving,o&&r.childPulsate);return f||v||y(!0),t.useEffect((function(){if(!f&&null!=h){var e=setTimeout(h,d);return function(){clearTimeout(e)}}}),[h,f,d]),(0,s.jsx)("span",{className:g,style:m,children:(0,s.jsx)("span",{className:b})})},aE={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function uE(e,t){return aE[t]||"".concat(Ax.generate(e),"-").concat(t)}function sE(e,t){var n={};return t.forEach((function(t){n[t]=uE(e,t)})),n}var cE,lE,fE,hE,dE,pE,vE,yE,gE=sE("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),mE=["center","classes","className"],bE=iE(dE||(dE=cE||(cE=KS(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),wE=iE(pE||(pE=lE||(lE=KS(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),kE=iE(vE||(vE=fE||(fE=KS(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),xE=OS("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),SE=OS(oE,{name:"MuiTouchRipple",slot:"Ripple"})(yE||(yE=hE||(hE=KS(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),gE.rippleVisible,bE,550,(function(e){return e.theme.transitions.easing.easeInOut}),gE.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),gE.child,gE.childLeaving,wE,550,(function(e){return e.theme.transitions.easing.easeInOut}),gE.childPulsate,kE,(function(e){return e.theme.transitions.easing.easeInOut})),EE=t.forwardRef((function(e,n){var r=NS({props:e,name:"MuiTouchRipple"}),i=r.center,o=void 0!==i&&i,a=r.classes,c=void 0===a?{}:a,l=r.className,f=Ox(r,mE),h=u(t.useState([]),2),d=h[0],p=h[1],v=t.useRef(0),y=t.useRef(null);t.useEffect((function(){y.current&&(y.current(),y.current=null)}),[d]);var g=t.useRef(!1),m=t.useRef(null),b=t.useRef(null),w=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(m.current)}}),[]);var k=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,o=e.cb;p((function(e){return[].concat(J(e),[(0,s.jsx)(SE,{classes:{ripple:lb(c.ripple,gE.ripple),rippleVisible:lb(c.rippleVisible,gE.rippleVisible),ripplePulsate:lb(c.ripplePulsate,gE.ripplePulsate),child:lb(c.child,gE.child),childLeaving:lb(c.childLeaving,gE.childLeaving),childPulsate:lb(c.childPulsate,gE.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},v.current)])})),v.current+=1,y.current=o}),[c]),x=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,a=t.center,u=void 0===a?o||t.pulsate:a,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&g.current)g.current=!1;else{"touchstart"===e.type&&(g.current=!0);var l,f,h,d=c?null:w.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,y=v.clientX,x=v.clientY;l=Math.round(y-p.left),f=Math.round(x-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var S=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,E=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(S,2)+Math.pow(E,2))}e.touches?null===b.current&&(b.current=function(){k({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},m.current=setTimeout((function(){b.current&&(b.current(),b.current=null)}),80)):k({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[o,k]),S=t.useCallback((function(){x({},{pulsate:!0})}),[x]),E=t.useCallback((function(e,t){if(clearTimeout(m.current),"touchend"===e.type&&b.current)return b.current(),b.current=null,void(m.current=setTimeout((function(){E(e,t)})));b.current=null,p((function(e){return e.length>0?e.slice(1):e})),y.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:S,start:x,stop:E}}),[S,x,E]),(0,s.jsx)(xE,Rx({className:lb(c.root,gE.root,l),ref:w},f,{children:(0,s.jsx)(nE,{component:null,exit:!0,children:d})}))})),_E=EE;function IE(e){return uE("MuiButtonBase",e)}var TE,CE=sE("MuiButtonBase",["root","disabled","focusVisible"]),AE=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],RE=OS("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((l(TE={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(CE.disabled),{pointerEvents:"none",cursor:"default"}),l(TE,"@media print",{colorAdjust:"exact"}),TE)),OE=t.forwardRef((function(e,n){var r=NS({props:e,name:"MuiButtonBase"}),i=r.action,o=r.centerRipple,a=void 0!==o&&o,c=r.children,l=r.className,f=r.component,h=void 0===f?"button":f,d=r.disabled,p=void 0!==d&&d,v=r.disableRipple,y=void 0!==v&&v,g=r.disableTouchRipple,m=void 0!==g&&g,b=r.focusRipple,w=void 0!==b&&b,k=r.LinkComponent,x=void 0===k?"a":k,S=r.onBlur,E=r.onClick,_=r.onContextMenu,I=r.onDragLeave,T=r.onFocus,C=r.onFocusVisible,A=r.onKeyDown,R=r.onKeyUp,O=r.onMouseDown,P=r.onMouseLeave,N=r.onMouseUp,D=r.onTouchEnd,M=r.onTouchMove,L=r.onTouchStart,F=r.tabIndex,B=void 0===F?0:F,j=r.TouchRippleProps,V=r.touchRippleRef,U=r.type,z=Ox(r,AE),q=t.useRef(null),G=t.useRef(null),W=MS(G,V),H=HS(),K=H.isFocusVisibleRef,Q=H.onFocus,$=H.onBlur,Y=H.ref,X=u(t.useState(!1),2),J=X[0],Z=X[1];p&&J&&Z(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){Z(!0),q.current.focus()}}}),[]);var ee=u(t.useState(!1),2),te=ee[0],ne=ee[1];t.useEffect((function(){ne(!0)}),[]);var re=te&&!y&&!p;function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;return BS((function(r){return t&&t(r),!n&&G.current&&G.current[e](r),!0}))}t.useEffect((function(){J&&w&&!y&&te&&G.current.pulsate()}),[y,w,J,te]);var oe=ie("start",O),ae=ie("stop",_),ue=ie("stop",I),se=ie("stop",N),ce=ie("stop",(function(e){J&&e.preventDefault(),P&&P(e)})),le=ie("start",L),fe=ie("stop",D),he=ie("stop",M),de=ie("stop",(function(e){$(e),!1===K.current&&Z(!1),S&&S(e)}),!1),pe=BS((function(e){q.current||(q.current=e.currentTarget),Q(e),!0===K.current&&(Z(!0),C&&C(e)),T&&T(e)})),ve=function(){var e=q.current;return h&&"button"!==h&&!("A"===e.tagName&&e.href)},ye=t.useRef(!1),ge=BS((function(e){w&&!ye.current&&J&&G.current&&" "===e.key&&(ye.current=!0,G.current.stop(e,(function(){G.current.start(e)}))),e.target===e.currentTarget&&ve()&&" "===e.key&&e.preventDefault(),A&&A(e),e.target===e.currentTarget&&ve()&&"Enter"===e.key&&!p&&(e.preventDefault(),E&&E(e))})),me=BS((function(e){w&&" "===e.key&&G.current&&J&&!e.defaultPrevented&&(ye.current=!1,G.current.stop(e,(function(){G.current.pulsate(e)}))),R&&R(e),E&&e.target===e.currentTarget&&ve()&&" "===e.key&&!e.defaultPrevented&&E(e)})),be=h;"button"===be&&(z.href||z.to)&&(be=x);var we={};"button"===be?(we.type=void 0===U?"button":U,we.disabled=p):(z.href||z.to||(we.role="button"),p&&(we["aria-disabled"]=p));var ke=MS(Y,q),xe=MS(n,ke);var Se=Rx({},r,{centerRipple:a,component:h,disabled:p,disableRipple:y,disableTouchRipple:m,focusRipple:w,tabIndex:B,focusVisible:J}),Ee=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=yS({root:["root",t&&"disabled",n&&"focusVisible"]},IE,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Se);return(0,s.jsxs)(RE,Rx({as:be,className:lb(Ee.root,l),ownerState:Se,onBlur:de,onClick:E,onContextMenu:ae,onFocus:pe,onKeyDown:ge,onKeyUp:me,onMouseDown:oe,onMouseLeave:ce,onMouseUp:se,onDragLeave:ue,onTouchEnd:fe,onTouchMove:he,onTouchStart:le,ref:xe,tabIndex:p?-1:B,type:U},we,z,{children:[c,re?(0,s.jsx)(_E,Rx({ref:W,center:a},j)):null]}))})),PE=OE,NE=$w;function DE(e){return uE("MuiTab",e)}var ME=sE("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),LE=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],FE=OS(PE,{name:"MuiTab",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.label&&n.icon&&t.labelIcon,t["textColor".concat(NE(n.textColor))],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped]}})((function(e){var t,n,r,i=e.theme,o=e.ownerState;return Rx({},i.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},o.label&&{flexDirection:"top"===o.iconPosition||"bottom"===o.iconPosition?"column":"row"},{lineHeight:1.25},o.icon&&o.label&&l({minHeight:72,paddingTop:9,paddingBottom:9},"& > .".concat(ME.iconWrapper),Rx({},"top"===o.iconPosition&&{marginBottom:6},"bottom"===o.iconPosition&&{marginTop:6},"start"===o.iconPosition&&{marginRight:i.spacing(1)},"end"===o.iconPosition&&{marginLeft:i.spacing(1)})),"inherit"===o.textColor&&(l(t={color:"inherit",opacity:.6},"&.".concat(ME.selected),{opacity:1}),l(t,"&.".concat(ME.disabled),{opacity:i.palette.action.disabledOpacity}),t),"primary"===o.textColor&&(l(n={color:i.palette.text.secondary},"&.".concat(ME.selected),{color:i.palette.primary.main}),l(n,"&.".concat(ME.disabled),{color:i.palette.text.disabled}),n),"secondary"===o.textColor&&(l(r={color:i.palette.text.secondary},"&.".concat(ME.selected),{color:i.palette.secondary.main}),l(r,"&.".concat(ME.disabled),{color:i.palette.text.disabled}),r),o.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},o.wrapped&&{fontSize:i.typography.pxToRem(12)})})),BE=t.forwardRef((function(e,n){var r=NS({props:e,name:"MuiTab"}),i=r.className,o=r.disabled,a=void 0!==o&&o,u=r.disableFocusRipple,c=void 0!==u&&u,l=r.fullWidth,f=r.icon,h=r.iconPosition,d=void 0===h?"top":h,p=r.indicator,v=r.label,y=r.onChange,g=r.onClick,m=r.onFocus,b=r.selected,w=r.selectionFollowsFocus,k=r.textColor,x=void 0===k?"inherit":k,S=r.value,E=r.wrapped,_=void 0!==E&&E,I=Ox(r,LE),T=Rx({},r,{disabled:a,disableFocusRipple:c,selected:b,icon:!!f,iconPosition:d,label:!!v,fullWidth:l,textColor:x,wrapped:_}),C=function(e){var t=e.classes,n=e.textColor,r=e.fullWidth,i=e.wrapped,o=e.icon,a=e.label,u=e.selected,s=e.disabled;return yS({root:["root",o&&a&&"labelIcon","textColor".concat(NE(n)),r&&"fullWidth",i&&"wrapped",u&&"selected",s&&"disabled"],iconWrapper:["iconWrapper"]},DE,t)}(T),A=f&&v&&t.isValidElement(f)?t.cloneElement(f,{className:lb(C.iconWrapper,f.props.className)}):f;return(0,s.jsxs)(FE,Rx({focusRipple:!c,className:lb(C.root,i),ref:n,role:"tab","aria-selected":b,disabled:a,onClick:function(e){!b&&y&&y(e,S),g&&g(e)},onFocus:function(e){w&&!b&&y&&y(e,S),m&&m(e)},ownerState:T,tabIndex:b?0:-1},I,{children:["top"===d||"start"===d?(0,s.jsxs)(t.Fragment,{children:[A,v]}):(0,s.jsxs)(t.Fragment,{children:[v,A]}),p]}))})),jE=BE,VE=t.createContext(null);function UE(e){var n=e.children,r=e.value,i=function(){var e=u(t.useState(null),2),n=e[0],r=e[1];return t.useEffect((function(){r("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),n}(),o=t.useMemo((function(){return{idPrefix:i,value:r}}),[i,r]);return(0,s.jsx)(VE.Provider,{value:o,children:n})}function zE(){return t.useContext(VE)}function qE(e,t){return null===e.idPrefix?null:"".concat(e.idPrefix,"-P-").concat(t)}function GE(e,t){return null===e.idPrefix?null:"".concat(e.idPrefix,"-T-").concat(t)}function WE(){return WE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WE.apply(this,arguments)}function HE(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(441);function KE(){return Ix(AS)}var QE,$E=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var u=function(){e.apply(r,o)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r};function YE(){if(QE)return QE;var e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),QE="reverse",e.scrollLeft>0?QE="default":(e.scrollLeft=1,0===e.scrollLeft&&(QE="negative")),document.body.removeChild(e),QE}function XE(e,t){var n=e.scrollLeft;if("rtl"!==t)return n;switch(YE()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function JE(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function ZE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=r.ease,a=void 0===o?JE:o,u=r.duration,s=void 0===u?300:u,c=null,l=t[e],f=!1,h=function(){f=!0},d=function r(o){if(f)i(new Error("Animation cancelled"));else{null===c&&(c=o);var u=Math.min(1,(o-c)/s);t[e]=a(u)*(n-l)+l,u>=1?requestAnimationFrame((function(){i(null)})):requestAnimationFrame(r)}};return l===n?(i(new Error("Element already at target position")),h):(requestAnimationFrame(d),h)}function e_(e){return e&&e.ownerDocument||document}var t_=function(e){return e_(e).defaultView||window},n_=["onChange"],r_={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function i_(e){return uE("MuiSvgIcon",e)}sE("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var o_=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],a_=OS("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(NE(n.color))],t["fontSize".concat(NE(n.fontSize))]]}})((function(e){var t,n,r,i,o,a,u,s,c,l,f,h,d,p,v,y,g,m=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=m.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=m.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(o=m.typography)||null==(a=o.pxToRem)?void 0:a.call(o,20))||"1.25rem",medium:(null==(u=m.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=m.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[b.fontSize],color:null!=(f=null==(h=m.palette)||null==(d=h[b.color])?void 0:d.main)?f:{action:null==(p=m.palette)||null==(v=p.action)?void 0:v.active,disabled:null==(y=m.palette)||null==(g=y.action)?void 0:g.disabled,inherit:void 0}[b.color]}})),u_=t.forwardRef((function(e,t){var n=NS({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,o=n.color,a=void 0===o?"inherit":o,u=n.component,c=void 0===u?"svg":u,l=n.fontSize,f=void 0===l?"medium":l,h=n.htmlColor,d=n.inheritViewBox,p=void 0!==d&&d,v=n.titleAccess,y=n.viewBox,g=void 0===y?"0 0 24 24":y,m=Ox(n,o_),b=Rx({},n,{color:a,component:c,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:g}),w={};p||(w.viewBox=g);var k=function(e){var t=e.color,n=e.fontSize,r=e.classes;return yS({root:["root","inherit"!==t&&"color".concat(NE(t)),"fontSize".concat(NE(n))]},i_,r)}(b);return(0,s.jsxs)(a_,Rx({as:c,className:lb(k.root,i),ownerState:b,focusable:"false",color:h,"aria-hidden":!v||void 0,role:v?"img":void 0,ref:t},w,m,{children:[r,v?(0,s.jsx)("title",{children:v}):null]}))}));u_.muiName="SvgIcon";var s_=u_;function c_(e,n){var r=function(t,r){return(0,s.jsx)(s_,Rx({"data-testid":"".concat(n,"Icon"),ref:r},t,{children:e}))};return r.muiName=s_.muiName,t.memo(t.forwardRef(r))}var l_=c_((0,s.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),f_=c_((0,s.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function h_(e){return uE("MuiTabScrollButton",e)}var d_,p_,v_=sE("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),y_=["className","direction","orientation","disabled"],g_=OS(PE,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.orientation&&t[n.orientation]]}})((function(e){var t=e.ownerState;return Rx(l({width:40,flexShrink:0,opacity:.8},"&.".concat(v_.disabled),{opacity:0}),"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:"rotate(".concat(t.isRtl?-90:90,"deg)")}})})),m_=t.forwardRef((function(e,t){var n=NS({props:e,name:"MuiTabScrollButton"}),r=n.className,i=n.direction,o=Ox(n,y_),a=Rx({isRtl:"rtl"===KE().direction},n),u=function(e){var t=e.classes;return yS({root:["root",e.orientation,e.disabled&&"disabled"]},h_,t)}(a);return(0,s.jsx)(g_,Rx({component:"div",className:lb(u.root,r),ref:t,role:null,ownerState:a,tabIndex:null},o,{children:"left"===i?d_||(d_=(0,s.jsx)(l_,{fontSize:"small"})):p_||(p_=(0,s.jsx)(f_,{fontSize:"small"}))}))}));function b_(e){return uE("MuiTabs",e)}var w_=sE("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),k_=e_,x_=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],S_=function(e,t){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild},E_=function(e,t){return e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild},__=function(e,t,n){for(var r=!1,i=n(e,t);i;){if(i===e.firstChild){if(r)return;r=!0}var o=i.disabled||"true"===i.getAttribute("aria-disabled");if(i.hasAttribute("tabindex")&&!o)return void i.focus();i=n(e,i)}},I_=OS("div",{name:"MuiTabs",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[l({},"& .".concat(w_.scrollButtons),t.scrollButtons),l({},"& .".concat(w_.scrollButtons),n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile),t.root,n.vertical&&t.vertical]}})((function(e){var t=e.ownerState,n=e.theme;return Rx({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&l({},"& .".concat(w_.scrollButtons),l({},n.breakpoints.down("sm"),{display:"none"})))})),T_=OS("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:function(e,t){var n=e.ownerState;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})((function(e){var t=e.ownerState;return Rx({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),C_=OS("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:function(e,t){var n=e.ownerState;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})((function(e){var t=e.ownerState;return Rx({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})})),A_=OS("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:function(e,t){return t.indicator}})((function(e){var t=e.ownerState,n=e.theme;return Rx({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:n.palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:n.palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})})),R_=OS((function(e){var n=e.onChange,r=Ox(e,n_),i=t.useRef(),o=t.useRef(null),a=function(){i.current=o.current.offsetHeight-o.current.clientHeight};return t.useEffect((function(){var e=$E((function(){var e=i.current;a(),e!==i.current&&n(i.current)})),t=t_(o.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}),[n]),t.useEffect((function(){a(),n(i.current)}),[n]),(0,s.jsx)("div",Rx({style:r_,ref:o},r))}),{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),O_={},P_=t.forwardRef((function(e,n){var r=NS({props:e,name:"MuiTabs"}),i=KE(),o="rtl"===i.direction,a=r["aria-label"],c=r["aria-labelledby"],f=r.action,h=r.centered,d=void 0!==h&&h,p=r.children,v=r.className,y=r.component,g=void 0===y?"div":y,m=r.allowScrollButtonsMobile,b=void 0!==m&&m,w=r.indicatorColor,k=void 0===w?"primary":w,x=r.onChange,S=r.orientation,E=void 0===S?"horizontal":S,_=r.ScrollButtonComponent,I=void 0===_?m_:_,T=r.scrollButtons,C=void 0===T?"auto":T,A=r.selectionFollowsFocus,R=r.TabIndicatorProps,O=void 0===R?{}:R,P=r.TabScrollButtonProps,N=void 0===P?{}:P,D=r.textColor,M=void 0===D?"primary":D,L=r.value,F=r.variant,B=void 0===F?"standard":F,j=r.visibleScrollbar,V=void 0!==j&&j,U=Ox(r,x_),z="scrollable"===B,q="vertical"===E,G=q?"scrollTop":"scrollLeft",W=q?"top":"left",H=q?"bottom":"right",K=q?"clientHeight":"clientWidth",Q=q?"height":"width",$=Rx({},r,{component:g,allowScrollButtonsMobile:b,indicatorColor:k,orientation:E,vertical:q,scrollButtons:C,textColor:M,variant:B,visibleScrollbar:V,fixed:!z,hideScrollbar:z&&!V,scrollableX:z&&!q,scrollableY:z&&q,centered:d&&!z,scrollButtonsHideMobile:!b}),Y=function(e){var t=e.vertical,n=e.fixed,r=e.hideScrollbar,i=e.scrollableX;return yS({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",e.scrollableY&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",e.centered&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",e.scrollButtonsHideMobile&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},b_,e.classes)}($);var X=u(t.useState(!1),2),J=X[0],Z=X[1],ee=u(t.useState(O_),2),te=ee[0],ne=ee[1],re=u(t.useState({start:!1,end:!1}),2),ie=re[0],oe=re[1],ae=u(t.useState({overflow:"hidden",scrollbarWidth:0}),2),ue=ae[0],se=ae[1],ce=new Map,le=t.useRef(null),fe=t.useRef(null),he=function(){var e,t,n=le.current;if(n){var r=n.getBoundingClientRect();e={clientWidth:n.clientWidth,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollLeftNormalized:XE(n,i.direction),scrollWidth:n.scrollWidth,top:r.top,bottom:r.bottom,left:r.left,right:r.right}}if(n&&!1!==L){var o=fe.current.children;if(o.length>0){var a=o[ce.get(L)];0,t=a?a.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},de=BS((function(){var e,t,n=he(),r=n.tabsMeta,i=n.tabMeta,a=0;if(q)t="top",i&&r&&(a=i.top-r.top+r.scrollTop);else if(t=o?"right":"left",i&&r){var u=o?r.scrollLeftNormalized+r.clientWidth-r.scrollWidth:r.scrollLeft;a=(o?-1:1)*(i[t]-r[t]+u)}var s=(l(e={},t,a),l(e,Q,i?i[Q]:0),e);if(isNaN(te[t])||isNaN(te[Q]))ne(s);else{var c=Math.abs(te[t]-s[t]),f=Math.abs(te[Q]-s[Q]);(c>=1||f>=1)&&ne(s)}})),pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.animation,r=void 0===n||n;r?ZE(G,le.current,e,{duration:i.transitions.duration.standard}):le.current[G]=e},ve=function(e){var t=le.current[G];q?t+=e:(t+=e*(o?-1:1),t*=o&&"reverse"===YE()?-1:1),pe(t)},ye=function(){for(var e=le.current[K],t=0,n=Array.from(fe.current.children),r=0;r<n.length;r+=1){var i=n[r];if(t+i[K]>e)break;t+=i[K]}return t},ge=function(){ve(-1*ye())},me=function(){ve(ye())},be=t.useCallback((function(e){se({overflow:null,scrollbarWidth:e})}),[]),we=BS((function(e){var t=he(),n=t.tabsMeta,r=t.tabMeta;if(r&&n)if(r[W]<n[W]){var i=n[G]+(r[W]-n[W]);pe(i,{animation:e})}else if(r[H]>n[H]){var o=n[G]+(r[H]-n[H]);pe(o,{animation:e})}})),ke=BS((function(){if(z&&!1!==C){var e,t,n=le.current,r=n.scrollTop,a=n.scrollHeight,u=n.clientHeight,s=n.scrollWidth,c=n.clientWidth;if(q)e=r>1,t=r<a-u-1;else{var l=XE(le.current,i.direction);e=o?l<s-c-1:l>1,t=o?l>1:l<s-c-1}e===ie.start&&t===ie.end||oe({start:e,end:t})}}));t.useEffect((function(){var e,t=$E((function(){de(),ke()})),n=t_(le.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t),Array.from(fe.current.children).forEach((function(t){e.observe(t)}))),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[de,ke]);var xe=t.useMemo((function(){return $E((function(){ke()}))}),[ke]);t.useEffect((function(){return function(){xe.clear()}}),[xe]),t.useEffect((function(){Z(!0)}),[]),t.useEffect((function(){de(),ke()})),t.useEffect((function(){we(O_!==te)}),[we,te]),t.useImperativeHandle(f,(function(){return{updateIndicator:de,updateScrollButtons:ke}}),[de,ke]);var Se=(0,s.jsx)(A_,Rx({},O,{className:lb(Y.indicator,O.className),ownerState:$,style:Rx({},te,O.style)})),Ee=0,_e=t.Children.map(p,(function(e){if(!t.isValidElement(e))return null;var n=void 0===e.props.value?Ee:e.props.value;ce.set(n,Ee);var r=n===L;return Ee+=1,t.cloneElement(e,Rx({fullWidth:"fullWidth"===B,indicator:r&&!J&&Se,selected:r,selectionFollowsFocus:A,onChange:x,textColor:M,value:n},1!==Ee||!1!==L||e.props.tabIndex?{}:{tabIndex:0}))})),Ie=function(){var e={};e.scrollbarSizeListener=z?(0,s.jsx)(R_,{onChange:be,className:lb(Y.scrollableX,Y.hideScrollbar)}):null;var t=ie.start||ie.end,n=z&&("auto"===C&&t||!0===C);return e.scrollButtonStart=n?(0,s.jsx)(I,Rx({orientation:E,direction:o?"right":"left",onClick:ge,disabled:!ie.start},N,{className:lb(Y.scrollButtons,N.className)})):null,e.scrollButtonEnd=n?(0,s.jsx)(I,Rx({orientation:E,direction:o?"left":"right",onClick:me,disabled:!ie.end},N,{className:lb(Y.scrollButtons,N.className)})):null,e}();return(0,s.jsxs)(I_,Rx({className:lb(Y.root,v),ownerState:$,ref:n,as:g},U,{children:[Ie.scrollButtonStart,Ie.scrollbarSizeListener,(0,s.jsxs)(T_,{className:Y.scroller,ownerState:$,style:l({overflow:ue.overflow},q?"margin".concat(o?"Left":"Right"):"marginBottom",V?void 0:-ue.scrollbarWidth),ref:le,onScroll:xe,children:[(0,s.jsx)(C_,{"aria-label":a,"aria-labelledby":c,"aria-orientation":"vertical"===E?"vertical":null,className:Y.flexContainer,ownerState:$,onKeyDown:function(e){var t=fe.current,n=k_(t).activeElement;if("tab"===n.getAttribute("role")){var r="horizontal"===E?"ArrowLeft":"ArrowUp",i="horizontal"===E?"ArrowRight":"ArrowDown";switch("horizontal"===E&&o&&(r="ArrowRight",i="ArrowLeft"),e.key){case r:e.preventDefault(),__(t,n,E_);break;case i:e.preventDefault(),__(t,n,S_);break;case"Home":e.preventDefault(),__(t,null,S_);break;case"End":e.preventDefault(),__(t,null,E_)}}},ref:fe,role:"tablist",children:_e}),J&&Se]}),Ie.scrollButtonEnd]}))})),N_=P_,D_=["children"],M_=t.forwardRef((function(e,n){var r=e.children,i=HE(e,D_),o=zE();if(null===o)throw new TypeError("No TabContext provided");var a=t.Children.map(r,(function(e){return t.isValidElement(e)?t.cloneElement(e,{"aria-controls":qE(o,e.props.value),id:GE(o,e.props.value)}):null}));return(0,s.jsx)(N_,WE({},i,{ref:n,value:o.value,children:a}))}));function L_(e){return uE("MuiTabPanel",e)}sE("MuiTabPanel",["root"]);var F_=["children","className","value"],B_=OS("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){return{padding:e.theme.spacing(3)}})),j_=t.forwardRef((function(e,t){var n=NS({props:e,name:"MuiTabPanel"}),r=n.children,i=n.className,o=n.value,a=HE(n,F_),u=WE({},n),c=function(e){return yS({root:["root"]},L_,e.classes)}(u),l=zE();if(null===l)throw new TypeError("No TabContext provided");var f=qE(l,o),h=GE(l,o);return(0,s.jsx)(B_,WE({"aria-labelledby":h,className:lb(c.root,i),hidden:o!==l.value,id:f,ref:t,role:"tabpanel",ownerState:u},a,{children:o===l.value&&r}))})),V_=j_;0===pt.apps.length&&pt.initializeApp({apiKey:"AIzaSyAllL-9VVdZcFC3SII38DaFyaMYZi1UBUY",authDomain:"react-todo-111f7.firebaseapp.com",projectId:"react-todo-111f7",storageBucket:"react-todo-111f7.appspot.com",messagingSenderId:"326985294509",appId:"1:326985294509:web:04eb790ff4f0c6c22c5c24"});var U_=function(){var e=u((0,t.useState)([]),2),n=e[0],r=e[1];(0,t.useEffect)((function(){pt.firestore().collection("product").get().then((function(e){var t=e.docs.map((function(e){return{id:e.id,category:e.data().category,name:e.data().name,price:e.data().price,stocked:e.data().stocked}}));r(t)}))}),[]);var i=u((0,t.useState)("1"),2),o=i[0],a=i[1];return(0,s.jsx)(vS,{sx:{width:"100%",typography:"body1"},children:(0,s.jsxs)(UE,{value:o,children:[(0,s.jsx)(vS,{sx:{borderBottom:1,borderColor:"divider"},children:(0,s.jsxs)(M_,{onChange:function(e,t){a(t)},"aria-label":"lab API tabs example",children:[(0,s.jsx)(jE,{label:"\u691c\u7d22 2",value:"1"}),(0,s.jsx)(jE,{label:"\u767b\u9332",value:"2"})]})}),(0,s.jsx)(V_,{value:"1",children:(0,s.jsx)(y,{products:n})}),(0,s.jsx)(V_,{value:"2",children:(0,s.jsx)(ab,{})})]})})},z_=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q_(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){e.waiting&&t&&t.onUpdate&&t.onUpdate(e);var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var G_=function(e){e&&e instanceof Function&&n.e(377).then(n.bind(n,377)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))},W_=function(e){var n=e.registration,r=u((0,t.useState)(!!n.waiting),2),i=r[0],o=r[1];return i?(0,s.jsxs)("div",{style:{width:"100%",backgroundColor:"blue"},children:[(0,s.jsx)("span",{children:"\u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u307e\u3057\u305f\u3002\ud83c\udf89"}),(0,s.jsx)("button",{onClick:function(){var e;null===(e=n.waiting)||void 0===e||e.postMessage({type:"SKIP_WAITING"}),o(!1),window.location.reload()},children:"\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8"})]}):(0,s.jsx)(s.Fragment,{})};i.render((0,s.jsx)(t.StrictMode,{children:(0,s.jsx)(U_,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/pwa-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/pwa-app","/service-worker.js");z_?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):q_(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):q_(t,e)}))}}({onUpdate:function(e){e.waiting&&i.render((0,s.jsx)(W_,{registration:e}),document.querySelector(".SW-update-dialog"))}}),G_()}()}();
//# sourceMappingURL=main.9bb976b2.js.map